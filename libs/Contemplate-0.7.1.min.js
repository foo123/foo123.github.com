/**
*  Contemplate
*  Light-weight Template Engine for PHP, Python, Node and client-side JavaScript
*
*  @version: 0.7.1
*  https://github.com/foo123/Contemplate
*
*  @inspired by : Simple JavaScript Templating, John Resig - http://ejohn.org/ - MIT Licensed
*  http://ejohn.org/blog/javascript-micro-templating/
*
**/
!function(e,t,n){"use strict";var r,i="object"==typeof module&&module.exports,l="function"==typeof define&&define.amd;i?module.exports=(module.$deps=module.$deps||{})[t]=module.$deps[t]||n.call(e,{NODE:module})||1:l&&"function"==typeof require&&"function"==typeof require.specified&&require.specified(t)?define(t,["require","exports","module"],function(t,r,i){return n.call(e,{AMD:i})}):t in e||(e[t]=r=n.call(e,{})||1)&&l&&define(t,[],function(){return r})}(this,"Contemplate",function(){"use strict";function e(t,n){var r,i=null,l=null;if(i=isNaN(t)?t?t.toUpperCase():"HTML_SPECIALCHARS":e.constMappingTable[t],l=isNaN(n)?n?n.toUpperCase():"ENT_COMPAT":e.constMappingQuoteStyle[n],"HTML_SPECIALCHARS"!==i&&"HTML_ENTITIES"!==i)throw new Error("Table: "+i+" not supported");if(r=i+"__"+l,e.tbls[r])return e.tbls[r];var o,u={},s={};u[38]="&amp;","HTML_ENTITIES"===i&&(u[160]="&nbsp;",u[161]="&iexcl;",u[162]="&cent;",u[163]="&pound;",u[164]="&curren;",u[165]="&yen;",u[166]="&brvbar;",u[167]="&sect;",u[168]="&uml;",u[169]="&copy;",u[170]="&ordf;",u[171]="&laquo;",u[172]="&not;",u[173]="&shy;",u[174]="&reg;",u[175]="&macr;",u[176]="&deg;",u[177]="&plusmn;",u[178]="&sup2;",u[179]="&sup3;",u[180]="&acute;",u[181]="&micro;",u[182]="&para;",u[183]="&middot;",u[184]="&cedil;",u[185]="&sup1;",u[186]="&ordm;",u[187]="&raquo;",u[188]="&frac14;",u[189]="&frac12;",u[190]="&frac34;",u[191]="&iquest;",u[192]="&Agrave;",u[193]="&Aacute;",u[194]="&Acirc;",u[195]="&Atilde;",u[196]="&Auml;",u[197]="&Aring;",u[198]="&AElig;",u[199]="&Ccedil;",u[200]="&Egrave;",u[201]="&Eacute;",u[202]="&Ecirc;",u[203]="&Euml;",u[204]="&Igrave;",u[205]="&Iacute;",u[206]="&Icirc;",u[207]="&Iuml;",u[208]="&ETH;",u[209]="&Ntilde;",u[210]="&Ograve;",u[211]="&Oacute;",u[212]="&Ocirc;",u[213]="&Otilde;",u[214]="&Ouml;",u[215]="&times;",u[216]="&Oslash;",u[217]="&Ugrave;",u[218]="&Uacute;",u[219]="&Ucirc;",u[220]="&Uuml;",u[221]="&Yacute;",u[222]="&THORN;",u[223]="&szlig;",u[224]="&agrave;",u[225]="&aacute;",u[226]="&acirc;",u[227]="&atilde;",u[228]="&auml;",u[229]="&aring;",u[230]="&aelig;",u[231]="&ccedil;",u[232]="&egrave;",u[233]="&eacute;",u[234]="&ecirc;",u[235]="&euml;",u[236]="&igrave;",u[237]="&iacute;",u[238]="&icirc;",u[239]="&iuml;",u[240]="&eth;",u[241]="&ntilde;",u[242]="&ograve;",u[243]="&oacute;",u[244]="&ocirc;",u[245]="&otilde;",u[246]="&ouml;",u[247]="&divide;",u[248]="&oslash;",u[249]="&ugrave;",u[250]="&uacute;",u[251]="&ucirc;",u[252]="&uuml;",u[253]="&yacute;",u[254]="&thorn;",u[255]="&yuml;"),"ENT_NOQUOTES"!==l&&(u[34]="&quot;"),"ENT_QUOTES"===l&&(u[39]="&#39;"),u[60]="&lt;",u[62]="&gt;";for(o in u)u.hasOwnProperty(o)&&(s[String.fromCharCode(o)]=u[o]);return"ENT_QUOTES"===l&&(s["'"]="&#039;"),e.tbls[r]=s}function t(t,n,r,i){var l=e("HTML_ENTITIES",n),o="";if(t=null==t?"":t+"",!l)return!1;if(i||null==i)for(o in l)l.hasOwnProperty(o)&&(t=t.split(o).join(l[o]));else t=t.replace(Y,function(e,t,n){for(o in l)l.hasOwnProperty(o)&&(t=t.split(o).join(l[o]));return t+n});return t}function n(e){return encodeURIComponent(""+e).replace(X,"%21").replace(z,"%27").replace(J,"%28").replace(Q,"%29").replace(V,"%2A").replace(W,"+")}function r(e,t,n,r){n=n||" ";var i=e.length>=t?"":new Array(1+t-e.length>>>0).join(n);return r?e+i:i+e}function i(e,t,n,i,l,o){var u=i-e.length;return u>0&&(e=n||!l?r(e,i,o,n):e.slice(0,t.length)+r("",u,"0",!0)+e.slice(t.length)),e}function l(e,t,n,l,o,u,s){var a=e>>>0;return n=n&&a&&{2:"0b",8:"0",16:"0x"}[t]||"",e=n+r(a.toString(t),u||0,"0",!1),i(e,n,l,o,s)}function o(e,t,n,r,l,o){return null!=r&&(e=e.slice(0,r)),i(e,"",t,n,l,o)}function u(){var e=arguments,t=0,n=e[t++],u=function(n,u,s,a,c,f,p){var d,_,O,h,E;if("%%"==n)return"%";var g,m=!1,C="",L=!1,v=!1,T=" ",b=s.length;for(g=0;s&&b>g;g++)switch(s.charAt(g)){case" ":C=" ";break;case"+":C="+";break;case"-":m=!0;break;case"'":T=s.charAt(g+1);break;case"0":L=!0;break;case"#":v=!0}if(a=a?"*"==a?+e[t++]:"*"==a.charAt(0)?+e[a.slice(1,-1)]:+a:0,0>a&&(a=-a,m=!0),!isFinite(a))throw new Error("sprintf: (minimum-)width must be finite");switch(f=f?"*"==f?+e[t++]:"*"==f.charAt(0)?+e[f.slice(1,-1)]:+f:"fFeE".indexOf(p)>-1?6:"d"==p?0:void 0,E=u?e[u.slice(0,-1)]:e[t++],p){case"s":return o(String(E),m,a,f,L,T);case"c":return o(String.fromCharCode(+E),m,a,f,L);case"b":return l(E,2,v,m,a,f,L);case"o":return l(E,8,v,m,a,f,L);case"x":return l(E,16,v,m,a,f,L);case"X":return l(E,16,v,m,a,f,L).toUpperCase();case"u":return l(E,10,v,m,a,f,L);case"i":case"d":return d=+E||0,d=Math.round(d-d%1),_=0>d?"-":C,E=_+r(String(Math.abs(d)),f,"0",!1),i(E,_,m,a,L);case"e":case"E":case"f":case"F":case"g":case"G":return d=+E,_=0>d?"-":C,O=["toExponential","toFixed","toPrecision"]["efg".indexOf(p.toLowerCase())],h=["toString","toUpperCase"]["eEfFgG".indexOf(p)%2],E=_+Math.abs(d)[O](f),i(E,_,m,a,L)[h]();default:return n}};return n.replace(Z,u)}function s(e,t){return t=t?(t+"").replace(et,"\\$1"):" \\s ",(e+"").replace(k("^["+t+"]+","g"),"")}function a(e,t){return t=t?(t+"").replace(et,"\\$1"):" \\s ",(e+"").replace(k("["+t+"]+$","g"),"")}function c(e,t){var n,r=0,i=0;for(e+="",t?(t+="",n=t.replace(et,"\\$1")):n=" \n\r	\f            ​\u2028\u2029　",r=e.length,i=0;r>i;i++)if(-1===n.indexOf(e.charAt(i))){e=e.substring(i);break}for(r=e.length,i=r-1;i>=0;i--)if(-1===n.indexOf(e.charAt(i))){e=e.substring(0,i+1);break}return-1===n.indexOf(e.charAt(0))?e:""}function f(e,t){var n,r,i,l=/\\?([a-z])/gi,o=function(e,t){return e=e.toString(),e.length<t?o("0"+e,t,"0"):e},u=["Sun","Mon","Tues","Wednes","Thurs","Fri","Satur","January","February","March","April","May","June","July","August","September","October","November","December"];i=function(e,t){return r[e]?r[e]():t},r={d:function(){return o(r.j(),2)},D:function(){return r.l().slice(0,3)},j:function(){return n.getDate()},l:function(){return u[r.w()]+"day"},N:function(){return r.w()||7},S:function(){var e=r.j();return 4>e|e>20&&(["st","nd","rd"][e%10-1]||"th")},w:function(){return n.getDay()},z:function(){var e=new Date(r.Y(),r.n()-1,r.j()),t=new Date(r.Y(),0,1);return Math.round((e-t)/864e5)},W:function(){var e=new Date(r.Y(),r.n()-1,r.j()-r.N()+3),t=new Date(e.getFullYear(),0,4);return o(1+Math.round((e-t)/864e5/7),2)},F:function(){return u[6+r.n()]},m:function(){return o(r.n(),2)},M:function(){return r.F().slice(0,3)},n:function(){return n.getMonth()+1},t:function(){return new Date(r.Y(),r.n(),0).getDate()},L:function(){var e=r.Y();return e%4===0&e%100!==0|e%400===0},o:function(){var e=r.n(),t=r.W(),n=r.Y();return n+(12===e&&9>t?1:1===e&&t>9?-1:0)},Y:function(){return n.getFullYear()},y:function(){return r.Y().toString().slice(-2)},a:function(){return n.getHours()>11?"pm":"am"},A:function(){return r.a().toUpperCase()},B:function(){var e=3600*n.getUTCHours(),t=60*n.getUTCMinutes(),r=n.getUTCSeconds();return o(Math.floor((e+t+r+3600)/86.4)%1e3,3)},g:function(){return r.G()%12||12},G:function(){return n.getHours()},h:function(){return o(r.g(),2)},H:function(){return o(r.G(),2)},i:function(){return o(n.getMinutes(),2)},s:function(){return o(n.getSeconds(),2)},u:function(){return o(1e3*n.getMilliseconds(),6)},e:function(){throw"Not supported (see source code of date() for timezone on how to add support)"},I:function(){var e=new Date(r.Y(),0),t=Date.UTC(r.Y(),0),n=new Date(r.Y(),6),i=Date.UTC(r.Y(),6);return e-t!==n-i?1:0},O:function(){var e=n.getTimezoneOffset(),t=Math.abs(e);return(e>0?"-":"+")+o(100*Math.floor(t/60)+t%60,4)},P:function(){var e=r.O();return e.substr(0,3)+":"+e.substr(3,2)},T:function(){return"UTC"},Z:function(){return 60*-n.getTimezoneOffset()},c:function(){return"Y-m-d\\TH:i:sP".replace(l,i)},r:function(){return"D, d M Y H:i:s O".replace(l,i)},U:function(){return n/1e3|0}};var s=function(e,t){return n=void 0===t?new Date:new Date(t instanceof Date?t:1e3*t),e.replace(l,i)};return s(e,t)}function p(e,t,n){var r,i=tt.length,l=f(t,n);for(r=0;i>r;r++)e[g](tt[r])&&(l=l.split(tt[r]).join(e[tt[r]]));return l}var d,_,O,h="0.7.1",E="prototype",g="hasOwnProperty",m=Object,C=Array,L=String,v=Function,T=m.keys,b=m[E],D=C[E],S=v[E],A=b.toString,N=S.call.bind(D.slice),y="undefined"!=typeof global&&"[object global]"===A.call(global),M=function(e){return e instanceof C||"[object Array]"===A.call(e)},I=function(e){return e instanceof m||"[object Object]"===A.call(e)},w=function(e){return null===e||"undefined"==typeof e?0:M(e)?e.length:I(e)?T(e).length:1},j=function(e){var t,n,r={},i=T(e),l=i.length;for(t=0;l>t;t++)n=i[t],r[e[n]]=n;return r},K=function(){return Math.floor((new Date).getTime()/1e3)},x=function(e,t){return new v(e,t)},k=function(e,t){return new RegExp(e,t||"")},F="undefined"!=typeof navigator?navigator.userAgent:"",H=(/Chrome\//.test(F),y?require("fs"):null),U=H?H.writeFileSync:null,P=H?H.readFileSync:null,R=H?H.existsSync:null,B=H?H.statSync:null,$=(H?H.realpathSync:null,H?H.writeFile:null),G=H?H.readFile:null,q=(H?H.exists:null,H?H.stat:null,H?H.realpath:null,function(e,t,n,r){var i;return i=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),r?(i.onload=function(){r(200===i.status?i.responseText:"")},i.open(e,t,!0),i.send(n),""):(i.open(e,t,!1),i.send(n),200===i.status?i.responseText:"")}),Y=/([\s\S]*?)(&(?:#\d+|#x[\da-f]+|[a-zA-Z][\da-z]*);|$)/g,X=/!/g,z=/'/g,J=/\(/g,Q=/\)/g,V=/\*/g,W=/%20/g,Z=/%%|%(\d+\$)?([-+\'#0 ]*)(\*\d+\$|\*|\d+)?(\.(\*\d+\$|\*|\d+))?([scboxXuideEfFgG])/g,et=/([\[\]\(\)\.\?\/\*\{\}\+\$\^\:])/g,tt=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sun","Mon","Tues","Wednes","Thurs","Fri","Satur","January","February","March","April","May","June","July","August","September","October","November","December","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];e.constMappingTable={},e.constMappingQuoteStyle={},e.constMappingTable[0]="HTML_SPECIALCHARS",e.constMappingTable[1]="HTML_ENTITIES",e.constMappingQuoteStyle[0]="ENT_NOQUOTES",e.constMappingQuoteStyle[2]="ENT_COMPAT",e.constMappingQuoteStyle[3]="ENT_QUOTES",e.tbls={};var nt,rt,it,lt,ot,ut,st,at,ct,ft,pt,dt,_t,Ot,ht,Et,gt,mt,Ct,Lt,vt,Tt=!1,bt={},Dt={},St=!1,At=0,Nt="./",yt={},Mt={},It={},wt="<%",jt="%>",Kt="",xt="",kt="",Ft="' + \"\\n\" + '",Ht="",Ut=y?require("os").EOL:"\n",Pt=!0,Rt=null,Bt=0,$t="    ",Gt=0,qt=0,Yt=0,Xt=0,zt=2,Jt=null,Qt=null,Vt=null,Wt=null,Zt=null,en=-1,tn=null,nn=0,rn=/[\W]+/g,ln=/\n\r|\r\n|\n|\r/g,on=/'/g,un=/^[a-zA-Z_]/,sn=/^[0-9]/,an=/^[a-zA-Z0-9_]/i,cn=/^\s/,fn={specials:null,replacements:null,functions:null,controls:null,controls2:null},pn=["include","template","extends","endblock","block","elsefor","endfor","for","set","unset","isset","elseif","else","endif","if"],dn=["htmlselect","htmltable","(plg_|plugin_)([a-zA-Z0-9_]+)","haskey","lowercase","uppercase","camelcase","snakecase","pluralise","concat","ltrim","rtrim","trim","sprintf","addslashes","stripslashes","inline","tpl","uuid","html","url","count","ldate","date","now","locale","dq","q","l","s","n","f","e"],_n={},On=function(){qt=0,Yt=0,Xt=0,zt=2,Bt=0,Jt=[],Qt={},Vt=[[null,-1]],tn=null,nt={},rt={},it="_",nt[it]=nt[it]||{},rt[it]=rt[it]||{}},hn=function(){qt=0,Yt=0,Xt=0,zt=2,Bt=0,Jt=null,Qt=null,Vt=null,nt=null,rt=null,it=null,Gt=0,Rt=[]},En=function(){Rt.push([qt,Yt,Xt,zt,Bt,Jt,Qt,Vt,tn,nt,rt,it])},gn=function(){var e=Rt.pop();qt=e[0],Yt=e[1],Xt=e[2],zt=e[3],Bt=e[4],Jt=e[5],Qt=e[6],Vt=e[7],tn=e[8],nt=e[9],rt=e[10],it=e[11]},mn=function(e,t){if(2>arguments.length&&(t=Bt),t>=0){t=0===t?t:t+1;var n=new C(t).join($t);e=n+e.split(ln).join(Ut+n)}return e},Cn=function(){var e=N(arguments);if(!(e.length<1)){var t,n,r,i=e.shift(),l=e.length;for(t=0;l>t;t++)if(r=e[t])for(n in r)r[g](n)&&(i[n]=r[n]);return i}},Ln=function(e,t){var n,r;if(t)r=c(t).split(" "),wt=c(r[0]),jt=c(r[1]);else{for(n=e.split("\n");n.length&&!c(n[0]).length;)n.shift();n.length&&(r=c(n.shift()).split(" "),wt=c(r[0]),jt=c(r[1])),e=n.join("\n")}return e},vn=function(e){for(var t,n=0,r=e.length,i="";r>n;)switch(t=e.charAt(n++),t.charCodeAt(0)){case 34:i+="&quot;";break;case 38:i+="&amp;";break;case 39:i+="&#39;";break;case 60:i+="&lt;";break;case 62:i+="&gt;";break;default:i+=t}return i},Tn=function(e,t){var n;return(n=Mt[e])?n[1]?St&&t?(t(n[0]),""):n[0]:y&&H?St&&t?(G(n[0],{encoding:d.ENCODING},function(e,n){t(e?"":n)}),""):P(n[0],{encoding:d.ENCODING}):"#"===n[0].charAt(0)?St&&t?(t(window.document.getElementById(n[0].substring(1)).innerHTML||""),""):window.document.getElementById(n[0].substring(1)).innerHTML||"":St&&t?(q("GET",n[0],null,t),""):q("GET",n[0]):""},bn=function(e){return' ("undefined" !== typeof('+e+")) "},Dn=function(e){e=e.split(",");var t=c(e.shift()),n=c(e.join(","));return"';"+Ut+mn(t+" = ("+n+");")+Ut},Sn=function(e){return e&&e.length?(e=c(e),"';"+Ut+mn('if ("undefined" !== typeof('+e+")) delete "+e+";")+Ut):"'; "+Ut},An=function(e){var t="';"+mn(st({EOL:Ut,IFCOND:e}));return Yt++,Bt++,t},Nn=function(e){Bt--;var t="';"+mn(at({EOL:Ut,ELIFCOND:e}));return Bt++,t},yn=function(){Bt--;var e="';"+mn(ct({EOL:Ut}));return Bt++,e},Mn=function(){Yt--,Bt--;var e="';"+mn(ft({EOL:Ut}));return e},In=function(e){var t,n,r,i,l,o=e.indexOf(" as "),u=e.indexOf(" in ");if(u>-1?(e=[e.slice(0,u),e.slice(u+4)],n=c(e[1]),r="_loc_"+ ++Gt,i=e[0].split(",")):(e=[e.slice(0,o),e.slice(o+4)],n=c(e[0]),r="_loc_"+ ++Gt,i=e[1].split("=>")),l=i.length>=2){var s=c(i[0]),a=c(i[1]),f="_loc_"+ ++Gt,p="_loc_"+ ++Gt,d="_loc_"+ ++Gt;nt[it][rt[it][s]]=1,nt[it][rt[it][a]]=1,t="';"+mn(dt({EOL:Ut,O:n,_O:r,_OK:f,K:s,_K:p,_L:d,V:a,ASSIGN1:""+s+" = "+f+"["+p+"]; "+a+" = "+r+"["+s+"];"})),zt=2,Bt+=2}else{var a=c(i[0]),p="_loc_"+ ++Gt,d="_loc_"+ ++Gt;nt[it][rt[it][a]]=1,t="';"+mn(pt({EOL:Ut,O:n,_O:r,_K:p,_L:d,V:a,ASSIGN1:""+a+" = "+r+"["+p+"];"})),zt=1,Bt+=2}return qt++,Xt++,t},wn=function(){var e;return 2===zt?(Xt--,Bt+=-2,e="';"+mn(Ot({EOL:Ut})),Bt+=1):(Xt--,Bt+=-2,e="';"+mn(_t({EOL:Ut})),Bt+=1),e},jn=function(){var e;return Xt===qt?2===zt?(qt--,Xt--,Bt+=-2,e="';"+mn(gt({EOL:Ut}))):(qt--,Xt--,Bt+=-2,e="';"+mn(Et({EOL:Ut}))):(qt--,Bt+=-1,e="';"+mn(ht({EOL:Ut}))),e},Kn=function(e){return It[e]||(En(),On(),It[e]=" "+qn(Ln(Tn(e)),!1)+"'; "+Ut,gn()),mn(It[e])},xn=function(e){e=e.split(",");var t=c(e.shift()),n=e.join(",");return"' + %tpl( \""+t+'", '+n+" ); "+Ut},kn=function(e){return tn=c(e),"'; "+Ut},Fn=function(e){return e=c(e),Jt.push([e,-1,-1,0,Vt[0][1]]),Qt[e]=Qt[e]?Qt[e]+1:1,en=Jt.length,Vt.unshift([e,en-1]),Wt=e,Zt=null,it=e,nt[it]=nt[it]||{},rt[it]=rt[it]||{},"' +  __||"+e+"||__"},Hn=function(){if(1<Vt.length){var e=Vt.shift();return Zt=e[0],en=e[1]+1,Wt=null,it=Vt.length?Vt[0][0]:"_","__||/"+e[0]+"||__"}return it="_",""},Un=function(e,t,n){var r,i,l,o,u;for(r=e.split(t),i=r.length,l=[],o=0;i>o;o++)u=r[o].split(n),l.push(u[0]),u.length>1&&l.push(u[1]);return l},Pn=function Wn(e,t,n){if(t)switch(n=n||"",t){case"isset":return n=n.replace(fn.controls2,Wn),bn(n);case"set":return n=n.replace(fn.controls2,Wn),Dn(n);case"unset":return n=n.replace(fn.controls2,Wn),Sn(n);case"if":return n=n.replace(fn.controls2,Wn),An(n);case"elseif":return n=n.replace(fn.controls2,Wn),Nn(n);case"else":return yn(n);case"endif":return Mn(n);case"for":return n=n.replace(fn.controls2,Wn),In(n);case"elsefor":return wn(n);case"endfor":return jn(n);case"extends":return kn(n);case"block":return Fn(n);case"endblock":return Hn(n);case"template":return n=n.replace(fn.controls2,Wn),xn(n);case"include":return Kn(n)}return e},Rn=function(e){for(var t,n,r,i,l,o,u,s,a,c,f=[],p=Jt.length;p--;)n=Jt[p],t=n[0],u=n[1],s=n[2],a=n[3],c=n[4],r="__||"+t+"||__",i="__i__.renderBlock( '"+t+"' ); ",l=r.length,o=i.length,c>-1&&(Jt[c][3]+=o-(s-u+1)),s+=a,1===Qt[t]&&f.push([t,ut({EOL:Ut,BLOCKCODE:e.slice(u+l,s-l-1)+"';"})]),e=e.slice(0,u)+i+e.slice(s+1),1<=Qt[t]&&Qt[t]--;return[e,f]},Bn=function(e,t,n,r){for(var i=t,l=!1,o="";r>n&&(i+=o=e[n++],t!==o||l);)l=!l&&"\\"===o;return i},$n=function Zn(e,t,n){if(un.test(e[t])){var r,i,l,o,u,s,a,c,f,p,d,_,O,h,E={},g=[],m=0;for(l=e[t++];n>t&&an.test(e[t]);)l+=e[t++];for(u=l,s="data['"+u+"']",a="",Gt++,i="__##VAR"+Gt+"##__",c=u.length,m=0;n>t&&cn.test(e[t]);)m++,t++;for(p=0;n>t&&("."===e[t]||"["===e[t]);){for(d=e[t++];n>t&&cn.test(e[t]);)m++,t++;if("."===d){for(o="";n>t&&an.test(e[t]);)o+=e[t++];if(f=o.length,!f)break;a+="['"+o+"']",c+=m+1+f,m=0}else if("["===d){if(p++,_=e[t],'"'===_||"'"===_)o=Bn(e,_,t+1,n),Gt++,O="__##STR"+Gt+"##__",E[O]=o,a+=d+O,f=o.length,t+=f,c+=m+1+f,m=0;else if(sn.test(_)){for(o=e[t++];n>t&&sn.test(e[t]);)o+=e[t++];a+=d+o,f=o.length,c+=m+1+f,m=0}else if("$"===_)h=e.slice(t+1),r=Zn(h,0,h.length),r&&(o=r[r.length-1],a+=d+o[0],f=o[4],t+=f+1,c+=m+2+f,m=0,g=g.concat(r));else{if("]"!==_)break;if(!(p>0))break;p--,a+=d+e[t++],c+=m+2,m=0}for(;n>t&&cn.test(e[t]);)m++,t++;if("]"===e[t]){if(!(p>0))break;p--,a+=e[t++],c+=m+1,m=0}}for(;n>t&&cn.test(e[t]);)m++,t++}return g.push([i,u,s,a,c,E]),g}return null},Gn=function(e,t,n,r){if(r&&_n[g](r)){var i=_n[r];return i instanceof d.InlineTemplate?i.render():i}return"Contemplate."+t},qn=function(e,t){var n,r,i,l,o,u,s,a,c,f,p,_,O,h,E,m,C,L,v;for(n=Un(e,wt,jt),r=n.length,u=!1,i="",o=0;r>o;o++){if(l=n[o],u){for(s="	"+l.replace(fn.specials," ")+"",_=s.length,c=[],a={},O=0,h="",E="";_>O;)if(h=s[O++],'"'===h||"'"===h)m=Bn(s,h,O,_),Gt++,p="__##STR"+Gt+"##__",a[p]=m,E+=p,O+=m.length-1;else if("$"===h)if(m=$n(s,O,_)){for(C=0;C<m.length;C++)L=m[C],p=L[0],rt[it][p]=L[1],a=Cn(a,L[5]);E+=p,O+=L[4],c=c.concat(m)}else E+="$";else E+=h;for(s=E,Wt=null,Zt=null,en=-1,s=s.replace(fn.controls,Pn).replace(fn.functions,Gn).replace(fn.replacements,"' + ($1) + '"),C=c.length-1;C>=0;C--)p=c[C][0],f=c[C][1],s=s.split(p+"__RAW__").join(f).split(p).join((nt[it][g](f)?"_loc_"+f:c[C][2])+c[C][3]);for(v=d.InlineTemplate.multisplit(s,T(a),1),s="",C=0;C<v.length;C++)s+=v[C][0]?v[C][1]:a[v[C][1]];l=s.split("	").join(Kt).split("").join(mn(xt)),Wt?(Wt="__||"+Wt+"||__",Jt[en-1][1]=i.length+s.indexOf(Wt)):Zt&&(Zt="__||/"+Zt+"||__",Jt[en-1][2]=i.length+s.indexOf(Zt)+Zt.length),u=!1}else Pt&&(l=l.split("\\").join("\\\\")),l=l.split("'").join("\\'").split(/\n/).join(Ht),u=!0;i+=l}return!1!==t?Jt.length>0?Rn(i):[i,[]]:i},Yn=function(e){return Nt+e.replace(rn,"_")+"_tpl.js"},Xn=function(e){return"Contemplate_"+e.replace(rn,"_")+"_Cached"},zn=function(e,t){On();var n,r,i,l,o=qn(Ln(Tn(e),t)),u={};for(hn(),l=o[0],o=o[1],r=o.length,i=tn?mt({EOL:Ut}):Ct({EOL:Ut,FCODE:"__p__ += '"+l+"';"}),n=0;r>n;n++)u[o[n][0]]=x("Contemplate,__i__",o[n][1]);return[x("Contemplate,__i__",i),u]},Jn=function(e,t,n,r){On();var i,l,o,u,s,a,c,f=qn(Ln(Tn(e),r));for(hn(),c=f[0],f=f[1],s=f.length,a=[],u=0;s>u;u++)a.push(Ut+ot({EOL:Ut,BLOCKNAME:f[u][0],BLOCKMETHODNAME:f[u][0],BLOCKMETHODCODE:mn(f[u][1],1)}));a=a.length?Ut+"this._blocks = { "+Ut+mn(a.join(","+Ut),1)+Ut+"};"+Ut:"",tn?(l="this.extend( '"+tn+"' );",o=Lt({EOL:Ut})):(l="",o=vt({EOL:Ut,RCODE:"__p__ += '"+c+"';"})),i=kt?kt:"";var p=lt({EOL:Ut,CLASSNAME:n,TPLID:e,PREFIXCODE:i,EXTENDCODE:mn(l,2),BLOCKS:mn(a,2),RENDERCODE:mn(o,3)});return Vn(t,p)},Qn=function(e,t){var n;if(n=Mt[e]){if(n[1]){var r,i;return t.parsed?i=d.Template(e,x("Contemplate,__i__",t.parsed)):(r=zn(e,t.separators),i=d.Template(e,r[0]).setBlocks(r[1])),tn&&i.extend(d.tpl(tn)),i}if(y||(At=d.CACHE_TO_DISK_NONE),!0!==t.autoUpdate&&d.CACHE_TO_DISK_NOUPDATE===At){var l=Yn(e),o=Xn(e);if(R(l)||Jn(e,l,o,t.separators),R(l)){var u=require(l)(d),i=(new u).setId(e);return i}return null}if(!0===t.autoUpdate||d.CACHE_TO_DISK_AUTOUPDATE===At){var l=Yn(e),o=Xn(e);if(R(l)){var s=B(l),a=B(n[0]);s.mtime.getTime()<=a.mtime.getTime()&&Jn(e,l,o,t.separators)}else Jn(e,l,o,t.separators);if(R(l)){var u=require(l)(d),i=(new u).setId(e);return i}return null}var r=zn(e,t.separators),i=d.Template(e,r[0]).setBlocks(r[1]);return tn&&i.extend(d.tpl(tn)),i}return null},Vn=function(e,t,n){return n?void $(e,t,{encoding:d.ENCODING},function(e){n(!e)}):U(e,t,{encoding:d.ENCODING})};return O=function er(e,t,n){return this instanceof er?(this.id=null,this._renderer=null,this.tpl=er.multisplit(e||"",t||{}),void(!0===n&&(this._renderer=er.compile(this.tpl)))):new er(e,t,n)},O.multisplit=function(e,t,n){var r,i,l,o,u,s,a,c,f,p;n=!!n,s=[[1,e]];for(r in t)if(t.hasOwnProperty(r)){for(c=[],i=n?t[r]:r,l=[0,t[r]],o=0,f=s.length;f>o;o++)if(1===s[o][0]){if(a=s[o][1].split(i),p=a.length,c.push([1,a[0]]),p>1)for(u=0;p-1>u;u++)c.push(l),c.push([1,a[u+1]])}else c.push(s[o]);s=c}return s},O.compile=function(e){var t,n,r,i=e.length,l="return (";for(t=0;i>t;t++)n=e[t][0],r=e[t][1],l+=n?"'"+r.replace(on,"\\'").replace(ln,"' + \"\\n\" + '")+"'":" + String(args['"+r+"']) + ";return l+=");",x("args",l)},O[E]={constructor:O,id:null,tpl:null,_renderer:null,dispose:function(){return this.id=null,this.tpl=null,this._renderer=null,this},render:function(e){if(e=e||[],this._renderer)return this._renderer(e);var t,n,r,i=this.tpl,l=i.length,o="";for(t=0;l>t;t++)n=i[t][0],r=i[t][1],o+=n?r:e[r];return o}},_=function tr(e,t){return this instanceof tr?(this.id=null,this.d=null,void(e&&(this.id=e,this._renderer=t))):new tr(e,t)},_[E]={constructor:_,id:null,d:null,_extends:null,_blocks:null,_renderer:null,dispose:function(){var e=this;return e._renderer=null,e._blocks=null,e._extends=null,e.d=null,e.id=null,e},setId:function(e){return e&&(this.id=e),this},extend:function(e){return this._extends=e&&e.substr?d.tpl(e):e,this},setRenderFunction:function(e){return this._renderer=e,this},setBlocks:function(e){return"object"==typeof e&&(this._blocks=Cn(this._blocks||{},e)),this},renderBlock:function(e,t){return t||(t=this),this._blocks&&this._blocks[g](e)?this._blocks[e](d,t):this._extends?this._extends.renderBlock(e,t):""},render:function(e,t){var n="";return t||(t=this),this._extends?n=this._extends.render(e,t):this._renderer&&(t.d=e,n=this._renderer(d,t)),this.d=null,n}},d={VERSION:h,CACHE_TO_DISK_NONE:0,CACHE_TO_DISK_AUTOUPDATE:2,CACHE_TO_DISK_NOUPDATE:4,ENCODING:"utf8",Template:_,InlineTemplate:O,init:function(){Tt||(fn.specials=k("[\\n\\r\\v\\t]","g"),fn.replacements=k("\\t[ ]*(.*?)[ ]*\\v","g"),fn.controls=k("\\t[ ]*%("+pn.join("|")+")\\b[ ]*\\((.*)\\)","g"),fn.controls2=k("%("+pn.join("|")+")\\b[ ]*\\((.*)\\)","g"),fn.functions=k("%("+dn.join("|")+")\\b","g"),Ht=Ft,Kt="'; "+Ut,xt=Ut+"__p__ += '",lt=O.compile(O.multisplit(["#PREFIXCODE#","","!function (root, moduleName, moduleDefinition) {","    // export the module","    // node, CommonJS, etc..","    if ( 'object' === typeof(module) && module.exports ) module.exports = moduleDefinition();","    // AMD, etc..","    else if ( 'function' === typeof(define) && define.amd ) define( moduleDefinition );","    // browser, etc..","    else root[ moduleName ] = moduleDefinition();","","}(this, '#CLASSNAME#', function( ){",'    "use strict";',"    return function( Contemplate ) {","    /* Contemplate cached template '#TPLID#' */","    ","    /* constructor */","    function #CLASSNAME#(id)","    {","        /* initialize internal vars */","        ","        this._renderer = id;","        this._blocks = null;","        this._extends = null;","        this.d = null;","        this.id = id;","        ","        /* tpl-defined blocks render code starts here */","#BLOCKS#","        /* tpl-defined blocks render code ends here */","        ","        /* extend tpl assign code starts here */","#EXTENDCODE#","        /* extend tpl assign code ends here */","    };","    ","    /* extends main Contemplate.Template class */","    #CLASSNAME#.prototype = Object.create(Contemplate.Template.prototype);","    /* tpl render method */","    #CLASSNAME#.prototype.render = function( data, __i__ ) {","        if ( !__i__ ) __i__ = this;","        var __p__ = '';","        if ( this._extends )","        {","            __p__ = this._extends.render(data, __i__);","        }","        else","        {","            /* tpl main render code starts here */","#RENDERCODE#","            /* tpl main render code ends here */","        }","        this.d = null;","        return __p__;","    };","    ","    // export it","    return #CLASSNAME#;","    };","});",""].join("#EOL#"),{"#EOL#":"EOL","#PREFIXCODE#":"PREFIXCODE","#CLASSNAME#":"CLASSNAME","#TPLID#":"TPLID","#BLOCKS#":"BLOCKS","#EXTENDCODE#":"EXTENDCODE","#RENDERCODE#":"RENDERCODE"})),ot=O.compile(O.multisplit(["","/* tpl block render method for block '#BLOCKNAME#' */","'#BLOCKMETHODNAME#': function(Contemplate,__i__) {","#BLOCKMETHODCODE#","}",""].join("#EOL#"),{"#EOL#":"EOL","#BLOCKNAME#":"BLOCKNAME","#BLOCKMETHODNAME#":"BLOCKMETHODNAME","#BLOCKMETHODCODE#":"BLOCKMETHODCODE"})),ut=O.compile(O.multisplit(["","var __p__ = '', data = __i__.d;","#BLOCKCODE#","return __p__;",""].join("#EOL#"),{"#EOL#":"EOL","#BLOCKCODE#":"BLOCKCODE"})),st=O.compile(O.multisplit(["","if (#IFCOND#)","{",""].join("#EOL#"),{"#EOL#":"EOL","#IFCOND#":"IFCOND"})),at=O.compile(O.multisplit(["","}","else if (#ELIFCOND#)","{",""].join("#EOL#"),{"#EOL#":"EOL","#ELIFCOND#":"ELIFCOND"})),ct=O.compile(O.multisplit(["","}","else","{",""].join("#EOL#"),{"#EOL#":"EOL"})),ft=O.compile(O.multisplit(["","}",""].join("#EOL#"),{"#EOL#":"EOL"})),dt=O.compile(O.multisplit(["","var #_O# = #O#, #_OK# = Contemplate.keys(#_O#),","    #_K#, #K#, #V#, #_L# = #_OK# ? #_OK#.length : 0;","if (#_L#)","{","    for (#_K#=0; #_K#<#_L#; #_K#++)","    {","        #ASSIGN1#","        ",""].join("#EOL#"),{"#EOL#":"EOL","#O#":"O","#_O#":"_O","#_OK#":"_OK","#_K#":"_K","#K#":"K","#V#":"V","#_L#":"_L","#ASSIGN1#":"ASSIGN1"})),pt=O.compile(O.multisplit(["","var #_O# = Contemplate.values(#O#),","    #_K#, #V#, #_L# = #_O# ? #_O#.length : 0;","if (#_L#)","{","    for (#_K#=0; #_K#<#_L#; #_K#++)","    {","        #ASSIGN1#","        ",""].join("#EOL#"),{"#EOL#":"EOL","#O#":"O","#_O#":"_O","#_K#":"_K","#V#":"V","#_L#":"_L","#ASSIGN1#":"ASSIGN1"})),Ot=O.compile(O.multisplit(["","    }","}","else","{  ",""].join("#EOL#"),{"#EOL#":"EOL"})),_t=O.compile(O.multisplit(["","    }","}","else","{  ",""].join("#EOL#"),{"#EOL#":"EOL"})),gt=O.compile(O.multisplit(["","    }","}",""].join("#EOL#"),{"#EOL#":"EOL"})),Et=O.compile(O.multisplit(["","    }","}",""].join("#EOL#"),{"#EOL#":"EOL"})),ht=O.compile(O.multisplit(["","}",""].join("#EOL#"),{"#EOL#":"EOL"})),mt=O.compile(O.multisplit("return '';")),Ct=O.compile(O.multisplit(["","var __p__ = '', data = __i__.d;","#FCODE#","return __p__;",""].join("#EOL#"),{"#EOL#":"EOL","#FCODE#":"FCODE"})),Lt=O.compile(O.multisplit("__p__ = '';")),vt=O.compile(O.multisplit(["","__i__.d = data;","#RCODE#",""].join("#EOL#"),{"#EOL#":"EOL","#RCODE#":"RCODE"})),hn(),Tt=!0)},addPlugin:function(e,t){e&&t&&(t instanceof d.InlineTemplate?_n[e]=t:(_n[e]="Contemplate.plg_"+e,d["plg_"+e]=t))},setPrefixCode:function(e){e&&(kt=""+e)},setLocaleStrings:function(e){"object"==typeof e&&(bt=Cn(bt,e))},clearLocaleStrings:function(){bt={}},setPlurals:function(e){if("object"==typeof e){for(var t in e)e[g](t)&&null==e[t]&&(e[t]=t+"s");Dt=Cn(Dt,e)}},clearPlurals:function(){Dt={}},setTemplateSeparators:function(e){e&&(e.left&&(wt=""+e.left),e.right&&(jt=""+e.right))},setPreserveLines:function(e){arguments.length<1&&(e=!0),Ht=e?Ft:""},setCacheDir:function(e){Nt=a(e,"/")+"/"},setCacheMode:function(e){At=y?e:d.CACHE_TO_DISK_NONE},setSyncMode:function(e){St=!e},clearCache:function(e){yt={},e&&(It={})},add:function(e,t){if("object"==typeof e)for(var n in e)e[g](n)&&(M(e[n])?e[n][0]&&(Mt[n]=[e[n][0],!0]):Mt[n]=[e[n],!1]);else e&&t&&(M(t)?t[0]&&(Mt[e]=[t[0],!0]):Mt[e]=[t,!1])},parseTpl:function(e,t){var n,r,i=t&&t.separators?t.separators:null;return i&&(n=[wt,jt],wt=i[0],jt=i[1]),On(),r=qn(e),hn(),i&&(wt=n[0],jt=n[1]),r},tpl:function(e,t,n){if(e instanceof d.Template)return"object"==typeof t?e.render(t):e;n=Cn({autoUpdate:!1,refresh:!1,escape:!0,separators:null},n),Pt=!1!==n.escape,(n.refresh||!yt[e])&&(yt[e]=Qn(e,n));var r=yt[e];return"object"==typeof t?r.render(t):r},inline:function(e,t,n){return e instanceof d.InlineTemplate?e.render(t):d.InlineTemplate(e,t,n)},haskey:function(e){var t,n,r,i=A.call(e);if(!e||"[object Array]"!==i&&"[object Object]"!==i)return!1;for(t=arguments,r=e,n=1;n<t.length;n++){if(!r||!r[g](t[n]))return!1;r=r[t[n]]}return!0},q:function(e){return"'"+e+"'"},dq:function(e){return'"'+e+'"'},s:function(e){return L(e)},n:function(e){return parseInt(e,10)},f:function(e){return parseFloat(e,10)},e:vn,html:function(e,n){return t(e,n||"ENT_COMPAT","UTF-8")},url:n,count:w,addslashes:function(e){return(e+"").replace(/[\\"']/g,"\\$&").replace(/\u0000/g,"\\0")},stripslashes:function(e){return(e+"").replace(/\\(.?)/g,function(e,t){switch(t){case"\\":return"\\";case"0":return"\x00";case"":return"";default:return t}})},concat:function(){return N(arguments).join("")},trim:c,ltrim:s,rtrim:a,ucfirst:function(e){return e[0].toUpperCase()+e.substr(1)},lcfirst:function(e){return e[0].toLowerCase()+e.substr(1)},lowercase:function(e){return e.toLowerCase()},uppercase:function(e){return e.toUpperCase()},camelcase:function(e,t,n){return t=t||"_",n?e.split(t).map(d.ucfirst).join(""):d.lcfirst(e.split(t).map(d.ucfirst).join(""))},snakecase:function(e,t){return t=t||"_",e.replace(/([A-Z])/g,t+"$1").toLowerCase()},sprintf:u,time:K,date:function(e,t){return t||(t=K()),f(e,t)},ldate:function(e,t){return t||(t=K()),p(bt,e,t)},locale:function(e){return bt[g](e)?bt[e]:e},pluralise:function(e,t){return Dt[e]&&1!==t?Dt[e]:e},uuid:function(e){return[e||"UUID",++nn,K()].join("_")},htmltable:function(e,t){e=Cn({},e),t=Cn({},t||{});var n,r,i,l,o,u,s,a,c,f,p,_,O,h="",E="",m="",L="",v=[],T=!1,b=t[g]("tpl_row"),D=t[g]("tpl_cell"),S=null,A=null;if(b&&(t.tpl_row instanceof d.InlineTemplate||(t.tpl_row=d.InlineTemplate(t.tpl_row,{$row_class:"row_class",$row:"row"})),S=t.tpl_row),D&&(t.tpl_cell instanceof d.InlineTemplate||(t.tpl_cell=d.InlineTemplate(t.tpl_cell,{$cell:"cell"})),A=t.tpl_cell),h="<table",t.id&&(h+=" id='"+t.id+"'"),t["class"]&&(h+=" class='"+t["class"]+"'"),t.style&&(h+=" style='"+t.style+"'"),t.data)for(n in t.data)t.data[g](n)&&(h+=" data-"+n+"='"+t.data[n]+"'");h+=">",E="",(t.header||t.footer)&&(E="<td>"+(d.keys(e)||[]).join("</td><td>")+"</td>"),m=t.header?"<thead><tr>"+E+"</tr></thead>":"",L=t.footer?"<tfoot><tr>"+E+"</tr></tfoot>":"",h+=m,v=[],a=d.values(e)||[];for(o in a)if(a[g](o))for(c=a[o],M(c)||(c=[c]),f=d.values(c)||[],u=0,s=f.length;s>u;u++)v[u]||(v[u]=new C(s)),v[u][o]=f[u];for(p=t.odd?t.odd:"odd",_=t.even?t.even:"even",T=!1,o=0,s=v.length;s>o;o++){if(O=T?p:_,D)for(r="",l=0,i=v[o].length;i>l;l++)r+=A.render({cell:v[o][l]});else r="<td>"+v[o].join("</td><td>")+"</td>";h+=b?S.render({row_class:O,row:r}):"<tr class='"+O+"'>"+r+"</tr>",T=!T}return v=null,h+=L,h+="</table>"},htmlselect:function(e,t){e=Cn({},e),t=Cn({},t||{});var n,r,i,l,o="",u=t[g]("tpl_option"),s=null;if(u&&(t.tpl_option instanceof d.InlineTemplate||(t.tpl_option=new d.InlineTemplate(t.tpl_option,{$selected:"selected",$value:"value",$option:"option"})),s=t.tpl_option),o="<select",t.multiple&&(o+=" multiple"),t.disabled&&(o+=" disabled='disabled'"),t.name&&(o+=" name='"+t.name+"'"),t.id&&(o+=" id='"+t.id+"'"),t["class"]&&(o+=" class='"+t["class"]+"'"),t.style&&(o+=" style='"+t.style+"'"),t.data)for(n in t.data)t.data[g](n)&&(o+=" data-"+n+"='"+t.data[n]+"'");o+=">",t.selected?(M(t.selected)||(t.selected=[t.selected]),t.selected=j(t.selected)):t.selected={},t.optgroups&&(M(t.optgroups)||(t.optgroups=[t.optgroups]),t.optgroups=j(t.optgroups));for(n in e)if(e[g](n))if(i=e[n],t.optgroups&&t.optgroups[g](n)){o+="<optgroup label='"+n+"'>";for(r in i)i[g](r)&&(l=i[r],t.use_key?l=r:t.use_value&&(r=l),o+=u?s.render({value:r,option:l,selected:t.selected[g](r)?' selected="selected"':""}):t.selected[g](r)?"<option value='"+r+"' selected='selected'>"+l+"</option>":"<option value='"+r+"'>"+l+"</option>");o+="</optgroup>"}else t.use_key?i=n:t.use_value&&(n=i),o+=u?s.render({value:n,option:i,selected:t.selected[g](n)?' selected="selected"':""}):t.selected[g](n)?"<option value='"+n+"' selected='selected'>"+i+"</option>":"<option value='"+n+"'>"+i+"</option>";return o+="</select>"},getTemplateContents:Tn,hasOwn:function(e,t){return e&&e[g](t)},keys:function(e){return e?T(e):null},values:function(e){if(e){if(e instanceof C)return e;var t,n=[];for(t in e)e[g](t)&&n.push(e[t]);return n}return null},items:function(e){return e?e:null
},merge:Cn,data:function(e){if(M(e))return e.slice();var t,n,r={};for(t in e)e[g](t)&&(n=t,r[n]=e[t]);return r}},d.now=d.time,d.l=d.locale,d.init(),d});