/**
*  Contemplate
*  Light-weight Template Engine for PHP, Python, Node and client-side JavaScript
*
*  @version: 0.7.1
*  https://github.com/foo123/Contemplate
*
*  @inspired by : Simple JavaScript Templating, John Resig - http://ejohn.org/ - MIT Licensed
*  http://ejohn.org/blog/javascript-micro-templating/
*
**/
!function(e,t,n){"use strict";var r,l="object"==typeof module&&module.exports,i="function"==typeof define&&define.amd;l?module.exports=(module.$deps=module.$deps||{})[t]=module.$deps[t]||n.call(e,{NODE:module})||1:i&&"function"==typeof require&&"function"==typeof require.specified&&require.specified(t)?define(t,["require","exports","module"],function(t,r,l){return n.call(e,{AMD:l})}):t in e||(e[t]=r=n.call(e,{})||1)&&i&&define(t,[],function(){return r})}(this,"Contemplate",function(){"use strict";function e(t,n){var r,l=null,i=null;if(l=isNaN(t)?t?t.toUpperCase():"HTML_SPECIALCHARS":e.constMappingTable[t],i=isNaN(n)?n?n.toUpperCase():"ENT_COMPAT":e.constMappingQuoteStyle[n],"HTML_SPECIALCHARS"!==l&&"HTML_ENTITIES"!==l)throw new Error("Table: "+l+" not supported");if(r=l+"__"+i,e.tbls[r])return e.tbls[r];var u,o={},s={};o[38]="&amp;","HTML_ENTITIES"===l&&(o[160]="&nbsp;",o[161]="&iexcl;",o[162]="&cent;",o[163]="&pound;",o[164]="&curren;",o[165]="&yen;",o[166]="&brvbar;",o[167]="&sect;",o[168]="&uml;",o[169]="&copy;",o[170]="&ordf;",o[171]="&laquo;",o[172]="&not;",o[173]="&shy;",o[174]="&reg;",o[175]="&macr;",o[176]="&deg;",o[177]="&plusmn;",o[178]="&sup2;",o[179]="&sup3;",o[180]="&acute;",o[181]="&micro;",o[182]="&para;",o[183]="&middot;",o[184]="&cedil;",o[185]="&sup1;",o[186]="&ordm;",o[187]="&raquo;",o[188]="&frac14;",o[189]="&frac12;",o[190]="&frac34;",o[191]="&iquest;",o[192]="&Agrave;",o[193]="&Aacute;",o[194]="&Acirc;",o[195]="&Atilde;",o[196]="&Auml;",o[197]="&Aring;",o[198]="&AElig;",o[199]="&Ccedil;",o[200]="&Egrave;",o[201]="&Eacute;",o[202]="&Ecirc;",o[203]="&Euml;",o[204]="&Igrave;",o[205]="&Iacute;",o[206]="&Icirc;",o[207]="&Iuml;",o[208]="&ETH;",o[209]="&Ntilde;",o[210]="&Ograve;",o[211]="&Oacute;",o[212]="&Ocirc;",o[213]="&Otilde;",o[214]="&Ouml;",o[215]="&times;",o[216]="&Oslash;",o[217]="&Ugrave;",o[218]="&Uacute;",o[219]="&Ucirc;",o[220]="&Uuml;",o[221]="&Yacute;",o[222]="&THORN;",o[223]="&szlig;",o[224]="&agrave;",o[225]="&aacute;",o[226]="&acirc;",o[227]="&atilde;",o[228]="&auml;",o[229]="&aring;",o[230]="&aelig;",o[231]="&ccedil;",o[232]="&egrave;",o[233]="&eacute;",o[234]="&ecirc;",o[235]="&euml;",o[236]="&igrave;",o[237]="&iacute;",o[238]="&icirc;",o[239]="&iuml;",o[240]="&eth;",o[241]="&ntilde;",o[242]="&ograve;",o[243]="&oacute;",o[244]="&ocirc;",o[245]="&otilde;",o[246]="&ouml;",o[247]="&divide;",o[248]="&oslash;",o[249]="&ugrave;",o[250]="&uacute;",o[251]="&ucirc;",o[252]="&uuml;",o[253]="&yacute;",o[254]="&thorn;",o[255]="&yuml;"),"ENT_NOQUOTES"!==i&&(o[34]="&quot;"),"ENT_QUOTES"===i&&(o[39]="&#39;"),o[60]="&lt;",o[62]="&gt;";for(u in o)o.hasOwnProperty(u)&&(s[String.fromCharCode(u)]=o[u]);return"ENT_QUOTES"===i&&(s["'"]="&#039;"),e.tbls[r]=s}function t(t,n,r,l){var i=e("HTML_ENTITIES",n),u="";if(t=null==t?"":t+"",!i)return!1;if(l||null==l)for(u in i)i.hasOwnProperty(u)&&(t=t.split(u).join(i[u]));else t=t.replace(/([\s\S]*?)(&(?:#\d+|#x[\da-f]+|[a-zA-Z][\da-z]*);|$)/g,function(e,t,n){for(u in i)i.hasOwnProperty(u)&&(t=t.split(u).join(i[u]));return t+n});return t}function n(e){return e=(e+"").toString(),encodeURIComponent(e).replace(/!/g,"%21").replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A").replace(/%20/g,"+")}function r(){var e=/%%|%(\d+\$)?([-+\'#0 ]*)(\*\d+\$|\*|\d+)?(\.(\*\d+\$|\*|\d+))?([scboxXuideEfFgG])/g,t=arguments,n=0,r=t[n++],l=function(e,t,n,r){n||(n=" ");var l=e.length>=t?"":Array(1+t-e.length>>>0).join(n);return r?e+l:l+e},i=function(e,t,n,r,i,u){var o=r-e.length;return o>0&&(e=n||!i?l(e,r,u,n):e.slice(0,t.length)+l("",o,"0",!0)+e.slice(t.length)),e},u=function(e,t,n,r,u,o,s){var a=e>>>0;return n=n&&a&&{2:"0b",8:"0",16:"0x"}[t]||"",e=n+l(a.toString(t),o||0,"0",!1),i(e,n,r,u,s)},o=function(e,t,n,r,l,u){return null!=r&&(e=e.slice(0,r)),i(e,"",t,n,l,u)},s=function(e,r,s,a,c,f,p){var d,_,h,g,m;if("%%"==e)return"%";for(var v=!1,O="",T=!1,C=!1,b=" ",E=s.length,S=0;s&&E>S;S++)switch(s.charAt(S)){case" ":O=" ";break;case"+":O="+";break;case"-":v=!0;break;case"'":b=s.charAt(S+1);break;case"0":T=!0;break;case"#":C=!0}if(a=a?"*"==a?+t[n++]:"*"==a.charAt(0)?+t[a.slice(1,-1)]:+a:0,0>a&&(a=-a,v=!0),!isFinite(a))throw new Error("sprintf: (minimum-)width must be finite");switch(f=f?"*"==f?+t[n++]:"*"==f.charAt(0)?+t[f.slice(1,-1)]:+f:"fFeE".indexOf(p)>-1?6:"d"==p?0:void 0,m=r?t[r.slice(0,-1)]:t[n++],p){case"s":return o(String(m),v,a,f,T,b);case"c":return o(String.fromCharCode(+m),v,a,f,T);case"b":return u(m,2,C,v,a,f,T);case"o":return u(m,8,C,v,a,f,T);case"x":return u(m,16,C,v,a,f,T);case"X":return u(m,16,C,v,a,f,T).toUpperCase();case"u":return u(m,10,C,v,a,f,T);case"i":case"d":return d=+m||0,d=Math.round(d-d%1),_=0>d?"-":O,m=_+l(String(Math.abs(d)),f,"0",!1),i(m,_,v,a,T);case"e":case"E":case"f":case"F":case"g":case"G":return d=+m,_=0>d?"-":O,h=["toExponential","toFixed","toPrecision"]["efg".indexOf(p.toLowerCase())],g=["toString","toUpperCase"]["eEfFgG".indexOf(p)%2],m=_+Math.abs(d)[h](f),i(m,_,v,a,T)[g]();default:return e}};return r.replace(e,s)}function l(e,t){t=t?(t+"").replace(/([\[\]\(\)\.\?\/\*\{\}\+\$\^\:])/g,"$1"):" \\s ";var n=new RegExp("^["+t+"]+","g");return(e+"").replace(n,"")}function i(e,t){t=t?(t+"").replace(/([\[\]\(\)\.\?\/\*\{\}\+\$\^\:])/g,"\\$1"):" \\s ";var n=new RegExp("["+t+"]+$","g");return(e+"").replace(n,"")}function u(e,t){var n,r=0,l=0;for(e+="",t?(t+="",n=t.replace(/([\[\]\(\)\.\?\/\*\{\}\+\$\^\:])/g,"$1")):n=" \n\r	\f            ​\u2028\u2029　",r=e.length,l=0;r>l;l++)if(-1===n.indexOf(e.charAt(l))){e=e.substring(l);break}for(r=e.length,l=r-1;l>=0;l--)if(-1===n.indexOf(e.charAt(l))){e=e.substring(0,l+1);break}return-1===n.indexOf(e.charAt(0))?e:""}function o(e,t){var n,r,l,i=/\\?([a-z])/gi,u=function(e,t){return e=e.toString(),e.length<t?u("0"+e,t,"0"):e},o=["Sun","Mon","Tues","Wednes","Thurs","Fri","Satur","January","February","March","April","May","June","July","August","September","October","November","December"];l=function(e,t){return r[e]?r[e]():t},r={d:function(){return u(r.j(),2)},D:function(){return r.l().slice(0,3)},j:function(){return n.getDate()},l:function(){return o[r.w()]+"day"},N:function(){return r.w()||7},S:function(){var e=r.j();return 4>e|e>20&&(["st","nd","rd"][e%10-1]||"th")},w:function(){return n.getDay()},z:function(){var e=new Date(r.Y(),r.n()-1,r.j()),t=new Date(r.Y(),0,1);return Math.round((e-t)/864e5)},W:function(){var e=new Date(r.Y(),r.n()-1,r.j()-r.N()+3),t=new Date(e.getFullYear(),0,4);return u(1+Math.round((e-t)/864e5/7),2)},F:function(){return o[6+r.n()]},m:function(){return u(r.n(),2)},M:function(){return r.F().slice(0,3)},n:function(){return n.getMonth()+1},t:function(){return new Date(r.Y(),r.n(),0).getDate()},L:function(){var e=r.Y();return e%4===0&e%100!==0|e%400===0},o:function(){var e=r.n(),t=r.W(),n=r.Y();return n+(12===e&&9>t?1:1===e&&t>9?-1:0)},Y:function(){return n.getFullYear()},y:function(){return r.Y().toString().slice(-2)},a:function(){return n.getHours()>11?"pm":"am"},A:function(){return r.a().toUpperCase()},B:function(){var e=3600*n.getUTCHours(),t=60*n.getUTCMinutes(),r=n.getUTCSeconds();return u(Math.floor((e+t+r+3600)/86.4)%1e3,3)},g:function(){return r.G()%12||12},G:function(){return n.getHours()},h:function(){return u(r.g(),2)},H:function(){return u(r.G(),2)},i:function(){return u(n.getMinutes(),2)},s:function(){return u(n.getSeconds(),2)},u:function(){return u(1e3*n.getMilliseconds(),6)},e:function(){throw"Not supported (see source code of date() for timezone on how to add support)"},I:function(){var e=new Date(r.Y(),0),t=Date.UTC(r.Y(),0),n=new Date(r.Y(),6),l=Date.UTC(r.Y(),6);return e-t!==n-l?1:0},O:function(){var e=n.getTimezoneOffset(),t=Math.abs(e);return(e>0?"-":"+")+u(100*Math.floor(t/60)+t%60,4)},P:function(){var e=r.O();return e.substr(0,3)+":"+e.substr(3,2)},T:function(){return"UTC"},Z:function(){return 60*-n.getTimezoneOffset()},c:function(){return"Y-m-d\\TH:i:sP".replace(i,l)},r:function(){return"D, d M Y H:i:s O".replace(i,l)},U:function(){return n/1e3|0}};var s=function(e,t){return n=void 0===t?new Date:new Date(t instanceof Date?t:1e3*t),e.replace(i,l)};return s(e,t)}function s(e,t,n){for(var r=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sun","Mon","Tues","Wednes","Thurs","Fri","Satur","January","February","March","April","May","June","July","August","September","October","November","December","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],l=o(t,n),i=0,u=r.length;u>i;i++)e[_](r[i])&&(l=l.replace(r[i],e[r[i]]));return l}var a,c,f,p="0.7.1",d="prototype",_="hasOwnProperty",h=Object,g=Array,m=String,v=Function,O=h.keys,T=h[d],C=g[d],b=v[d],E=T.toString,S=b.call.bind(C.slice),A="undefined"!=typeof global&&"[object global]"===E.call(global),y=function(e){return e instanceof g||"[object Array]"===E.call(e)},D=function(e){return e instanceof h||"[object Object]"===E.call(e)},w=function(e){return null===e||"undefined"==typeof e?0:y(e)?e.length:D(e)?O(e).length:1},N=function(e){var t,n,r={},l=O(e),i=l.length;for(t=0;i>t;t++)n=l[t],r[e[n]]=n;return r},M=function(){return Math.floor((new Date).getTime()/1e3)},I=function(e,t){return new v(e,t)},j=function(e,t){return new RegExp(e,t||"")},x="undefined"!=typeof navigator?navigator.userAgent:"",L=(/Chrome\//.test(x),A?require("fs"):null),k=L?L.writeFileSync:null,U=L?L.readFileSync:null,H=L?L.existsSync:null,K=L?L.statSync:null,F=(L?L.realpathSync:null,L?L.writeFile:null),P=L?L.readFile:null,$=(L?L.exists:null,L?L.stat:null,L?L.realpath:null,function(e,t,n,r){var l;return l=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),r?(l.onload=function(){r(200===l.status?l.responseText:"")},l.open(e,t,!0),l.send(n),""):(l.open(e,t,!1),l.send(n),200===l.status?l.responseText:"")});e.constMappingTable={},e.constMappingQuoteStyle={},e.constMappingTable[0]="HTML_SPECIALCHARS",e.constMappingTable[1]="HTML_ENTITIES",e.constMappingQuoteStyle[0]="ENT_NOQUOTES",e.constMappingQuoteStyle[2]="ENT_COMPAT",e.constMappingQuoteStyle[3]="ENT_QUOTES",e.tbls={};var R,q,B,G=!1,Y={},z={},J=!1,Q=0,X="./",W={},V={},Z={},et="<%",tt="%>",nt="",rt="",lt="",it="' + \"\\n\" + '",ut="",ot=A?require("os").EOL:"\n",st=!0,at=null,ct=0,ft="    ",pt=0,dt=0,_t=0,ht=0,gt=2,mt=null,vt=null,Ot=null,Tt=null,Ct=null,bt=-1,Et=null,St=0,At=/[\W]+/g,yt=/\n\r|\r\n|\n|\r/g,Dt=/'/g,wt=/^[a-zA-Z_]/,Nt=/^[0-9]/,Mt=/^[a-zA-Z0-9_]/i,It=/^\s/,jt={specials:null,replacements:null,functions:null,controls:null,controls2:null},xt=["include","template","extends","endblock","block","elsefor","endfor","for","set","unset","isset","elseif","else","endif","if"],Lt=["htmlselect","htmltable","(plg_|plugin_)([a-zA-Z0-9_]+)","haskey","lowercase","uppercase","camelcase","snakecase","pluralise","concat","ltrim","rtrim","trim","sprintf","addslashes","stripslashes","inline","tpl","uuid","html","url","count","ldate","date","now","locale","dq","q","l","s","n","f","e"],kt={},Ut=function(){dt=0,_t=0,ht=0,gt=2,ct=0,mt=[],vt={},Ot=[[null,-1]],Et=null,R={},q={},B="_",R[B]=R[B]||{},q[B]=q[B]||{}},Ht=function(){dt=0,_t=0,ht=0,gt=2,ct=0,mt=null,vt=null,Ot=null,R=null,q=null,B=null,pt=0,at=[]},Kt=function(){at.push([dt,_t,ht,gt,ct,mt,vt,Ot,Et,R,q,B])},Ft=function(){var e=at.pop();dt=e[0],_t=e[1],ht=e[2],gt=e[3],ct=e[4],mt=e[5],vt=e[6],Ot=e[7],Et=e[8],R=e[9],q=e[10],B=e[11]},Pt=function(){return S(arguments).join(ot)},$t=function(e,t){if(2>arguments.length&&(t=ct),t>=0){t=0===t?t:t+1;var n=new g(t).join(ft);e=n+e.split(yt).join(ot+n)}return e},Rt=function(){var e=S(arguments);if(!(e.length<1)){var t,n,r,l=e.shift(),i=e.length;for(t=0;i>t;t++)if(r=e[t])for(n in r)r[_](n)&&(l[n]=r[n]);return l}},qt=function(e,t){var n,r;if(t)r=u(t).split(" "),et=u(r[0]),tt=u(r[1]);else{for(n=e.split("\n");n.length&&!u(n[0]).length;)n.shift();n.length&&(r=u(n.shift()).split(" "),et=u(r[0]),tt=u(r[1])),e=n.join("\n")}return e},Bt=function(e){for(var t,n=0,r=e.length,l="";r>n;)switch(t=e.charAt(n++),t.charCodeAt(0)){case 34:l+="&quot;";break;case 38:l+="&amp;";break;case 39:l+="&#39;";break;case 60:l+="&lt;";break;case 62:l+="&gt;";break;default:l+=t}return l},Gt=function(e,t){var n;return(n=V[e])?n[1]?J&&t?(t(n[0]),""):n[0]:A&&L?J&&t?(P(n[0],{encoding:a.ENCODING},function(e,n){t(e?"":n)}),""):U(n[0],{encoding:a.ENCODING}):"#"===n[0].charAt(0)?J&&t?(t(window.document.getElementById(n[0].substring(1)).innerHTML||""),""):window.document.getElementById(n[0].substring(1)).innerHTML||"":J&&t?($("GET",n[0],null,t),""):$("GET",n[0]):""},Yt=function(e){return' ("undefined" !== typeof('+e+")) "},zt=function(e){e=e.split(",");var t=u(e.shift()),n=u(e.join(","));return"';"+ot+$t(t+" = ("+n+");")+ot},Jt=function(e){return e&&e.length?(e=u(e),"';"+ot+$t('if ("undefined" !== typeof('+e+")) delete "+e+";")+ot):"'; "+ot},Qt=function(e){var t="';"+$t(Sn({IFCOND:e}));return _t++,ct++,t},Xt=function(e){ct--;var t="';"+$t(An({ELIFCOND:e}));return ct++,t},Wt=function(){ct--;var e="';"+$t(yn());return ct++,e},Vt=function(){_t--,ct--;var e="';"+$t(Dn());return e},Zt=function(e){var t,n,r,l,i,o=e.indexOf(" as "),s=e.indexOf(" in ");if(s>-1?(e=[e.slice(0,s),e.slice(s+4)],n=u(e[1]),r="_loc_"+ ++pt,l=e[0].split(",")):(e=[e.slice(0,o),e.slice(o+4)],n=u(e[0]),r="_loc_"+ ++pt,l=e[1].split("=>")),i=l.length>=2){var a=u(l[0]),c=u(l[1]),f="_loc_"+ ++pt,p="_loc_"+ ++pt,d="_loc_"+ ++pt;R[B][q[B][a]]=1,R[B][q[B][c]]=1,t="';"+$t(wn({O:n,_O:r,_OK:f,K:a,_K:p,_L:d,V:c,ASSIGN1:""+a+" = "+f+"["+p+"]; "+c+" = "+r+"["+a+"];"},2)),gt=2,ct+=2}else{var c=u(l[0]),p="_loc_"+ ++pt,d="_loc_"+ ++pt;R[B][q[B][c]]=1,t="';"+$t(wn({O:n,_O:r,_K:p,_L:d,V:c,ASSIGN1:""+c+" = "+r+"["+p+"];"},1)),gt=1,ct+=2}return dt++,ht++,t},en=function(){var e;return 2===gt?(ht--,ct+=-2,e="';"+$t(Nn(null,2)),ct+=1):(ht--,ct+=-2,e="';"+$t(Nn(null,1)),ct+=1),e},tn=function(){var e;return ht===dt?2===gt?(dt--,ht--,ct+=-2,e="';"+$t(Mn(null,3))):(dt--,ht--,ct+=-2,e="';"+$t(Mn(null,2))):(dt--,ct+=-1,e="';"+$t(Mn(null,1))),e},nn=function(e){return Z[e]||(Kt(),Ut(),Z[e]=" "+_n(qt(Gt(e)),!1)+"'; "+ot,Ft()),$t(Z[e])},rn=function(e){e=e.split(",");var t=u(e.shift()),n=e.join(",");return"' + %tpl( \""+t+'", '+n+" ); "+ot},ln=function(e){return Et=u(e),"'; "+ot},un=function(e){return e=u(e),mt.push([e,-1,-1,0,Ot[0][1]]),vt[e]=vt[e]?vt[e]+1:1,bt=mt.length,Ot.unshift([e,bt-1]),Tt=e,Ct=null,B=e,R[B]=R[B]||{},q[B]=q[B]||{},"' +  __||"+e+"||__"},on=function(){if(1<Ot.length){var e=Ot.shift();return Ct=e[0],bt=e[1]+1,Tt=null,B=Ot.length?Ot[0][0]:"_","__||/"+e[0]+"||__"}return B="_",""},sn=function(e,t,n){var r,l,i,u,o;for(r=e.split(t),l=r.length,i=[],u=0;l>u;u++)o=r[u].split(n),i.push(o[0]),o.length>1&&i.push(o[1]);return i},an=function xn(e,t,n){if(t)switch(n=n||"",t){case"isset":return n=n.replace(jt.controls2,xn),Yt(n);case"set":return n=n.replace(jt.controls2,xn),zt(n);case"unset":return n=n.replace(jt.controls2,xn),Jt(n);case"if":return n=n.replace(jt.controls2,xn),Qt(n);case"elseif":return n=n.replace(jt.controls2,xn),Xt(n);case"else":return Wt(n);case"endif":return Vt(n);case"for":return n=n.replace(jt.controls2,xn),Zt(n);case"elsefor":return en(n);case"endfor":return tn(n);case"extends":return ln(n);case"block":return un(n);case"endblock":return on(n);case"template":return n=n.replace(jt.controls2,xn),rn(n);case"include":return nn(n)}return e},cn=function(e){for(var t,n,r,l,i,u,o,s,a,c,f=[],p=mt.length;p--;)n=mt[p],t=n[0],o=n[1],s=n[2],a=n[3],c=n[4],r="__||"+t+"||__",l="__i__.renderBlock( '"+t+"' ); ",i=r.length,u=l.length,c>-1&&(mt[c][3]+=u-(s-o+1)),s+=a,1===vt[t]&&f.push([t,En({BLOCKCODE:e.slice(o+i,s-i-1)+"';"})]),e=e.slice(0,o)+l+e.slice(s+1),1<=vt[t]&&vt[t]--;return[e,f]},fn=function(e,t,n,r){for(var l=t,i=!1,u="";r>n&&(l+=u=e[n++],t!==u||i);)i=!i&&"\\"===u;return l},pn=function Ln(e,t,n){if(wt.test(e[t])){var r,l,i,u,o,s,a,c,f,p,d,_,h,g,m={},v=[],O=0;for(i=e[t++];n>t&&Mt.test(e[t]);)i+=e[t++];for(o=i,s="data['"+o+"']",a="",pt++,l="__##VAR"+pt+"##__",c=o.length,O=0;n>t&&It.test(e[t]);)O++,t++;for(p=0;n>t&&("."===e[t]||"["===e[t]);){for(d=e[t++];n>t&&It.test(e[t]);)O++,t++;if("."===d){for(u="";n>t&&Mt.test(e[t]);)u+=e[t++];if(f=u.length,!f)break;a+="['"+u+"']",c+=O+1+f,O=0}else if("["===d){if(p++,_=e[t],'"'===_||"'"===_)u=fn(e,_,t+1,n),pt++,h="__##STR"+pt+"##__",m[h]=u,a+=d+h,f=u.length,t+=f,c+=O+1+f,O=0;else if(Nt.test(_)){for(u=e[t++];n>t&&Nt.test(e[t]);)u+=e[t++];a+=d+u,f=u.length,c+=O+1+f,O=0}else if("$"===_)g=e.slice(t+1),r=Ln(g,0,g.length),r&&(u=r[r.length-1],a+=d+u[0],f=u[4],t+=f+1,c+=O+2+f,O=0,v=v.concat(r));else{if("]"!==_)break;if(!(p>0))break;p--,a+=d+e[t++],c+=O+2,O=0}for(;n>t&&It.test(e[t]);)O++,t++;if("]"===e[t]){if(!(p>0))break;p--,a+=e[t++],c+=O+1,O=0}}for(;n>t&&It.test(e[t]);)O++,t++}return v.push([l,o,s,a,c,m]),v}return null},dn=function(e,t,n,r){if(r&&kt[_](r)){var l=kt[r];return l instanceof a.InlineTemplate?l.render():l}return"Contemplate."+t},_n=function(e,t){var n,r,l,i,u,o,s,c,f,p,d,h,g,m,v,T,C,b,E;for(n=sn(e,et,tt),r=n.length,o=!1,l="",u=0;r>u;u++){if(i=n[u],o){for(s="	"+i.replace(jt.specials," ")+"",h=s.length,f=[],c={},g=0,m="",v="";h>g;)if(m=s[g++],'"'===m||"'"===m)T=fn(s,m,g,h),pt++,d="__##STR"+pt+"##__",c[d]=T,v+=d,g+=T.length-1;else if("$"===m)if(T=pn(s,g,h)){for(C=0;C<T.length;C++)b=T[C],d=b[0],q[B][d]=b[1],c=Rt(c,b[5]);v+=d,g+=b[4],f=f.concat(T)}else v+="$";else v+=m;for(s=v,Tt=null,Ct=null,bt=-1,s=s.replace(jt.controls,an).replace(jt.functions,dn).replace(jt.replacements,"' + ($1) + '"),C=f.length-1;C>=0;C--)d=f[C][0],p=f[C][1],s=s.split(d+"__RAW__").join(p).split(d).join((R[B][_](p)?"_loc_"+p:f[C][2])+f[C][3]);for(E=a.InlineTemplate.multisplit(s,O(c),1),s="",C=0;C<E.length;C++)s+=E[C][0]?E[C][1]:c[E[C][1]];i=s.split("	").join(nt).split("").join($t(rt)),Tt?(Tt="__||"+Tt+"||__",mt[bt-1][1]=l.length+s.indexOf(Tt)):Ct&&(Ct="__||/"+Ct+"||__",mt[bt-1][2]=l.length+s.indexOf(Ct)+Ct.length),o=!1}else st&&(i=i.split("\\").join("\\\\")),i=i.split("'").join("\\'").split(/\n/).join(ut),o=!0;l+=i}return!1!==t?cn(l):l},hn=function(e){return X+e.replace(At,"_")+"_tpl.js"},gn=function(e){return"Contemplate_"+e.replace(At,"_")+"_Cached"},mn=function(e,t){Ut();var n,r,l,i,u=_n(qt(Gt(e),t)),o={};for(Ht(),i=u[0],u=u[1],r=u.length,l=Et?In(null,1):In({FCODE:"__p__ += '"+i+"';"},2),n=0;r>n;n++)o[u[n][0]]=I("Contemplate,__i__",u[n][1]);return[I("Contemplate,__i__",l),o]},vn=function(e,t,n,r){Ut();var l,i,u,o,s,a,c,f=_n(qt(Gt(e),r));for(Ht(),c=f[0],f=f[1],s=f.length,a=[],o=0;s>o;o++)a.push(ot+bn({BLOCKNAME:f[o][0],BLOCKMETHODNAME:f[o][0],BLOCKMETHODCODE:$t(f[o][1],1)}));a=a.length?ot+"this._blocks = { "+ot+$t(a.join(","+ot),1)+ot+"};"+ot:"",Et?(i="this.extend( '"+Et+"' );",u=jn(null,1)):(i="",u=jn({RCODE:"__p__ += '"+c+"';"},2)),l=lt?lt:"";var p=Cn({CLASSNAME:n,TPLID:e,PREFIXCODE:l,EXTENDCODE:$t(i,2),BLOCKS:$t(a,2),RENDERCODE:$t(u,3)});return Tn(t,p)},On=function(e,t){var n;if(n=V[e]){if(n[1]){var r,l;return t.parsed?l=a.Template(e,I("Contemplate,__i__",t.parsed)):(r=mn(e,t.separators),l=a.Template(e,r[0]).setBlocks(r[1])),Et&&l.extend(a.tpl(Et)),l}if(A||(Q=a.CACHE_TO_DISK_NONE),!0!==t.autoUpdate&&a.CACHE_TO_DISK_NOUPDATE===Q){var i=hn(e),u=gn(e);if(H(i)||vn(e,i,u,t.separators),H(i)){var o=require(i)(a),l=(new o).setId(e);return l}return null}if(!0===t.autoUpdate||a.CACHE_TO_DISK_AUTOUPDATE===Q){var i=hn(e),u=gn(e);if(H(i)){var s=K(i),c=K(n[0]);s.mtime.getTime()<=c.mtime.getTime()&&vn(e,i,u,t.separators)}else vn(e,i,u,t.separators);if(H(i)){var o=require(i)(a),l=(new o).setId(e);return l}return null}var r=mn(e,t.separators),l=a.Template(e,r[0]).setBlocks(r[1]);return Et&&l.extend(a.tpl(Et)),l}return null},Tn=function(e,t,n){return n?void F(e,t,{encoding:a.ENCODING},function(e){n(!e)}):k(e,t,{encoding:a.ENCODING})},Cn=function(e){var t=Pt;return[e.PREFIXCODE,t("","!function (root, moduleName, moduleDefinition) {","    //","    // export the module","    // node, CommonJS, etc..","    if ( 'object' === typeof(module) && module.exports ) module.exports = moduleDefinition();","    // AMD, etc..","    else if ( 'function' === typeof(define) && define.amd ) define( moduleDefinition );","    // browser, etc..","    else root[ moduleName ] = moduleDefinition();","","}(this, '"),e.CLASSNAME,t("', function( ) {",'    "use strict";',"    return function( Contemplate ) {","    /* Contemplate cached template '"),e.TPLID,t("' */","    ","    /* constructor */","    function "),e.CLASSNAME,t("(id)","    {","        /* initialize internal vars */","        ","        this._renderer = id;","        this._blocks = null;","        this._extends = null;","        this.d = null;","        this.id = id;","        ","        /* tpl-defined blocks render code starts here */",""),e.BLOCKS,t("","        /* tpl-defined blocks render code ends here */","        ","        /* extend tpl assign code starts here */",""),e.EXTENDCODE,t("","        /* extend tpl assign code ends here */","    };","    ","    /* extends main Contemplate.Template class */","    "),e.CLASSNAME,t(".prototype = Object.create(Contemplate.Template.prototype);","    /* tpl render method */","    "),e.CLASSNAME,t(".prototype.render = function( data, __i__ ) {","        if ( !__i__ ) __i__ = this;","        var __p__ = '';","        if ( this._extends )","        {","            __p__ = this._extends.render(data, __i__);","        }","        else","        {","            /* tpl main render code starts here */",""),e.RENDERCODE,t("","            /* tpl main render code ends here */","        }","        this.d = null;","        return __p__;","    };","    ","    // export it","    return "),e.CLASSNAME,t(";","    };","});","")].join("")},bn=function(e){var t=Pt;return[t("","/* tpl block render method for block '"),e.BLOCKNAME,t("' */","'"),e.BLOCKMETHODNAME,t("': function(Contemplate,__i__) {",""),e.BLOCKMETHODCODE,t("","}","")].join("")},En=function(e){var t=Pt;return[t("","var __p__ = '', data = __i__.d;",""),e.BLOCKCODE,t("","return __p__;","")].join("")},Sn=function(e){var t=Pt;return[t("","if ("),e.IFCOND,t(")","{","")].join("")},An=function(e){var t=Pt;return[t("","}","else if ("),e.ELIFCOND,t(")","{","")].join("")},yn=function(){var e=Pt;return e("","}","else","{","")},Dn=function(){var e=Pt;return e("","}","")},wn=function(e,t){var n=Pt;return 2===t?[n("","var "),e._O," = ",e.O,", ",e._OK," = Contemplate.keys(",e._O,n("),","    "),e._K,", ",e.K,", ",e.V,", ",e._L," = ",e._OK," ? ",e._OK,".length : 0",n(";","if ("),e._L,n(")","{","    for ("),e._K,"=0; ",e._K,"<",e._L,"; ",e._K,n("++)","    {","        "),e.ASSIGN1,n("","        ","")].join(""):[n("","var "),e._O," = Contemplate.values(",e.O,n("),","    "),e._K,", ",e.V,", ",e._L," = ",e._O," ? ",e._O,".length : 0",n(";","if ("),e._L,n(")","{","    for ("),e._K,"=0; ",e._K,"<",e._L,"; ",e._K,n("++)","    {","        "),e.ASSIGN1,n("","        ","")].join("")},Nn=function(e,t){var n=Pt;return 2===t?n("","    }","}","else","{  ",""):n("","    }","}","else","{  ","")},Mn=function(e,t){var n=Pt;return 3===t?n("","    }","}",""):2===t?n("","    }","}",""):n("","}","")},In=function(e,t){var n=Pt;return 1===t?"return '';":[n("","var __p__ = '', data = __i__.d;",""),e.FCODE,n("","return __p__;","")].join("")},jn=function(e,t){var n=Pt;return 1===t?"__p__ = '';":[n("","__i__.d = data;",""),e.RCODE,n("","")].join("")};return f=function kn(e,t,n){return this instanceof kn?(this.id=null,this._renderer=null,this.tpl=kn.multisplit(e||"",t||{}),void(!1!==n&&(this._renderer=kn.compile(this.tpl)))):new kn(e,t,n)},f.multisplit=function(e,t,n){var r,l,i,u,o,s,a,c,f,p;n=!!n,s=[[1,e]];for(r in t)if(t.hasOwnProperty(r)){for(c=[],l=n?t[r]:r,i=[0,t[r]],u=0,f=s.length;f>u;u++)if(1===s[u][0])if(a=s[u][1].split(l),p=a.length,p>1)for(o=0;p-1>o;o++)c.push([1,a[o]]),c.push(i),c.push([1,a[o+1]]);else c.push([1,a[0]]);else c.push(s[u]);s=c}return s},f.compile=function(e){var t,n,r,l=e.length,i="return ";for(t=0;l>t;t++)n=e[t][0],r=e[t][1],i+=n?"'"+r.replace(Dt,"\\'").replace(yt,"' + \"\\n\" + '")+"'":" + String(args['"+r+"']) + ";return i+=";",I("args",i)},f[d]={constructor:f,id:null,tpl:null,_renderer:null,dispose:function(){return this.id=null,this.tpl=null,this._renderer=null,this},render:function(e){if(e=e||[],this._renderer)return this._renderer(e);var t,n,r,l=this.tpl,i=l.length,u="";for(t=0;i>t;t++)n=l[t][0],r=l[t][1],u+=n?r:e[r];return u}},c=function Un(e,t){return this instanceof Un?(this.id=null,this.d=null,void(e&&(this.id=e,this._renderer=t))):new Un(e,t)},c[d]={constructor:c,id:null,d:null,_extends:null,_blocks:null,_renderer:null,dispose:function(){var e=this;return e._renderer=null,e._blocks=null,e._extends=null,e.d=null,e.id=null,e},setId:function(e){return e&&(this.id=e),this},extend:function(e){return this._extends=e&&e.substr?a.tpl(e):e,this},setRenderFunction:function(e){return this._renderer=e,this},setBlocks:function(e){return"object"==typeof e&&(this._blocks=Rt(this._blocks||{},e)),this},renderBlock:function(e,t){return t||(t=this),this._blocks&&this._blocks[_](e)?this._blocks[e](a,t):this._extends?this._extends.renderBlock(e,t):""},render:function(e,t){var n="";return t||(t=this),this._extends?n=this._extends.render(e,t):this._renderer&&(t.d=e,n=this._renderer(a,t)),this.d=null,n}},a={VERSION:p,CACHE_TO_DISK_NONE:0,CACHE_TO_DISK_AUTOUPDATE:2,CACHE_TO_DISK_NOUPDATE:4,ENCODING:"utf8",Template:c,InlineTemplate:f,init:function(){G||(jt.specials=j("[\\n\\r\\v\\t]","g"),jt.replacements=j("\\t[ ]*(.*?)[ ]*\\v","g"),jt.controls=j("\\t[ ]*%("+xt.join("|")+")\\b[ ]*\\((.*)\\)","g"),jt.controls2=j("%("+xt.join("|")+")\\b[ ]*\\((.*)\\)","g"),jt.functions=j("%("+Lt.join("|")+")\\b","g"),ut=it,nt="'; "+ot,rt=ot+"__p__ += '",Ht(),G=!0)},addPlugin:function(e,t){e&&t&&(t instanceof a.InlineTemplate?kt[e]=t:(kt[e]="Contemplate.plg_"+e,a["plg_"+e]=t))},setPrefixCode:function(e){e&&(lt=""+e)},setLocaleStrings:function(e){"object"==typeof e&&(Y=Rt(Y,e))},clearLocaleStrings:function(){Y={}},setPlurals:function(e){if("object"==typeof e){for(var t in e)e[_](t)&&null==e[t]&&(e[t]=t+"s");z=Rt(z,e)}},clearPlurals:function(){z={}},setTemplateSeparators:function(e){e&&(e.left&&(et=""+e.left),e.right&&(tt=""+e.right))},setPreserveLines:function(e){arguments.length<1&&(e=!0),ut=e?it:""},setCacheDir:function(e){X=i(e,"/")+"/"},setCacheMode:function(e){Q=A?e:a.CACHE_TO_DISK_NONE},setSyncMode:function(e){J=!e},clearCache:function(e){W={},e&&(Z={})},add:function(e,t){if("object"==typeof e)for(var n in e)e[_](n)&&(y(e[n])?e[n][0]&&(V[n]=[e[n][0],!0]):V[n]=[e[n],!1]);else e&&t&&(y(t)?t[0]&&(V[e]=[t[0],!0]):V[e]=[t,!1])},parseTpl:function(e,t){var n,r,l=t&&t.separators?t.separators:null;return l&&(n=[et,tt],et=l[0],tt=l[1]),Ut(),r=_n(e),Ht(),l&&(et=n[0],tt=n[1]),r},tpl:function(e,t,n){if(e instanceof a.Template)return"object"==typeof t?e.render(t):e;n=Rt({autoUpdate:!1,refresh:!1,escape:!0,separators:null},n),st=!1!==n.escape,(n.refresh||!W[e])&&(W[e]=On(e,n));var r=W[e];return"object"==typeof t?r.render(t):r},inline:function(e,t,n){return e instanceof a.InlineTemplate?e.render(t):a.InlineTemplate(e,t,n)},haskey:function(e){var t,n,r,l=E.call(e);if(!e||"[object Array]"!==l&&"[object Object]"!==l)return!1;for(t=arguments,r=e,n=1;n<t.length;n++){if(!r||!r[_](t[n]))return!1;r=r[t[n]]}return!0},q:function(e){return"'"+e+"'"},dq:function(e){return'"'+e+'"'},s:function(e){return m(e)},n:function(e){return parseInt(e,10)},f:function(e){return parseFloat(e,10)},e:Bt,html:function(e,n){return t(e,n||"ENT_COMPAT","UTF-8")},url:n,count:w,addslashes:function(e){return(e+"").replace(/[\\"']/g,"\\$&").replace(/\u0000/g,"\\0")},stripslashes:function(e){return(e+"").replace(/\\(.?)/g,function(e,t){switch(t){case"\\":return"\\";case"0":return"\x00";case"":return"";default:return t}})},concat:function(){return S(arguments).join("")},trim:u,ltrim:l,rtrim:i,ucfirst:function(e){return e[0].toUpperCase()+e.substr(1)},lcfirst:function(e){return e[0].toLowerCase()+e.substr(1)},lowercase:function(e){return e.toLowerCase()},uppercase:function(e){return e.toUpperCase()},camelcase:function(e,t,n){return t=t||"_",n?e.split(t).map(a.ucfirst).join(""):a.lcfirst(e.split(t).map(a.ucfirst).join(""))},snakecase:function(e,t){return t=t||"_",e.replace(/([A-Z])/g,t+"$1").toLowerCase()},sprintf:r,time:M,date:function(e,t){return t||(t=M()),o(e,t)},ldate:function(e,t){return t||(t=M()),s(Y,e,t)},locale:function(e){return Y[_](e)?Y[e]:e},pluralise:function(e,t){return z[e]&&1!==t?z[e]:e},uuid:function(e){return[e||"UUID",++St,M()].join("_")},htmltable:function(e,t){e=Rt({},e),t=Rt({},t||{});var n,r,l,i,u,o,s,c,f,p,d,h,m,v="",O="",T="",C="",b=[],E=!1,S=t[_]("tpl_row"),A=t[_]("tpl_cell"),D=null,w=null;if(S&&(t.tpl_row instanceof a.InlineTemplate||(t.tpl_row=a.InlineTemplate(t.tpl_row,{$row_class:"row_class",$row:"row"})),D=t.tpl_row),A&&(t.tpl_cell instanceof a.InlineTemplate||(t.tpl_cell=a.InlineTemplate(t.tpl_cell,{$cell:"cell"})),w=t.tpl_cell),v="<table",t.id&&(v+=" id='"+t.id+"'"),t["class"]&&(v+=" class='"+t["class"]+"'"),t.style&&(v+=" style='"+t.style+"'"),t.data)for(n in t.data)t.data[_](n)&&(v+=" data-"+n+"='"+t.data[n]+"'");v+=">",O="",(t.header||t.footer)&&(O="<td>"+(a.keys(e)||[]).join("</td><td>")+"</td>"),T=t.header?"<thead><tr>"+O+"</tr></thead>":"",C=t.footer?"<tfoot><tr>"+O+"</tr></tfoot>":"",v+=T,b=[],c=a.values(e)||[];for(u in c)if(c[_](u))for(f=c[u],y(f)||(f=[f]),p=a.values(f)||[],o=0,s=p.length;s>o;o++)b[o]||(b[o]=new g(s)),b[o][u]=p[o];for(d=t.odd?t.odd:"odd",h=t.even?t.even:"even",E=!1,u=0,s=b.length;s>u;u++){if(m=E?d:h,A)for(r="",i=0,l=b[u].length;l>i;i++)r+=w.render({cell:b[u][i]});else r="<td>"+b[u].join("</td><td>")+"</td>";v+=S?D.render({row_class:m,row:r}):"<tr class='"+m+"'>"+r+"</tr>",E=!E}return b=null,v+=C,v+="</table>"},htmlselect:function(e,t){e=Rt({},e),t=Rt({},t||{});var n,r,l,i,u="",o=t[_]("tpl_option"),s=null;if(o&&(t.tpl_option instanceof a.InlineTemplate||(t.tpl_option=new a.InlineTemplate(t.tpl_option,{$selected:"selected",$value:"value",$option:"option"})),s=t.tpl_option),u="<select",t.multiple&&(u+=" multiple"),t.disabled&&(u+=" disabled='disabled'"),t.name&&(u+=" name='"+t.name+"'"),t.id&&(u+=" id='"+t.id+"'"),t["class"]&&(u+=" class='"+t["class"]+"'"),t.style&&(u+=" style='"+t.style+"'"),t.data)for(n in t.data)t.data[_](n)&&(u+=" data-"+n+"='"+t.data[n]+"'");u+=">",t.selected?(y(t.selected)||(t.selected=[t.selected]),t.selected=N(t.selected)):t.selected={},t.optgroups&&(y(t.optgroups)||(t.optgroups=[t.optgroups]),t.optgroups=N(t.optgroups));for(n in e)if(e[_](n))if(l=e[n],t.optgroups&&t.optgroups[_](n)){u+="<optgroup label='"+n+"'>";for(r in l)l[_](r)&&(i=l[r],t.use_key?i=r:t.use_value&&(r=i),u+=o?s.render({value:r,option:i,selected:t.selected[_](r)?' selected="selected"':""}):t.selected[_](r)?"<option value='"+r+"' selected='selected'>"+i+"</option>":"<option value='"+r+"'>"+i+"</option>");u+="</optgroup>"}else t.use_key?l=n:t.use_value&&(n=l),u+=o?s.render({value:n,option:l,selected:t.selected[_](n)?' selected="selected"':""}):t.selected[_](n)?"<option value='"+n+"' selected='selected'>"+l+"</option>":"<option value='"+n+"'>"+l+"</option>";return u+="</select>"},getTemplateContents:Gt,hasOwn:function(e,t){return e&&e[_](t)},keys:function(e){return e?O(e):null},values:function(e){if(e){if(e instanceof g)return e;var t,n=[];for(t in e)e[_](t)&&n.push(e[t]);return n}return null},items:function(e){return e?e:null},merge:Rt,data:function(e){if(y(e))return e.slice();var t,n,r={};for(t in e)e[_](t)&&(n=t,r[n]=e[t]);return r}},a.now=a.time,a.l=a.locale,a.init(),a});