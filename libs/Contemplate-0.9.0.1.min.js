/**
*  Contemplate
*  Light-weight Template Engine for PHP, Python, Node and client-side JavaScript
*
*  @version: 0.9.0.1
*  https://github.com/foo123/Contemplate
*
*  @inspired by : Simple JavaScript Templating, John Resig - http://ejohn.org/ - MIT Licensed
*  http://ejohn.org/blog/javascript-micro-templating/
*
**/
!function(e,n,t){"use strict";var r,i="object"==typeof module&&module.exports,u="function"==typeof define&&define.amd;i?module.exports=(module.$deps=module.$deps||{})[n]=module.$deps[n]||t.call(e,{NODE:module})||1:u&&"function"==typeof require&&"function"==typeof require.specified&&require.specified(n)?define(n,["require","exports","module"],function(n,r,i){return t.call(e,{AMD:i})}):n in e||(e[n]=r=t.call(e,{})||1)&&u&&define(n,[],function(){return r})}(this,"Contemplate",function(e,n){"use strict";function t(e,n){var r,i=null,u=null;if(i=isNaN(e)?e?e.toUpperCase():"HTML_SPECIALCHARS":t.constMappingTable[e],u=isNaN(n)?n?n.toUpperCase():"ENT_COMPAT":t.constMappingQuoteStyle[n],"HTML_SPECIALCHARS"!==i&&"HTML_ENTITIES"!==i)throw new Error("Table: "+i+" not supported");if(r=i+"__"+u,t.tbls[r])return t.tbls[r];var l,o={},a={};o[38]="&amp;","HTML_ENTITIES"===i&&(o[160]="&nbsp;",o[161]="&iexcl;",o[162]="&cent;",o[163]="&pound;",o[164]="&curren;",o[165]="&yen;",o[166]="&brvbar;",o[167]="&sect;",o[168]="&uml;",o[169]="&copy;",o[170]="&ordf;",o[171]="&laquo;",o[172]="&not;",o[173]="&shy;",o[174]="&reg;",o[175]="&macr;",o[176]="&deg;",o[177]="&plusmn;",o[178]="&sup2;",o[179]="&sup3;",o[180]="&acute;",o[181]="&micro;",o[182]="&para;",o[183]="&middot;",o[184]="&cedil;",o[185]="&sup1;",o[186]="&ordm;",o[187]="&raquo;",o[188]="&frac14;",o[189]="&frac12;",o[190]="&frac34;",o[191]="&iquest;",o[192]="&Agrave;",o[193]="&Aacute;",o[194]="&Acirc;",o[195]="&Atilde;",o[196]="&Auml;",o[197]="&Aring;",o[198]="&AElig;",o[199]="&Ccedil;",o[200]="&Egrave;",o[201]="&Eacute;",o[202]="&Ecirc;",o[203]="&Euml;",o[204]="&Igrave;",o[205]="&Iacute;",o[206]="&Icirc;",o[207]="&Iuml;",o[208]="&ETH;",o[209]="&Ntilde;",o[210]="&Ograve;",o[211]="&Oacute;",o[212]="&Ocirc;",o[213]="&Otilde;",o[214]="&Ouml;",o[215]="&times;",o[216]="&Oslash;",o[217]="&Ugrave;",o[218]="&Uacute;",o[219]="&Ucirc;",o[220]="&Uuml;",o[221]="&Yacute;",o[222]="&THORN;",o[223]="&szlig;",o[224]="&agrave;",o[225]="&aacute;",o[226]="&acirc;",o[227]="&atilde;",o[228]="&auml;",o[229]="&aring;",o[230]="&aelig;",o[231]="&ccedil;",o[232]="&egrave;",o[233]="&eacute;",o[234]="&ecirc;",o[235]="&euml;",o[236]="&igrave;",o[237]="&iacute;",o[238]="&icirc;",o[239]="&iuml;",o[240]="&eth;",o[241]="&ntilde;",o[242]="&ograve;",o[243]="&oacute;",o[244]="&ocirc;",o[245]="&otilde;",o[246]="&ouml;",o[247]="&divide;",o[248]="&oslash;",o[249]="&ugrave;",o[250]="&uacute;",o[251]="&ucirc;",o[252]="&uuml;",o[253]="&yacute;",o[254]="&thorn;",o[255]="&yuml;"),"ENT_NOQUOTES"!==u&&(o[34]="&quot;"),"ENT_QUOTES"===u&&(o[39]="&#39;"),o[60]="&lt;",o[62]="&gt;";for(l in o)o.hasOwnProperty(l)&&(a[String.fromCharCode(l)]=o[l]);return"ENT_QUOTES"===u&&(a["'"]="&#039;"),t.tbls[r]=a}function r(e,n,r,i){var u=t("HTML_ENTITIES",n),l="";if(e=null==e?"":e+"",!u)return!1;if(i||null==i)for(l in u)u.hasOwnProperty(l)&&(e=e.split(l).join(u[l]));else e=e.replace(X,function(e,n,t){for(l in u)u.hasOwnProperty(l)&&(n=n.split(l).join(u[l]));return n+t});return e}function i(e){return encodeURIComponent(""+e).replace(z,"%21").replace(J,"%27").replace(Q,"%28").replace(W,"%29").replace(Z,"%2A").replace(en,"+")}function u(e,n,t,r){t=t||" ";var i=e.length>=n?"":new Array(1+n-e.length>>>0).join(t);return r?e+i:i+e}function l(e,n,t,r,i,l){var o=r-e.length;return o>0&&(e=t||!i?u(e,r,l,t):e.slice(0,n.length)+u("",o,"0",!0)+e.slice(n.length)),e}function o(e,n,t,r,i,o,a){var c=e>>>0;return t=t&&c&&{2:"0b",8:"0",16:"0x"}[n]||"",e=t+u(c.toString(n),o||0,"0",!1),l(e,t,r,i,a)}function a(e,n,t,r,i,u){return null!=r&&(e=e.slice(0,r)),l(e,"",n,t,i,u)}function c(){var e=arguments,n=0,t=e[n++],r=function(t,r,i,c,s,f,p){var d,_,O,h,E;if("%%"==t)return"%";var m,g=!1,C="",L=!1,v=!1,T=" ",D=i.length;for(m=0;i&&D>m;m++)switch(i.charAt(m)){case" ":C=" ";break;case"+":C="+";break;case"-":g=!0;break;case"'":T=i.charAt(m+1);break;case"0":L=!0;break;case"#":v=!0}if(c=c?"*"==c?+e[n++]:"*"==c.charAt(0)?+e[c.slice(1,-1)]:+c:0,0>c&&(c=-c,g=!0),!isFinite(c))throw new Error("sprintf: (minimum-)width must be finite");switch(f=f?"*"==f?+e[n++]:"*"==f.charAt(0)?+e[f.slice(1,-1)]:+f:"fFeE".indexOf(p)>-1?6:"d"==p?0:void 0,E=r?e[r.slice(0,-1)]:e[n++],p){case"s":return a(String(E),g,c,f,L,T);case"c":return a(String.fromCharCode(+E),g,c,f,L);case"b":return o(E,2,v,g,c,f,L);case"o":return o(E,8,v,g,c,f,L);case"x":return o(E,16,v,g,c,f,L);case"X":return o(E,16,v,g,c,f,L).toUpperCase();case"u":return o(E,10,v,g,c,f,L);case"i":case"d":return d=+E||0,d=Math.round(d-d%1),_=0>d?"-":C,E=_+u(String(Math.abs(d)),f,"0",!1),l(E,_,g,c,L);case"e":case"E":case"f":case"F":case"g":case"G":return d=+E,_=0>d?"-":C,O=["toExponential","toFixed","toPrecision"]["efg".indexOf(p.toLowerCase())],h=["toString","toUpperCase"]["eEfFgG".indexOf(p)%2],E=_+Math.abs(d)[O](f),l(E,_,g,c,L)[h]();default:return t}};return t.replace(nn,r)}function s(e,n){return n=n?(n+"").replace(tn,"\\$1"):" \\s ",(e+"").replace($("^["+n+"]+","g"),"")}function f(e,n){return n=n?(n+"").replace(tn,"\\$1"):" \\s ",(e+"").replace($("["+n+"]+$","g"),"")}function p(e,n){var t,r=0,i=0;for(e+="",n?(n+="",t=n.replace(tn,"\\$1")):t=" \n\r	\f            ​\u2028\u2029　",r=e.length,i=0;r>i;i++)if(-1===t.indexOf(e.charAt(i))){e=e.substring(i);break}for(r=e.length,i=r-1;i>=0;i--)if(-1===t.indexOf(e.charAt(i))){e=e.substring(0,i+1);break}return-1===t.indexOf(e.charAt(0))?e:""}function d(e,n){var t,r,i,u=/\\?([a-z])/gi,l=function(e,n){return e=e.toString(),e.length<n?l("0"+e,n,"0"):e},o=["Sun","Mon","Tues","Wednes","Thurs","Fri","Satur","January","February","March","April","May","June","July","August","September","October","November","December"];i=function(e,n){return r[e]?r[e]():n},r={d:function(){return l(r.j(),2)},D:function(){return r.l().slice(0,3)},j:function(){return t.getDate()},l:function(){return o[r.w()]+"day"},N:function(){return r.w()||7},S:function(){var e=r.j();return 4>e|e>20&&(["st","nd","rd"][e%10-1]||"th")},w:function(){return t.getDay()},z:function(){var e=new Date(r.Y(),r.n()-1,r.j()),n=new Date(r.Y(),0,1);return Math.round((e-n)/864e5)},W:function(){var e=new Date(r.Y(),r.n()-1,r.j()-r.N()+3),n=new Date(e.getFullYear(),0,4);return l(1+Math.round((e-n)/864e5/7),2)},F:function(){return o[6+r.n()]},m:function(){return l(r.n(),2)},M:function(){return r.F().slice(0,3)},n:function(){return t.getMonth()+1},t:function(){return new Date(r.Y(),r.n(),0).getDate()},L:function(){var e=r.Y();return e%4===0&e%100!==0|e%400===0},o:function(){var e=r.n(),n=r.W(),t=r.Y();return t+(12===e&&9>n?1:1===e&&n>9?-1:0)},Y:function(){return t.getFullYear()},y:function(){return r.Y().toString().slice(-2)},a:function(){return t.getHours()>11?"pm":"am"},A:function(){return r.a().toUpperCase()},B:function(){var e=3600*t.getUTCHours(),n=60*t.getUTCMinutes(),r=t.getUTCSeconds();return l(Math.floor((e+n+r+3600)/86.4)%1e3,3)},g:function(){return r.G()%12||12},G:function(){return t.getHours()},h:function(){return l(r.g(),2)},H:function(){return l(r.G(),2)},i:function(){return l(t.getMinutes(),2)},s:function(){return l(t.getSeconds(),2)},u:function(){return l(1e3*t.getMilliseconds(),6)},e:function(){throw"Not supported (see source code of date() for timezone on how to add support)"},I:function(){var e=new Date(r.Y(),0),n=Date.UTC(r.Y(),0),t=new Date(r.Y(),6),i=Date.UTC(r.Y(),6);return e-n!==t-i?1:0},O:function(){var e=t.getTimezoneOffset(),n=Math.abs(e);return(e>0?"-":"+")+l(100*Math.floor(n/60)+n%60,4)},P:function(){var e=r.O();return e.substr(0,3)+":"+e.substr(3,2)},T:function(){return"UTC"},Z:function(){return 60*-t.getTimezoneOffset()},c:function(){return"Y-m-d\\TH:i:sP".replace(u,i)},r:function(){return"D, d M Y H:i:s O".replace(u,i)},U:function(){return t/1e3|0}};var a=function(e,n){return t=void 0===n?new Date:new Date(n instanceof Date?n:1e3*n),e.replace(u,i)};return a(e,n)}function _(e,n,t){var r,i=rn.length,u=d(n,t);for(r=0;i>r;r++)e[M](rn[r])&&(u=u.split(rn[r]).join(e[rn[r]]));return u}var O,h,E,m,g,C,L,v,T,D,A,b,S,N="0.9.0.1",y="prototype",M="hasOwnProperty",I=Object,x=Array,k=Function,K=I.keys,w=I[y],j=x[y],R=(k[y],w.toString),F="undefined"!=typeof global&&"[object global]"===R.call(global),H="undefined"!=typeof navigator?navigator.userAgent:"",U=(/Chrome\//.test(H),function(e){return e&&(e.constructor===x||"[object Array]"===R.call(e))}),P=function(e){return e&&(e.constructor===I||"[object Object]"===R.call(e))},B=function(e){return null===e||"undefined"==typeof e?0:U(e)?e.length:P(e)?K(e).length:1},G=function(){return Math.floor((new Date).getTime()/1e3)},q=function(e,n){return new k(e,n)},$=function(e,n){return new RegExp(e,n||"")},V=null,Y=null,X=/([\s\S]*?)(&(?:#\d+|#x[\da-f]+|[a-zA-Z][\da-z]*);|$)/g,z=/!/g,J=/'/g,Q=/\(/g,W=/\)/g,Z=/\*/g,en=/%20/g,nn=/%%|%(\d+\$)?([-+\'#0 ]*)(\*\d+\$|\*|\d+)?(\.(\*\d+\$|\*|\d+))?([scboxXuideEfFgG])/g,tn=/([\[\]\(\)\.\?\/\*\{\}\+\$\^\:])/g,rn=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sun","Mon","Tues","Wednes","Thurs","Fri","Satur","January","February","March","April","May","June","July","August","September","October","November","December","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];F?(V=require("fs"),m=function(e){return V.realpathSync(e)},g=function(e,n){V.realpath(e,n)},C=function(e){return V.existsSync(e)},L=function(e,n){return V.exists(e,n),!1},v=function(e){return V.statSync(e)},T=function(e,n){V.stat(e,n)},D=function(e,n){return V.readFileSync(e,{encoding:n||"utf8"})},A=function(e,n,t){return V.readFile(e,{encoding:n||"utf8"},t),""},b=function(e,n,t){V.writeFileSync(e,n,{encoding:t||"utf8"})},S=function(e,n,t,r){V.writeFile(e,n,{encoding:t||"utf8"},r)}):(Y=window.XMLHttpRequest?function(){return new XMLHttpRequest}:function(){return new ActiveXObject("Microsoft.XMLHTTP")},m=function zt(e){var n,t;return zt.link||(zt.link=document.createElement("a")),n=zt.link,n.href=e,t=n.protocol+"//"+n.host+n.pathname+n.search+n.hash},g=function Jt(e,n){var t,r;Jt.link||(Jt.link=document.createElement("a")),t=Jt.link,t.href=e,r=t.protocol+"//"+t.host+t.pathname+t.search+t.hash,n&&n(r)},C=function(){return!0},L=function(e,n){return n&&n(!0),!0},v=function(e){var n,t=Y(),r={mtime:!1};return t.open("HEAD",e,!1),t.send(null),200===t.status&&(n=new Date(t.getResponseHeader("Last-Modified")),"Invalid Date"===n.toString()&&(n=!1),r.mtime=n),r},T=function(e,n){var t,r=Y(),i={mtime:!1};r.onload=function(){200===r.status&&(t=new Date(r.getResponseHeader("Last-Modified")),"Invalid Date"===t.toString()&&(t=!1),i.mtime=t),n&&n(i)},r.open("HEAD",e,!1),r.send(null)},D=function(e,n){var t=Y();return n=n||"utf8",t.open("GET",e,!1),t.setRequestHeader("Content-Type","text/plain; charset="+n),t.overrideMimeType("text/plain; charset="+n),t.send(null),200===t.status?t.responseText:""},A=function(e,n,t){var r=Y();return n=n||"utf8",r.open("GET",e,!0),r.setRequestHeader("Content-Type","text/plain; charset="+n),r.overrideMimeType("text/plain; charset="+n),r.responseType="text",r.onload=function(){var e=200!==r.status;t&&t(e,e?"":r.responseText)},r.send(null),""},b=function(){},S=function(e,n,t,r){r&&r()}),t.constMappingTable={},t.constMappingQuoteStyle={},t.constMappingTable[0]="HTML_SPECIALCHARS",t.constMappingTable[1]="HTML_ENTITIES",t.constMappingQuoteStyle[0]="ENT_NOQUOTES",t.constMappingQuoteStyle[2]="ENT_COMPAT",t.constMappingQuoteStyle[3]="ENT_QUOTES",t.tbls={};var un,ln,on,an,cn,sn,fn,pn,dn,_n,On,hn,En,mn,gn,Cn,Ln,vn=!1,Tn={},Dn={},An=!1,bn=0,Sn="./",Nn={},yn={},Mn={},In="<%",xn="%>",kn="",Kn="",wn="",jn="' + \"\\n\" + '",Rn="",Fn=F?require("os").EOL:"\n",Hn=!0,Un=null,Pn=0,Bn="    ",Gn=0,qn=0,$n=0,Vn=0,Yn=2,Xn=null,zn=null,Jn=null,Qn=null,Wn=null,Zn=-1,et=null,nt=null,tt=0,rt=/[\W]+/g,it=/\n\r|\r\n|\n|\r/g,ut=/'/g,lt=/^[a-zA-Z_]/,ot=/^[0-9]/,at=/^[a-zA-Z0-9_]/i,ct=/^\s/,st=/(\t|[ ]?)[ ]*%([a-zA-Z_][a-zA-Z0-9_]*)\b[ ]*(\()(.*)$/g,ft=["set","unset","isset","if","elseif","else","endif","for","elsefor","endfor","extends","block","endblock","include"],pt=["s","n","f","q","dq","echo","time","count","lowercase","uppercase","ucfirst","lcfirst","sprintf","date","ldate","locale","plural","inline","tpl","uuid","haskey","concat","ltrim","rtrim","trim","addslashes","stripslashes","camelcase","snakecase","e","html","url","super"],dt={l:"locale",now:"time",template:"tpl"},_t={},Ot=function(){qn=0,$n=0,Vn=0,Yn=2,Pn=0,Xn=[],zn={},Jn=[[null,-1]],et=null,un={},ln={},on="_",un[on]=un[on]||{},ln[on]=ln[on]||{}},ht=function(){qn=0,$n=0,Vn=0,Yn=2,Pn=0,Xn=null,zn=null,Jn=null,un=null,ln=null,on=null,Gn=0,Un=[],nt=null},Et=function(){Un.push([qn,$n,Vn,Yn,Pn,Xn,zn,Jn,et,un,ln,on])},mt=function(){var e=Un.pop();qn=e[0],$n=e[1],Vn=e[2],Yn=e[3],Pn=e[4],Xn=e[5],zn=e[6],Jn=e[7],et=e[8],un=e[9],ln=e[10],on=e[11]},gt=function(e,n){if(2>arguments.length&&(n=Pn),n>=0){n=0===n?n:n+1;var t=new x(n).join(Bn);e=t+e.split(it).join(Fn+t)}return e},Ct=function(){var e=arguments,n=e.length;if(!(1>n)){var t,r,i,u=e[0];for(t=1;n>t;t++)if(i=e[t])for(r in i)i[M](r)&&(u[r]=i[r]);return u}},Lt=function(e,n){var t,r;if(n)r=p(n).split(" "),In=p(r[0]),xn=p(r[1]);else{for(t=e.split("\n");t.length&&!p(t[0]).length;)t.shift();t.length&&(r=p(t.shift()).split(" "),In=p(r[0]),xn=p(r[1])),e=t.join("\n")}return e},vt=function(e){for(var n,t=0,r=e.length,i="";r>t;)switch(n=e.charAt(t++),n.charCodeAt(0)){case 34:i+="&quot;";break;case 38:i+="&amp;";break;case 39:i+="&#39;";break;case 60:i+="&lt;";break;case 62:i+="&gt;";break;default:i+=n}return i},Tt=function(e,n){var t;return(t=yn[e])?t[1]?An&&n?(n(t[0]),""):t[0]:F?An&&n?(A(t[0],O.ENCODING,function(e,t){n(e?"":t)}),""):D(t[0],O.ENCODING):"#"===t[0].charAt(0)?An&&n?(n(window.document.getElementById(t[0].substring(1)).innerHTML||""),""):window.document.getElementById(t[0].substring(1)).innerHTML||"":An&&n?(A(t[0],O.ENCODING,function(e,t){n(e?"":t)}),""):D(t[0],O.ENCODING):""},Dt=function(e){return'("undefined" !== typeof('+e+"))"},At=function(e){e=e.split(",");var n=p(e.shift()),t=p(e.join(","));return"';"+Fn+gt(n+" = ("+t+");")+Fn},bt=function(e){return e&&e.length?(e=p(e),"';"+Fn+gt('if ("undefined" !== typeof('+e+")) delete "+e+";")+Fn):"';"+Fn},St=function(e){var n="';"+gt(fn({EOL:Fn,IFCOND:e}));return $n++,Pn++,n},Nt=function(e){Pn--;var n="';"+gt(pn({EOL:Fn,ELIFCOND:e}));return Pn++,n},yt=function(){Pn--;var e="';"+gt(dn({EOL:Fn}));return Pn++,e},Mt=function(){$n--,Pn--;var e="';"+gt(_n({EOL:Fn}));return e},It=function(e){var n,t,r,i,u,l=e.indexOf(" as "),o=e.indexOf(" in ");if(o>-1?(e=[e.slice(0,o),e.slice(o+4)],t=p(e[1]),r="_loc_"+ ++Gn,i=e[0].split(",")):(e=[e.slice(0,l),e.slice(l+4)],t=p(e[0]),r="_loc_"+ ++Gn,i=e[1].split("=>")),u=i.length>=2){var a=p(i[0]),c=p(i[1]),s="_loc_"+ ++Gn,f="_loc_"+ ++Gn,d="_loc_"+ ++Gn;un[on][ln[on][a]]=1,un[on][ln[on][c]]=1,n="';"+gt(hn({EOL:Fn,O:t,_O:r,_OK:s,K:a,_K:f,_L:d,V:c,ASSIGN1:""+a+" = "+s+"["+f+"]; "+c+" = "+r+"["+a+"];"})),Yn=2,Pn+=2}else{var c=p(i[0]),_="_loc_"+ ++Gn,O="_loc_"+ ++Gn,f="_loc_"+ ++Gn,h="_loc_"+ ++Gn,d="_loc_"+ ++Gn;un[on][ln[on][c]]=1,n="';"+gt(On({EOL:Fn,O:t,_O:r,_OV:_,_ARR:O,_KK:h,_K:f,_L:d,V:c,ASSIGN1:""+c+" = "+O+" ? "+h+" : "+r+"["+h+"];"})),Yn=1,Pn+=2}return qn++,Vn++,n},xt=function(){var e;return 2===Yn?(Vn--,Pn+=-2,e="';"+gt(En({EOL:Fn})),Pn+=1):(Vn--,Pn+=-2,e="';"+gt(En({EOL:Fn})),Pn+=1),e},kt=function(){var e;return Vn===qn?2===Yn?(qn--,Vn--,Pn+=-2,e="';"+gt(gn({EOL:Fn}))):(qn--,Vn--,Pn+=-2,e="';"+gt(gn({EOL:Fn}))):(qn--,Pn+=-1,e="';"+gt(mn({EOL:Fn}))),e},Kt=function(e){e=p(e),nt&&nt[M](e)&&(e=nt[e]);var n=e.charAt(0);return('"'===n||"'"===n)&&(e=e.slice(1,-1)),Mn[e]||(Et(),Ot(),Mn[e]=" "+Bt(Lt(Tt(e)),!1)+"';"+Fn,mt()),gt(Mn[e])},wt=function(e){e=p(e),nt&&nt[M](e)&&(e=nt[e]);var n=e.charAt(0);return('"'===n||"'"===n)&&(e=e.slice(1,-1)),et=e,"';"+Fn},jt=function(e){e=p(e),nt&&nt[M](e)&&(e=nt[e]);var n=e.charAt(0);return('"'===n||"'"===n)&&(e=e.slice(1,-1)),Xn.push([e,-1,-1,0,Jn[0][1]]),zn[e]=zn[e]?zn[e]+1:1,Zn=Xn.length,Jn.unshift([e,Zn-1]),Qn=e,Wn=null,on=e,un[on]=un[on]||{},ln[on]=ln[on]||{},"' +  #|"+e+"|#"},Rt=function(){if(1<Jn.length){var e=Jn.shift();return Wn=e[0],Zn=e[1]+1,Qn=null,on=Jn.length?Jn[0][0]:"_","#|/"+e[0]+"|#"}return on="_",""},Ft=function(e,n,t){var r,i,u,l,o;for(r=e.split(n),i=r.length,u=[],l=0;i>l;l++)o=r[l].split(t),u.push(o[0]),o.length>1&&u.push(o[1]);return u},Ht=function Qt(e,n,t,r,i){i=i||"";for(var u,l,o="",a="",c=1,s=i.length,f=0;s>f&&c>0;)u=i.charAt(f++),"("===u?c++:")"===u&&c--,c>0&&(a+=u);if(i=i.slice(a.length+1),l=ft.indexOf(t),l>-1)switch(l){case 0:return a=a.replace(st,Qt),o=At(a),i=i.replace(st,Qt),o+i;case 1:return a=a.replace(st,Qt),o=bt(a),i=i.replace(st,Qt),o+i;case 2:return a=a.replace(st,Qt),o=Dt(a),i=i.replace(st,Qt),o+i;case 3:return a=a.replace(st,Qt),o=St(a),i=i.replace(st,Qt),o+i;case 4:return a=a.replace(st,Qt),o=Nt(a),i=i.replace(st,Qt),o+i;case 5:return o=yt(a),i=i.replace(st,Qt),o+i;case 6:return o=Mt(a),i=i.replace(st,Qt),o+i;case 7:return a=a.replace(st,Qt),o=It(a),i=i.replace(st,Qt),o+i;case 8:return o=xt(a),i=i.replace(st,Qt),o+i;case 9:return o=kt(a),i=i.replace(st,Qt),o+i;case 10:return o=wt(a),i=i.replace(st,Qt),o+i;case 11:return o=jt(a),i=i.replace(st,Qt),o+i;case 12:return o=Rt(a),i=i.replace(st,Qt),o+i;case 13:return o=Kt(a),i=i.replace(st,Qt),o+i}if(_t[M](t)){n=n||"";var p=_t[t];return a=a.replace(st,Qt),o=p instanceof O.InlineTemplate?p.render({args:a}):p+"("+a+")",i=i.replace(st,Qt),n+o+i}if(dt[M](t)&&(t=dt[t]),l=pt.indexOf(t),l>-1){switch(n=n||"",a=a.replace(st,Qt),l){case 0:case 5:o="String("+a+")";break;case 1:o="parseInt("+a+")";break;case 2:o="parseFloat("+a+")";break;case 3:o='"\'"+('+a+')+"\'"';break;case 4:o="'\"'+("+a+")+'\"'";break;case 6:o="Contemplate.time()";break;case 7:o="Contemplate.count("+a+")";break;case 8:o="("+a+").toLowerCase()";break;case 9:o="("+a+").toUpperCase()";break;case 10:o="Contemplate.ucfirst("+a+")";break;case 11:o="Contemplate.lcfirst("+a+")";break;case 12:o="Contemplate.sprintf("+a+")";break;case 32:o="self.renderSuperBlock("+a+", data)";break;default:o="Contemplate."+t+"("+a+")"}return i=i.replace(st,Qt),n+o+i}return e},Ut=function(e){for(var n,t,r,i,u,l,o,a,c,s,f=[],p=Xn.length;p--;)t=Xn[p],n=t[0],o=t[1],a=t[2],c=t[3],s=t[4],r="#|"+n+"|#",i="__i__.renderBlock('"+n+"', data);",u=r.length,l=i.length,s>-1&&(Xn[s][3]+=l-(a-o+1)),a+=c,1===zn[n]&&f.push([n,sn({EOL:Fn,BLOCKCODE:e.slice(o+u,a-u-1)+"';"})]),e=e.slice(0,o)+i+e.slice(a+1),1<=zn[n]&&zn[n]--;return[e,f]},Pt=function Wt(e,n,t){if(lt.test(e[n])){var r,i,u,l,o,a,c,s,f,p,d,_,O,h,E,m,g,C,L={},v=[],T=0,D=!1;for(u=e[n++];t>n&&at.test(e[n]);)u+=e[n++];for(o=u,a="data."+o,c="",Gn++,i="#VAR"+Gn+"#",s=o.length,T=0;t>n&&ct.test(e[n]);)T++,n++;for(p=0;t>n&&("."===e[n]||"["===e[n]);){for(d=e[n++];t>n&&ct.test(e[n]);)T++,n++;if("."===d){for(l="";t>n&&at.test(e[n]);)l+=e[n++];if(f=l.length,!f)break;c+="."+l,s+=T+1+f,T=0}else if("["===d){if(p++,_=e[n],'"'===_||"'"===_){for(O=h=_,E=!1,m=n+1;t>m&&(O+=_=e[m++],h!==_||E);)E=!E&&"\\"===_;l=O,Gn++,g="#STR"+Gn+"#",L[g]=l,c+=d+g,f=l.length,n+=f,s+=T+1+f,T=0,D=!0}else if(ot.test(_)){for(l=e[n++];t>n&&ot.test(e[n]);)l+=e[n++];c+=d+l,f=l.length,s+=T+1+f,T=0}else if("$"===_)C=e.slice(n+1),r=Wt(C,0,C.length),r&&(l=r[r.length-1],c+=d+l[0],f=l[4],n+=f+1,s+=T+2+f,T=0,v=v.concat(r),D=D||l[5]);else{if("]"!==_)break;if(!(p>0))break;p--,c+=d+e[n++],s+=T+2,T=0}for(;t>n&&ct.test(e[n]);)T++,n++;if("]"===e[n]){if(!(p>0))break;p--,c+=e[n++],s+=T+1,T=0}}for(;t>n&&ct.test(e[n]);)T++,n++}return v.push([i,o,a,c,s,D,L]),v}return null},Bt=function(e,n){var t,r,i,u,l,o,a,c,s,f,p,d,_,h,E,m,g,C,L,v,T,D,A,b,S,N,y,I,x,k,K=O.InlineTemplate.multisplit_re,w="$ \n\r	'\"",j=/#STR\d+#/g;for(t=Ft(e,In,xn),r=t.length,o=!1,i="",l=0;r>l;l++){if(u=t[l],o){for(E=u.length,f=[],s={},p=!1,d=!1,x=!1,m=0,y=0,g="",C="";E>m;)if(g=u[m++],D=w.indexOf(g),D>-1)if(0===D)if(y>0&&(C+=" ",y=0),L=Pt(u,m,E)){for(v=0;v<L.length;v++)T=L[v],h=T[0],ln[on][h]=T[1],T[5]&&(s=Ct(s,T[6]));C+=h,m+=T[4],f=f.concat(L),p=!0,d=d||T[5]}else C+="$";else if(6>D)y++;else{for(y>0&&(C+=" ",y=0),b=A=g,S=!1,N=m;E>N&&(b+=g=u[N++],A!==g||S);)S=!S&&"\\"===g;L=b,Gn++,h="#STR"+Gn+"#",s[h]=L,C+=h,m+=L.length-1,d=!0}else y>0&&(C+=" ",y=0),C+=g;if(a="	"+C+"",Qn=null,Wn=null,Zn=-1,nt=s,a=a.replace(st,Ht),Qn?(Qn="#|"+Qn+"|#",x=!0):Wn&&(Wn="#|/"+Wn+"|#",x=!0),k=x,9===a.charCodeAt(0)&&11===a.charCodeAt(a.length-1)&&(a="' + ("+a.slice(1,-1)+") + '"),p)for(v=f.length-1;v>=0;v--)h=f[v][0],_=f[v][1],a=a.split(h+"__RAW__").join(_).split(h).join((un[on][M](_)?"_loc_"+_:f[v][2])+f[v][3]);if(d)for(c=K(a,j),a="",v=0;v<c.length;v++)c[v][0]?(k&&(Qn?(I=c[v][1].indexOf(Qn),-1!==I&&(Xn[Zn-1][1]=I+i.length+a.length,k=!1)):(I=c[v][1].indexOf(Wn),-1!==I&&(Xn[Zn-1][2]=I+i.length+a.length+Wn.length,k=!1))),a+=c[v][1]):a+=s[c[v][1]];else x&&(Qn?Xn[Zn-1][1]=i.length+a.indexOf(Qn):Xn[Zn-1][2]=i.length+a.indexOf(Wn)+Wn.length);11===a.charCodeAt(a.length-1)&&(a=a.slice(0,-1)+gt(Kn)),9===a.charCodeAt(0)&&(a=kn+a.slice(1),x&&(I=kn.length-1,Qn?Xn[Zn-1][1]+=I:Xn[Zn-1][2]+=I)),u=a,o=!1}else Hn&&(u=u.split("\\").join("\\\\")),u=u.split("'").join("\\'").split(/\n/).join(Rn),o=!0;i+=u}return!1!==n?Xn.length>0?Ut(i):[i,[]]:i},Gt=function(e){return Sn+e.replace(rt,"_")+"_tpl.js"},qt=function(e){return"Contemplate_"+e.replace(rt,"_")+"_Cached"},$t=function(e,n){Ot();var t,r,i,u,l=Bt(Lt(Tt(e),n)),o={};for(ht(),u=l[0],l=l[1],r=l.length,i=Cn(et?{EOL:Fn,FCODE:gt("__p__ = '';",0)}:{EOL:Fn,FCODE:gt("__p__ = '"+u+"';",0)}),t=0;r>t;t++)o[l[t][0]]=q("Contemplate,data,self,__i__",l[t][1]);return[q("Contemplate",i),o]},Vt=function(e,n,t,r){Ot();var i,u,l,o,a,c,s,f=Bt(Lt(Tt(e),r));for(ht(),s=f[0],f=f[1],a=f.length,c=[],o=0;a>o;o++)c.push(Fn+cn({EOL:Fn,BLOCKNAME:f[o][0],BLOCKMETHODNAME:f[o][0],BLOCKMETHODCODE:gt(f[o][1],1)}));c=c.length?Fn+"self._blocks = { "+Fn+gt(c.join(","+Fn),1)+Fn+"};"+Fn:"",et?(u="self.extend('"+et+"');",l=Ln({EOL:Fn,RCODE:"__p__ = '';"})):(u="",l=Ln({EOL:Fn,RCODE:"__p__ += '"+s+"';"})),i=wn?wn:"";var p=an({EOL:Fn,CLASSNAME:t,TPLID:e,PREFIXCODE:i,EXTENDCODE:gt(u,2),BLOCKS:gt(c,2),RENDERCODE:gt(l,2)});return Xt(n,p)},Yt=function(e,n){var t;if(t=yn[e]){if(t[1]){var r,i;return n.parsed?i=O.Template(e).setRenderFunction(q("Contemplate",n.parsed)):(r=$t(e,n.separators),i=O.Template(e).setRenderFunction(r[0]).setBlocks(r[1])),et&&i.extend(O.tpl(et)),i}if(F||(bn=O.CACHE_TO_DISK_NONE),!0!==n.autoUpdate&&O.CACHE_TO_DISK_NOUPDATE===bn){var u=Gt(e),l=qt(e);if(C(u)||Vt(e,u,l,n.separators),C(u)){var o=require(u)(O),i=new o(e);return i}return null}if(!0===n.autoUpdate||O.CACHE_TO_DISK_AUTOUPDATE===bn){var u=Gt(e),l=qt(e);if(C(u)){var a=v(u),c=v(t[0]);a.mtime.getTime()<=c.mtime.getTime()&&Vt(e,u,l,n.separators)}else Vt(e,u,l,n.separators);if(C(u)){var o=require(u)(O),i=new o(e);return i}return null}var r=$t(e,n.separators),i=O.Template(e).setRenderFunction(r[0]).setBlocks(r[1]);return et&&i.extend(O.tpl(et)),i}return null},Xt=function(e,n,t){t?S(e,n,O.ENCODING,t):b(e,n,O.ENCODING)};return E=function Zt(e,n,t){var r=this;return r instanceof Zt?(r.id=null,r._renderer=null,r.tpl=Zt.multisplit(e||"",n||{}),void(!0===t?(r._renderer=Zt.compile(r.tpl),r.render=r._renderer):r._renderer=null)):new Zt(e,n,t)},E.multisplit=function(e,n,t){var r,i,u,l,o,a,c,s,f,p;t=!!t,a=[[1,e]];for(r in n)if(n.hasOwnProperty(r)){for(s=[],i=t?n[r]:r,u=[0,n[r]],l=0,f=a.length;f>l;l++)if(1===a[l][0]){if(c=a[l][1].split(i),p=c.length,s.push([1,c[0]]),p>1)for(o=0;p-1>o;o++)s.push(u),s.push([1,c[o+1]])}else s.push(a[l]);a=s}return a},E.multisplit_re=function(e,n){for(var t,r=[],i=0;t=n.exec(e);)r.push([1,e.slice(i,n.lastIndex-t[0].length)]),r.push([0,t[1]?t[1]:t[0]]),i=n.lastIndex;return r.push([1,e.slice(i)]),r},E.compile=function(e){var n,t,r,i=e.length,u='"use strict";\nreturn (';for(n=0;i>n;n++)t=e[n][0],r=e[n][1],u+=t?"'"+r.replace(ut,"\\'").replace(it,"' + \"\\n\" + '")+"'":" + String(args['"+r+"']) + ";return u+=");",q("args",u)},E[y]={constructor:E,id:null,tpl:null,_renderer:null,dispose:function(){var e=this;return e.id=null,e.tpl=null,e._renderer=null,e},render:function(e){var n=this;if(e=e||[],n._renderer)return n._renderer(e);var t,r,i,u=n.tpl,l=u.length,o="";for(t=0;l>t;t++)r=u[t][0],i=u[t][1],o+=r?i:e[i];return o}},h=function er(e){var n=this;return n instanceof er?(n._renderer=null,n._blocks=null,n._extends=null,n.id=null,void(e&&(n.id=e))):new er(e)},h.renderProxy=function(e,n){return this._extends.render(e,n||this)},h[y]={constructor:h,id:null,_extends:null,_blocks:null,_renderer:null,dispose:function(){var e=this;return e._renderer=null,e._blocks=null,e._extends=null,e.id=null,e},fixRenderer:function(){var e=this,n=e._extends;return e.render=n&&n instanceof h?h.renderProxy:"function"==typeof e._renderer?e._renderer:e.constructor[y].render,e},setId:function(e){return e&&(this.id=e),this},extend:function(e){var n=this;return n._extends=e&&e.substr?O.tpl(e):e instanceof h?e:null,n.fixRenderer()},setRenderFunction:function(e){var n=this;return n._renderer="function"==typeof e?e(O):null,n.fixRenderer()},setBlocks:function(e){var n=this;return"object"==typeof e&&(n._blocks=Ct(n._blocks||{},e)),n},renderBlock:function(e,n,t){var r=this;t=t||r;var i=r._blocks;return i&&i[M](e)?i[e](O,n,r,t):r._extends?r._extends.renderBlock(e,n,t):""},renderSuperBlock:function(e,n){var t=this;return t._extends?t._extends.renderBlock(e,n,t._extends):""},render:function(){var e="";return e}},O={VERSION:N,CACHE_TO_DISK_NONE:0,CACHE_TO_DISK_AUTOUPDATE:2,CACHE_TO_DISK_NOUPDATE:4,ENCODING:"utf8",Template:h,InlineTemplate:E,init:function(){vn||(Rn=jn,kn="';"+Fn,Kn=Fn+"__p__ += '",an=E.compile(E.multisplit(["#PREFIXCODE#","!function (root, moduleName, moduleDefinition) {","    // export the module","    var m;","    // node, CommonJS, etc..","    if ( 'object' === typeof(module) && module.exports ) module.exports = moduleDefinition();","    // browser and AMD, etc..","    else (root[ moduleName ] = m = moduleDefinition()) && ('function' === typeof(define) && define.amd && define(moduleName,[],function(){return m;}));","}(this, '#CLASSNAME#', function( ){",'    "use strict";',"    return function( Contemplate ) {","    /* Contemplate cached template '#TPLID#' */","    ","    /* constructor */","    function #CLASSNAME#(id)","    {","        var self = this;","        /* initialize internal vars */","        ","        self._renderer = null;","        self._blocks = null;","        self._extends = null;","        self.id = id || null;","        ","        /* tpl-defined blocks render code starts here */","#BLOCKS#","        /* tpl-defined blocks render code ends here */","        ","        /* extend tpl assign code starts here */","#EXTENDCODE#","        /* extend tpl assign code ends here */","    };","    ","    /* extends main Contemplate.Template class */","    #CLASSNAME#.prototype = Object.create(Contemplate.Template.prototype);","    /* tpl render method */","    #CLASSNAME#.prototype.render = function( data, __i__ ) {",'        "use strict";',"        var self = this, __p__ = '';","        __i__ = __i__ || self;","        /* tpl main render code starts here */","#RENDERCODE#","        /* tpl main render code ends here */","        return __p__;","    };","    ","    // export it","    return #CLASSNAME#;","    };","});",""].join("#EOL#"),{"#EOL#":"EOL","#PREFIXCODE#":"PREFIXCODE","#CLASSNAME#":"CLASSNAME","#TPLID#":"TPLID","#BLOCKS#":"BLOCKS","#EXTENDCODE#":"EXTENDCODE","#RENDERCODE#":"RENDERCODE"})),cn=E.compile(E.multisplit(["","/* tpl block render method for block '#BLOCKNAME#' */","'#BLOCKMETHODNAME#': function( Contemplate, data, self, __i__ ) {","#BLOCKMETHODCODE#","}",""].join("#EOL#"),{"#EOL#":"EOL","#BLOCKNAME#":"BLOCKNAME","#BLOCKMETHODNAME#":"BLOCKMETHODNAME","#BLOCKMETHODCODE#":"BLOCKMETHODCODE"})),sn=E.compile(E.multisplit(['"use strict";',"var __p__ = '';","#BLOCKCODE#","return __p__;",""].join("#EOL#"),{"#EOL#":"EOL","#BLOCKCODE#":"BLOCKCODE"})),fn=E.compile(E.multisplit(["","if (#IFCOND#)","{",""].join("#EOL#"),{"#EOL#":"EOL","#IFCOND#":"IFCOND"})),pn=E.compile(E.multisplit(["","}","else if (#ELIFCOND#)","{",""].join("#EOL#"),{"#EOL#":"EOL","#ELIFCOND#":"ELIFCOND"})),dn=E.compile(E.multisplit(["","}","else","{",""].join("#EOL#"),{"#EOL#":"EOL"})),_n=E.compile(E.multisplit(["","}",""].join("#EOL#"),{"#EOL#":"EOL"})),hn=E.compile(E.multisplit(["","var #_O# = #O#, #_OK# = #_O# ? Object.keys(#_O#) : null,","    #_K#, #K#, #V#, #_L# = #_OK# ? #_OK#.length : 0;","if (#_L#)","{","    for (#_K#=0; #_K#<#_L#; #_K#++)","    {","        #ASSIGN1#","        ",""].join("#EOL#"),{"#EOL#":"EOL","#O#":"O","#_O#":"_O","#_OK#":"_OK","#_K#":"_K","#K#":"K","#V#":"V","#_L#":"_L","#ASSIGN1#":"ASSIGN1"})),On=E.compile(E.multisplit(["","var #_O# = #O#, #_ARR# = !!#_O#.forEach,","    #_OV# = #_O# ? (#_ARR# ? #_O# : Object.keys(#_O#)) : null,","    #_K#, #_KK#, #V#, #_L# = #_OV# ? #_OV#.length : 0;","if (#_L#)","{","    for (#_K#=0; #_K#<#_L#; #_K#++)","    {","        #_KK# = #_OV#[#_K#];","        #ASSIGN1#","        ",""].join("#EOL#"),{"#EOL#":"EOL","#O#":"O","#_O#":"_O","#_OV#":"_OV","#_K#":"_K","#_KK#":"_KK","#_ARR#":"_ARR","#V#":"V","#_L#":"_L","#ASSIGN1#":"ASSIGN1"})),En=E.compile(E.multisplit(["","    }","}","else","{  ",""].join("#EOL#"),{"#EOL#":"EOL"})),gn=E.compile(E.multisplit(["","    }","}",""].join("#EOL#"),{"#EOL#":"EOL"})),mn=E.compile(E.multisplit(["","}",""].join("#EOL#"),{"#EOL#":"EOL"})),Cn=E.compile(E.multisplit(["return function( data, __i__ ){",'"use strict";',"var self = this, __p__ = '';","__i__ = __i__ || self;","#FCODE#","return __p__;","};"].join("#EOL#"),{"#EOL#":"EOL","#FCODE#":"FCODE"})),Ln=E.compile(E.multisplit(["","#RCODE#",""].join("#EOL#"),{"#EOL#":"EOL","#RCODE#":"RCODE"})),ht(),vn=!0)},hasPlugin:function(e){return!!e&&_t[M](e)},addPlugin:function(e,t){e&&t&&(t instanceof O.InlineTemplate?_t[e]=t:n===O[e]&&(_t[e]="Contemplate."+e,O[e]=t))},setPrefixCode:function(e){e&&(wn=""+e)},setLocales:function(e){"object"==typeof e&&(Tn=Ct(Tn,e))},clearLocales:function(){Tn={}},setPlurals:function(e){if("object"==typeof e){for(var n in e)e[M](n)&&null==e[n]&&(e[n]=n+"s");Dn=Ct(Dn,e)}},clearPlurals:function(){Dn={}},setTemplateSeparators:function(e){e&&(e.left&&(In=""+e.left),e.right&&(xn=""+e.right))},setPreserveLines:function(e){arguments.length<1&&(e=!0),Rn=e?jn:""},setCacheDir:function(e){Sn=f(e,"/")+"/"},setCacheMode:function(e){bn=F?e:O.CACHE_TO_DISK_NONE},clearCache:function(e){Nn={},e&&(Mn={})},add:function(e,n){if("object"==typeof e)for(var t in e)e[M](t)&&(U(e[t])?e[t][0]&&(yn[t]=[e[t][0],!0]):yn[t]=[e[t],!1]);else e&&n&&(U(n)?n[0]&&(yn[e]=[n[0],!0]):yn[e]=[n,!1])},hasTpl:function(e){return!!e&&yn[M](e)},parseTpl:function(e,n){var t,r,i=n&&n.separators?n.separators:null;return i&&(t=[In,xn],In=i[0],xn=i[1]),Ot(),r=Bt(e),ht(),i&&(In=t[0],xn=t[1]),r},tpl:function(e,n,t){if(e instanceof O.Template)return"object"==typeof n?e.render(n):e;t=Ct({autoUpdate:!1,refresh:!1,escape:!0,separators:null},t),Hn=!1!==t.escape,(t.refresh||!Nn[e])&&(Nn[e]=Yt(e,t));var r=Nn[e];return"object"==typeof n?r.render(n):r},inline:function(e,n,t){return e instanceof O.InlineTemplate?e.render(n):O.InlineTemplate(e,n,t)},haskey:function(e){var n,t,r,i=R.call(e);if(!e||"[object Array]"!==i&&"[object Object]"!==i)return!1;for(n=arguments,r=e,t=1;t<n.length;t++){if(!r||!r[M](n[t]))return!1;r=r[n[t]]}return!0},e:vt,html:function(e,n){return r(e,n||"ENT_COMPAT","UTF-8")},url:i,count:B,addslashes:function(e){return(e+"").replace(/[\\"']/g,"\\$&").replace(/\u0000/g,"\\0")},stripslashes:function(e){return(e+"").replace(/\\(.?)/g,function(e,n){switch(n){case"\\":return"\\";case"0":return"\x00";case"":return"";default:return n}})},concat:function(){return j.join.call(arguments,"")},trim:p,ltrim:s,rtrim:f,ucfirst:function(e){return e[0].toUpperCase()+e.substr(1)},lcfirst:function(e){return e[0].toLowerCase()+e.substr(1)},camelcase:function(e,n,t){return n=n||"_",t?e.split(n).map(O.ucfirst).join(""):O.lcfirst(e.split(n).map(O.ucfirst).join(""))},snakecase:function(e,n){return n=n||"_",e.replace(/([A-Z])/g,n+"$1").toLowerCase()},sprintf:c,time:G,date:function(e,n){return n||(n=G()),d(e,n)},ldate:function(e,n){return n||(n=G()),_(Tn,e,n)},locale:function(e){return Tn[M](e)?Tn[e]:e
},plural:function(e,n){return Dn[e]&&1!==n?Dn[e]:e},uuid:function(e){return[e||"UUID",++tt,G()].join("_")},getTemplateContents:Tt,hasOwn:function(e,n){return e&&e[M](n)},keys:function(e){return e?K(e):null},values:function(e){if(e){if(e.push)return e;var n,t=[];for(n in e)e[M](n)&&t.push(e[n]);return t}return null},items:function(e){return e?e:null},merge:Ct,data:function(e){if(U(e))return e.slice();var n,t,r={};for(n in e)e[M](n)&&(t=n,r[t]=e[n]);return r}},O.init(),O});