/**
*  Contemplate
*  Light-weight Template Engine for PHP, Python, Node and client-side JavaScript
*
*  @version: 0.9.2
*  https://github.com/foo123/Contemplate
*
*  @inspired by : Simple JavaScript Templating, John Resig - http://ejohn.org/ - MIT Licensed
*  http://ejohn.org/blog/javascript-micro-templating/
*
**/
!function(e,n,t){"use strict";var r,i="object"==typeof module&&module.exports,l="function"==typeof define&&define.amd;i?module.exports=(module.$deps=module.$deps||{})[n]=module.$deps[n]||t.call(e,{NODE:module})||1:l&&"function"==typeof require&&"function"==typeof require.specified&&require.specified(n)?define(n,["require","exports","module"],function(n,r,i){return t.call(e,{AMD:i})}):n in e||(e[n]=r=t.call(e,{})||1)&&l&&define(n,[],function(){return r})}(this,"Contemplate",function(e,n){"use strict";function t(e,n,t,r){t=t||" ";var i=e.length>=n?"":new Array(1+n-e.length>>>0).join(t);return r?e+i:i+e}function r(e,n,r,i,l,a){var o=i-e.length;return o>0&&(e=r||!l?t(e,i,a,r):e.slice(0,n.length)+t("",o,"0",!0)+e.slice(n.length)),e}function i(e,n,i,l,a,o,u){var s=e>>>0;return i=i&&s&&{2:"0b",8:"0",16:"0x"}[n]||"",e=i+t(s.toString(n),o||0,"0",!1),r(e,i,l,a,u)}function l(e,n,t,i,l,a){return null!=i&&(e=e.slice(0,i)),r(e,"",n,t,l,a)}function a(){var e=arguments,n=0,a=e[n++],o=function(a,o,u,s,c,f,p){var d,_,O,h,m;if("%%"==a)return"%";var E,g=!1,C="",L=!1,D=!1,v=" ",A=u.length;for(E=0;u&&A>E;E++)switch(u.charAt(E)){case" ":C=" ";break;case"+":C="+";break;case"-":g=!0;break;case"'":v=u.charAt(E+1);break;case"0":L=!0;break;case"#":D=!0}if(s=s?"*"==s?+e[n++]:"*"==s.charAt(0)?+e[s.slice(1,-1)]:+s:0,0>s&&(s=-s,g=!0),!isFinite(s))throw new Error("sprintf: (minimum-)width must be finite");switch(f=f?"*"==f?+e[n++]:"*"==f.charAt(0)?+e[f.slice(1,-1)]:+f:"fFeE".indexOf(p)>-1?6:"d"==p?0:void 0,m=o?e[o.slice(0,-1)]:e[n++],p){case"s":return l(String(m),g,s,f,L,v);case"c":return l(String.fromCharCode(+m),g,s,f,L);case"b":return i(m,2,D,g,s,f,L);case"o":return i(m,8,D,g,s,f,L);case"x":return i(m,16,D,g,s,f,L);case"X":return i(m,16,D,g,s,f,L).toUpperCase();case"u":return i(m,10,D,g,s,f,L);case"i":case"d":return d=+m||0,d=Math.round(d-d%1),_=0>d?"-":C,m=_+t(String(Math.abs(d)),f,"0",!1),r(m,_,g,s,L);case"e":case"E":case"f":case"F":case"g":case"G":return d=+m,_=0>d?"-":C,O=["toExponential","toFixed","toPrecision"]["efg".indexOf(p.toLowerCase())],h=["toString","toUpperCase"]["eEfFgG".indexOf(p)%2],m=_+Math.abs(d)[O](f),r(m,_,g,s,L)[h]();default:return a}};return a.replace(X,o)}function o(e,n){return n=n?(n+"").replace(z,"\\$1"):" \\s ",(e+"").replace(tn("^["+n+"]+","g"),"")}function u(e,n){return n=n?(n+"").replace(z,"\\$1"):" \\s ",(e+"").replace(tn("["+n+"]+$","g"),"")}function s(e,n){var t,r=0,i=0;for(e+="",n?(n+="",t=n.replace(z,"\\$1")):t=" \n\r	\f            ​\u2028\u2029　",r=e.length,i=0;r>i;i++)if(-1===t.indexOf(e.charAt(i))){e=e.substring(i);break}for(r=e.length,i=r-1;i>=0;i--)if(-1===t.indexOf(e.charAt(i))){e=e.substring(0,i+1);break}return-1===t.indexOf(e.charAt(0))?e:""}var c,f,p,d,_,O,h,m,E,g,C,L,D,v="0.9.2",A="prototype",b="hasOwnProperty",T=Object,S=Array,N=Function,y=T.keys,x=T[A],M=S[A],k=(N[A],x.toString),j="undefined"!=typeof global&&"[object global]"===k.call(global),K="undefined"!=typeof navigator?navigator.userAgent:"",w=(/Chrome\//.test(K),Math.floor),I=Math.round,R=Math.abs,F=function(e){return e&&(e.constructor===S||"[object Array]"===k.call(e))},B=function(e){return e&&(e.constructor===T||"[object Object]"===k.call(e))},H=function(e){return null===e||"undefined"==typeof e?0:F(e)?e.length:B(e)?y(e).length:1},P=function(e,n,t){var r=e.toString(),i=n-r.length;return i>0?new Array(i+1).join(t||" ")+r:r},G=/!/g,U=/'/g,Y=/\(/g,V=/\)/g,$=/\*/g,q=/%20/g,X=/%%|%(\d+\$)?([-+\'#0 ]*)(\*\d+\$|\*|\d+)?(\.(\*\d+\$|\*|\d+))?([scboxXuideEfFgG])/g,z=/([\[\]\(\)\.\?\/\*\{\}\+\$\^\:])/g,W=function(e){return encodeURIComponent(""+e).replace(G,"%21").replace(U,"%27").replace(Y,"%28").replace(V,"%29").replace($,"%2A").replace(q,"+")},J={meridian:{am:"am",pm:"pm",AM:"AM",PM:"PM"},ordinal:{ord:{1:"st",2:"nd",3:"rd"},nth:"th"},timezone:["UTC","EST","MDT"],timezone_short:["UTC","EST","MDT"],day:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],day_short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],month:["January","February","March","April","May","June","July","August","September","October","November","December"],month_short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},Z=function(){return w((new Date).getTime()/1e3)},Q=function(e,n){var t,r,i,l,a,o=J;a=n instanceof Date?new Date(n):"number"==typeof n?new Date(1e3*n):new Date;var u,s={},c=a.getTimezoneOffset(),f=R(c),p=a.getMonth();for(s.G=a.getHours(),s.j=a.getDate(),u=s.j%10,s.n=p+1,s.Y=a.getFullYear(),s.w=a.getDay(),s.N=s.w||7,s.d=P(s.j,2,"0"),s.D=o.day_short[s.w],s.l=o.day[s.w],s.S=o.ordinal.ord[s.j]?o.ordinal.ord[s.j]:o.ordinal.ord[u]?o.ordinal.ord[u]:o.ordinal.nth,s.z=I((new Date(s.Y,p,s.j)-new Date(s.Y,0,1))/864e5),s.W=P(1+I((new Date(s.Y,p,s.j-s.N+3)-new Date(s.Y,0,4))/864e5/7),2,"0"),s.F=o.month[p],s.m=P(s.n,2,"0"),s.M=o.month_short[p],s.t=new Date(s.Y,p+1,0).getDate(),s.L=s.Y%4===0&s.Y%100!==0|s.Y%400===0,s.o=s.Y+(11===p&&s.W<9?1:0===p&&s.W>9?-1:0),s.y=s.Y.toString().slice(-2),s.a=s.G>11?o.meridian.pm:o.meridian.am,s.A=s.G>11?o.meridian.PM:o.meridian.AM,s.B=P(w((3600*a.getUTCHours()+60*a.getUTCMinutes()+a.getUTCSeconds()+3600)/86.4)%1e3,3,"0"),s.g=s.G%12||12,s.h=P(s.g,2,"0"),s.H=P(s.G,2,"0"),s.i=P(a.getMinutes(),2,"0"),s.s=P(a.getSeconds(),2,"0"),s.u=P(1e3*a.getMilliseconds(),6,"0"),s.e="",s.I=new Date(s.Y,0)-Date.UTC(s.Y,0)!==new Date(s.Y,6)-Date.UTC(s.Y,6)?1:0,s.O=(c>0?"-":"+")+P(100*w(f/60)+f%60,4,"0"),s.P=s.O.substr(0,3)+":"+s.O.substr(3,2),s.T="UTC",s.Z=60*-c,s.U=a/1e3|0,s.c=[s.Y,"-",s.m,"-",s.d,"\\",s.T,s.H,":",s.i,":",s.s,s.P].join(""),s.r=[s.D,", ",s.d," ",s.M," ",s.Y," ",s.H,":",s.i,":",s.s," ",s.O].join(""),t="",i=0,l=e.length;l>i;i++)r=e.charAt(i),t+=s[b](r)?s[r]:r;return t},en=function(e,n,t){var r,i,l,a,o=["d","D","j","l","N","S","w","z","W","F","m","M","t","L","o","Y","y","a","A","B","g","G","h","H","i","s","u","e","I","O","P","T","Z","U"],u={},s=Q(o.join("\n"),n).split("\n");for(r=0,i=o.length;i>r;r++)u[o[r]]=s[r];for(t[b](u.D)&&(u.D=t[u.D]),t[b](u.l)&&(u.l=t[u.l]),t[b](u.S)&&(u.S=t[u.S]),t[b](u.F)&&(u.F=t[u.F]),t[b](u.M)&&(u.M=t[u.M]),t[b](u.a)&&(u.a=t[u.a]),t[b](u.A)&&(u.A=t[u.A]),u.c=[u.Y,"-",u.m,"-",u.d,"\\",u.T,u.H,":",u.i,":",u.s,u.P].join(""),u.r=[u.D,", ",u.d," ",u.M," ",u.Y," ",u.H,":",u.i,":",u.s," ",u.O].join(""),a="",r=0,i=e.length;i>r;r++)l=e.charAt(r),a+=u[b](l)?u[l]:l;return a},nn=function(e,n){return new N(e,n)},tn=function(e,n){return new RegExp(e,n||"")},rn=null,ln=null;j?(rn=require("fs"),d=function(e){return rn.realpathSync(e)},_=function(e,n){rn.realpath(e,n)},O=function(e){return rn.existsSync(e)},h=function(e,n){return rn.exists(e,n),!1},m=function(e){return rn.statSync(e)},E=function(e,n){rn.stat(e,n)},g=function(e,n){return rn.readFileSync(e,{encoding:n||"utf8"})},C=function(e,n,t){return rn.readFile(e,{encoding:n||"utf8"},t),""},L=function(e,n,t){rn.writeFileSync(e,n,{encoding:t||"utf8"})},D=function(e,n,t,r){rn.writeFile(e,n,{encoding:t||"utf8"},r)}):(ln=window.XMLHttpRequest?function(){return new XMLHttpRequest}:function(){return new ActiveXObject("Microsoft.XMLHTTP")},d=function Wt(e){var n,t;return Wt.link||(Wt.link=document.createElement("a")),n=Wt.link,n.href=e,t=n.protocol+"//"+n.host+n.pathname+n.search+n.hash},_=function Jt(e,n){var t,r;Jt.link||(Jt.link=document.createElement("a")),t=Jt.link,t.href=e,r=t.protocol+"//"+t.host+t.pathname+t.search+t.hash,n&&n(r)},O=function(){return!0},h=function(e,n){return n&&n(!0),!0},m=function(e){var n,t=ln(),r={mtime:!1};return t.open("HEAD",e,!1),t.send(null),200===t.status&&(n=new Date(t.getResponseHeader("Last-Modified")),"Invalid Date"===n.toString()&&(n=!1),r.mtime=n),r},E=function(e,n){var t,r=ln(),i={mtime:!1};r.onload=function(){200===r.status&&(t=new Date(r.getResponseHeader("Last-Modified")),"Invalid Date"===t.toString()&&(t=!1),i.mtime=t),n&&n(i)},r.open("HEAD",e,!1),r.send(null)},g=function(e,n){var t=ln();return n=n||"utf8",t.open("GET",e,!1),t.setRequestHeader("Content-Type","text/plain; charset="+n),t.overrideMimeType("text/plain; charset="+n),t.send(null),200===t.status?t.responseText:""},C=function(e,n,t){var r=ln();return n=n||"utf8",r.open("GET",e,!0),r.setRequestHeader("Content-Type","text/plain; charset="+n),r.overrideMimeType("text/plain; charset="+n),r.responseType="text",r.onload=function(){var e=200!==r.status;t&&t(e,e?"":r.responseText)},r.send(null),""},L=function(){},D=function(e,n,t,r){r&&r()});var an,on,un,sn,cn,fn,pn,dn,_n,On,hn,mn,En,gn,Cn,Ln,Dn,vn=!1,An={},bn={},Tn=!1,Sn=0,Nn="./",yn={},xn={},Mn={},kn="<%",jn="%>",Kn="",wn="",In="",Rn="' + \"\\n\" + '",Fn="",Bn=j?require("os").EOL:"\n",Hn=!0,Pn=null,Gn=0,Un="    ",Yn=0,Vn=0,$n=0,qn=0,Xn=2,zn=null,Wn=null,Jn=null,Zn=null,Qn=null,et=-1,nt=null,tt=null,rt=0,it=/[\W]+/g,lt=/\n\r|\r\n|\n|\r/g,at=/'/g,ot=/^[a-zA-Z_]/,ut=/^[0-9]/,st=/^[a-zA-Z0-9_]/i,ct=/^\s/,ft=/(\t|[ ]?)[ ]*%([a-zA-Z_][a-zA-Z0-9_]*)\b[ ]*(\()(.*)$/g,pt=["set","unset","isset","if","elseif","else","endif","for","elsefor","endfor","extends","block","endblock","include","super","getblock"],dt=["s","n","f","q","dq","echo","time","count","lowercase","uppercase","ucfirst","lcfirst","sprintf","date","ldate","locale","plural","inline","tpl","uuid","haskey","concat","ltrim","rtrim","trim","addslashes","stripslashes","camelcase","snakecase","e","url"],_t={l:"locale",now:"time",template:"tpl"},Ot={},ht=function(){Vn=0,$n=0,qn=0,Xn=2,Gn=0,zn=[],Wn={},Jn=[[null,-1]],nt=null,an={},on={},un="_",an[un]=an[un]||{},on[un]=on[un]||{}},mt=function(){Vn=0,$n=0,qn=0,Xn=2,Gn=0,zn=null,Wn=null,Jn=null,an=null,on=null,un=null,Yn=0,Pn=[],tt=null},Et=function(){Pn.push([Vn,$n,qn,Xn,Gn,zn,Wn,Jn,nt,an,on,un])},gt=function(){var e=Pn.pop();Vn=e[0],$n=e[1],qn=e[2],Xn=e[3],Gn=e[4],zn=e[5],Wn=e[6],Jn=e[7],nt=e[8],an=e[9],on=e[10],un=e[11]},Ct=function(e,n){if(2>arguments.length&&(n=Gn),n>=0){n=0===n?n:n+1;var t=new S(n).join(Un);e=t+e.split(lt).join(Bn+t)}return e},Lt=function(){var e=arguments,n=e.length;if(!(1>n)){var t,r,i,l=e[0];for(t=1;n>t;t++)if(i=e[t])for(r in i)i[b](r)&&(l[r]=i[r]);return l}},Dt=function(e,n){var t,r;if(n)r=s(n).split(" "),kn=s(r[0]),jn=s(r[1]);else{for(t=e.split("\n");t.length&&!s(t[0]).length;)t.shift();t.length&&(r=s(t.shift()).split(" "),kn=s(r[0]),jn=s(r[1])),e=t.join("\n")}return e},vt=function(e){for(var n,t=0,r=e.length,i="";r>t;)switch(n=e.charAt(t++),n.charCodeAt(0)){case 34:i+="&quot;";break;case 38:i+="&amp;";break;case 39:i+="&#39;";break;case 60:i+="&lt;";break;case 62:i+="&gt;";break;default:i+=n}return i},At=function(e,n){var t;return(t=xn[e])?t[1]?Tn&&n?(n(t[0]),""):t[0]:j?Tn&&n?(C(t[0],c.ENCODING,function(e,t){n(e?"":t)}),""):g(t[0],c.ENCODING):"#"===t[0].charAt(0)?Tn&&n?(n(window.document.getElementById(t[0].substring(1)).innerHTML||""),""):window.document.getElementById(t[0].substring(1)).innerHTML||"":Tn&&n?(C(t[0],c.ENCODING,function(e,t){n(e?"":t)}),""):g(t[0],c.ENCODING):""},bt=function(e){return'("undefined" !== typeof('+e+"))"},Tt=function(e){e=e.split(",");var n=s(e.shift()),t=s(e.join(","));return"';"+Bn+Ct(n+" = ("+t+");")+Bn},St=function(e){return e&&e.length?(e=s(e),"';"+Bn+Ct('if ("undefined" !== typeof('+e+")) delete "+e+";")+Bn):"';"+Bn},Nt=function(e){var n="';"+Ct(pn({EOL:Bn,IFCOND:e}));return $n++,Gn++,n},yt=function(e){Gn--;var n="';"+Ct(dn({EOL:Bn,ELIFCOND:e}));return Gn++,n},xt=function(){Gn--;var e="';"+Ct(_n({EOL:Bn}));return Gn++,e},Mt=function(){$n--,Gn--;var e="';"+Ct(On({EOL:Bn}));return e},kt=function(e){var n,t,r,i,l,a=e.indexOf(" as "),o=e.indexOf(" in ");if(o>-1?(e=[e.slice(0,o),e.slice(o+4)],t=s(e[1]),r="_loc_"+ ++Yn,i=e[0].split(",")):(e=[e.slice(0,a),e.slice(a+4)],t=s(e[0]),r="_loc_"+ ++Yn,i=e[1].split("=>")),l=i.length>=2){var u=s(i[0]),c=s(i[1]),f="_loc_"+ ++Yn,p="_loc_"+ ++Yn,d="_loc_"+ ++Yn;an[un][on[un][u]]=1,an[un][on[un][c]]=1,n="';"+Ct(mn({EOL:Bn,O:t,_O:r,_OK:f,K:u,_K:p,_L:d,V:c,ASSIGN1:""+u+" = "+f+"["+p+"]; "+c+" = "+r+"["+u+"];"})),Xn=2,Gn+=2}else{var c=s(i[0]),_="_loc_"+ ++Yn,O="_loc_"+ ++Yn,p="_loc_"+ ++Yn,h="_loc_"+ ++Yn,d="_loc_"+ ++Yn;an[un][on[un][c]]=1,n="';"+Ct(hn({EOL:Bn,O:t,_O:r,_OV:_,_ARR:O,_KK:h,_K:p,_L:d,V:c,ASSIGN1:""+c+" = "+O+" ? "+h+" : "+r+"["+h+"];"})),Xn=1,Gn+=2}return Vn++,qn++,n},jt=function(){var e;return 2===Xn?(qn--,Gn+=-2,e="';"+Ct(En({EOL:Bn})),Gn+=1):(qn--,Gn+=-2,e="';"+Ct(En({EOL:Bn})),Gn+=1),e},Kt=function(){var e;return qn===Vn?2===Xn?(Vn--,qn--,Gn+=-2,e="';"+Ct(Cn({EOL:Bn}))):(Vn--,qn--,Gn+=-2,e="';"+Ct(Cn({EOL:Bn}))):(Vn--,Gn+=-1,e="';"+Ct(gn({EOL:Bn}))),e},wt=function(e){e=s(e),tt&&tt[b](e)&&(e=tt[e]);var n=e.charAt(0);return('"'===n||"'"===n)&&(e=e.slice(1,-1)),Mn[e]||(Et(),ht(),Mn[e]=" "+Ut(Dt(At(e)),!1)+"';"+Bn,gt()),Ct(Mn[e])},It=function(e){e=s(e),tt&&tt[b](e)&&(e=tt[e]);var n=e.charAt(0);return('"'===n||"'"===n)&&(e=e.slice(1,-1)),nt=e,"';"+Bn},Rt=function(e){e=e.split(",");var n=!(e.length>1?"false"===s(e[1]):!1);e=s(e[0]),tt&&tt[b](e)&&(e=tt[e]);var t=e.charAt(0);return('"'===t||"'"===t)&&(e=e.slice(1,-1)),zn.push([e,-1,-1,0,Jn[0][1],n]),Wn[e]=Wn[e]?Wn[e]+1:1,et=zn.length,Jn.unshift([e,et-1]),Zn=e,Qn=null,un=e,an[un]=an[un]||{},on[un]=on[un]||{},"' +  #|"+e+"|#"},Ft=function(){if(1<Jn.length){var e=Jn.shift();return Qn=e[0],et=e[1]+1,Zn=null,un=Jn.length?Jn[0][0]:"_","#|/"+e[0]+"|#"}return un="_",""},Bt=function(e,n,t){var r,i,l,a,o;for(r=e.split(n),i=r.length,l=[],a=0;i>a;a++)o=r[a].split(t),l.push(o[0]),o.length>1&&l.push(o[1]);return l},Ht=function Zt(e,n,t,r,i){i=i||"";for(var l,a,o="",u="",s=1,f=i.length,p=0;f>p&&s>0;)l=i.charAt(p++),"("===l?s++:")"===l&&s--,s>0&&(u+=l);if(i=i.slice(u.length+1),a=pt.indexOf(t),a>-1)switch(a){case 0:return u=u.replace(ft,Zt),o=Tt(u),i=i.replace(ft,Zt),o+i;case 1:return u=u.replace(ft,Zt),o=St(u),i=i.replace(ft,Zt),o+i;case 2:return u=u.replace(ft,Zt),o=bt(u),i=i.replace(ft,Zt),o+i;case 3:return u=u.replace(ft,Zt),o=Nt(u),i=i.replace(ft,Zt),o+i;case 4:return u=u.replace(ft,Zt),o=yt(u),i=i.replace(ft,Zt),o+i;case 5:return o=xt(u),i=i.replace(ft,Zt),o+i;case 6:return o=Mt(u),i=i.replace(ft,Zt),o+i;case 7:return u=u.replace(ft,Zt),o=kt(u),i=i.replace(ft,Zt),o+i;case 8:return o=jt(u),i=i.replace(ft,Zt),o+i;case 9:return o=Kt(u),i=i.replace(ft,Zt),o+i;case 10:return o=It(u),i=i.replace(ft,Zt),o+i;case 11:return o=Rt(u),i=i.replace(ft,Zt),o+i;case 12:return o=Ft(u),i=i.replace(ft,Zt),o+i;case 13:return o=wt(u),i=i.replace(ft,Zt),o+i;case 14:return n=n||"",u=u.replace(ft,Zt),o="self.renderSuperBlock("+u+", data)",i=i.replace(ft,Zt),n+o+i;case 15:return n=n||"",u=u.replace(ft,Zt),o="__i__.renderBlock("+u+", data)",i=i.replace(ft,Zt),n+o+i}if(Ot[b](t)){n=n||"";var d=Ot[t];return u=u.replace(ft,Zt),o=d instanceof c.InlineTemplate?d.render({args:u}):d+"("+u+")",i=i.replace(ft,Zt),n+o+i}if(_t[b](t)&&(t=_t[t]),a=dt.indexOf(t),a>-1){switch(n=n||"",u=u.replace(ft,Zt),a){case 0:case 5:o="String("+u+")";break;case 1:o="parseInt("+u+")";break;case 2:o="parseFloat("+u+")";break;case 3:o='"\'"+('+u+')+"\'"';break;case 4:o="'\"'+("+u+")+'\"'";break;case 6:o="Contemplate.time()";break;case 7:o="Contemplate.count("+u+")";break;case 8:o="("+u+").toLowerCase()";break;case 9:o="("+u+").toUpperCase()";break;case 10:o="Contemplate.ucfirst("+u+")";break;case 11:o="Contemplate.lcfirst("+u+")";break;case 12:o="Contemplate.sprintf("+u+")";break;default:o="Contemplate."+t+"("+u+")"}return i=i.replace(ft,Zt),n+o+i}return e},Pt=function(e){for(var n,t,r,i,l,a,o,u,s,c,f,p=[],d=zn.length;d--;)t=zn[d],n=t[0],o=t[1],u=t[2],s=t[3],c=t[4],f=t[5],r="#|"+n+"|#",i=f?"__i__.renderBlock('"+n+"', data);":"'';",l=r.length,a=i.length,c>-1&&(zn[c][3]+=a-(u-o+1)),u+=s,1===Wn[n]&&p.push([n,fn({EOL:Bn,BLOCKCODE:e.slice(o+l,u-l-1)+"';"})]),e=e.slice(0,o)+i+e.slice(u+1),1<=Wn[n]&&Wn[n]--;return[e,p]},Gt=function Qt(e,n,t){if(ot.test(e[n])){var r,i,l,a,o,u,s,c,f,p,d,_,O,h,m,E,g,C,L={},D=[],v=0,A=!1;for(l=e[n++];t>n&&st.test(e[n]);)l+=e[n++];for(o=l,u="data."+o,s="",Yn++,i="#VAR"+Yn+"#",c=o.length,v=0;t>n&&ct.test(e[n]);)v++,n++;for(p=0;t>n&&("."===e[n]||"["===e[n]);){for(d=e[n++];t>n&&ct.test(e[n]);)v++,n++;if("."===d){for(a="";t>n&&st.test(e[n]);)a+=e[n++];if(f=a.length,!f)break;s+="."+a,c+=v+1+f,v=0}else if("["===d){if(p++,_=e[n],'"'===_||"'"===_){for(O=h=_,m=!1,E=n+1;t>E&&(O+=_=e[E++],h!==_||m);)m=!m&&"\\"===_;a=O,Yn++,g="#STR"+Yn+"#",L[g]=a,s+=d+g,f=a.length,n+=f,c+=v+1+f,v=0,A=!0}else if(ut.test(_)){for(a=e[n++];t>n&&ut.test(e[n]);)a+=e[n++];s+=d+a,f=a.length,c+=v+1+f,v=0}else if("$"===_)C=e.slice(n+1),r=Qt(C,0,C.length),r&&(a=r[r.length-1],s+=d+a[0],f=a[4],n+=f+1,c+=v+2+f,v=0,D=D.concat(r),A=A||a[5]);else{if("]"!==_)break;if(!(p>0))break;p--,s+=d+e[n++],c+=v+2,v=0}for(;t>n&&ct.test(e[n]);)v++,n++;if("]"===e[n]){if(!(p>0))break;p--,s+=e[n++],c+=v+1,v=0}}for(;t>n&&ct.test(e[n]);)v++,n++}return D.push([i,o,u,s,c,A,L]),D}return null},Ut=function(e,n){var t,r,i,l,a,o,u,s,f,p,d,_,O,h,m,E,g,C,L,D,v,A,T,S,N,y,x,M,k,j,K=c.InlineTemplate.multisplit_re,w="$ \n\r	'\"",I=/#STR\d+#/g;for(t=Bt(e,kn,jn),r=t.length,o=!1,i="",a=0;r>a;a++){if(l=t[a],o){for(m=l.length,p=[],f={},d=!1,_=!1,k=!1,E=0,x=0,g="",C="";m>E;)if(g=l[E++],A=w.indexOf(g),A>-1)if(0===A)if(x>0&&(C+=" ",x=0),L=Gt(l,E,m)){for(D=0;D<L.length;D++)v=L[D],h=v[0],on[un][h]=v[1],v[5]&&(f=Lt(f,v[6]));C+=h,E+=v[4],p=p.concat(L),d=!0,_=_||v[5]}else C+="$";else if(6>A)x++;else{for(x>0&&(C+=" ",x=0),S=T=g,N=!1,y=E;m>y&&(S+=g=l[y++],T!==g||N);)N=!N&&"\\"===g;L=S,Yn++,h="#STR"+Yn+"#",f[h]=L,C+=h,E+=L.length-1,_=!0}else x>0&&(C+=" ",x=0),C+=g;if(u="	"+C+"",Zn=null,Qn=null,et=-1,tt=f,u=u.replace(ft,Ht),Zn?(Zn="#|"+Zn+"|#",k=!0):Qn&&(Qn="#|/"+Qn+"|#",k=!0),j=k,9===u.charCodeAt(0)&&11===u.charCodeAt(u.length-1)&&(u="' + ("+u.slice(1,-1)+") + '"),d)for(D=p.length-1;D>=0;D--)h=p[D][0],O=p[D][1],u=u.split(h+"__RAW__").join(O).split(h).join((an[un][b](O)?"_loc_"+O:p[D][2])+p[D][3]);if(_)for(s=K(u,I),u="",D=0;D<s.length;D++)s[D][0]?(j&&(Zn?(M=s[D][1].indexOf(Zn),-1!==M&&(zn[et-1][1]=M+i.length+u.length,j=!1)):(M=s[D][1].indexOf(Qn),-1!==M&&(zn[et-1][2]=M+i.length+u.length+Qn.length,j=!1))),u+=s[D][1]):u+=f[s[D][1]];else k&&(Zn?zn[et-1][1]=i.length+u.indexOf(Zn):zn[et-1][2]=i.length+u.indexOf(Qn)+Qn.length);11===u.charCodeAt(u.length-1)&&(u=u.slice(0,-1)+Ct(wn)),9===u.charCodeAt(0)&&(u=Kn+u.slice(1),k&&(M=Kn.length-1,Zn?zn[et-1][1]+=M:zn[et-1][2]+=M)),l=u,o=!1}else Hn&&(l=l.split("\\").join("\\\\")),l=l.split("'").join("\\'").split(/\n/).join(Fn),o=!0;i+=l}return!1!==n?zn.length>0?Pt(i):[i,[]]:i},Yt=function(e,n){return n+e.replace(it,"_")+"_tpl.js"},Vt=function(e){return"Contemplate_"+e.replace(it,"_")+"_Cached"},$t=function(e,n){ht();var t,r,i,l,a=Ut(Dt(At(e),n)),o={};for(mt(),l=a[0],a=a[1],r=a.length,i=Ln(nt?{EOL:Bn,FCODE:Ct("__p__ = '';",0)}:{EOL:Bn,FCODE:Ct("__p__ = '"+l+"';",0)}),t=0;r>t;t++)o[a[t][0]]=nn("Contemplate,data,self,__i__",a[t][1]);return[nn("Contemplate",i),o]},qt=function(e,n,t,r){ht();var i,l,a,o,u,s,c,f=Ut(Dt(At(e),r));for(mt(),c=f[0],f=f[1],u=f.length,s=[],o=0;u>o;o++)s.push(Bn+cn({EOL:Bn,BLOCKNAME:f[o][0],BLOCKMETHODNAME:f[o][0],BLOCKMETHODCODE:Ct(f[o][1],1)}));s=s.length?Bn+"self._blocks = { "+Bn+Ct(s.join(","+Bn),1)+Bn+"};"+Bn:"",nt?(l="self.extend('"+nt+"');",a=Dn({EOL:Bn,RCODE:"__p__ = '';"})):(l="",a=Dn({EOL:Bn,RCODE:"__p__ += '"+c+"';"})),i=In?In:"";var p=sn({EOL:Bn,CLASSNAME:t,TPLID:e,PREFIXCODE:i,EXTENDCODE:Ct(l,2),BLOCKS:Ct(s,2),RENDERCODE:Ct(a,2)});return zt(n,p)},Xt=function(e,n){var t;if(t=xn[e]){if(t[1]){var r,i;return n.parsed?i=c.Template(e).setRenderFunction(nn("Contemplate",n.parsed)):(r=$t(e,n.separators),i=c.Template(e).setRenderFunction(r[0]).setBlocks(r[1])),nt&&i.extend(c.tpl(nt)),i}if(j||(Sn=c.CACHE_TO_DISK_NONE),!0!==n.autoUpdate&&c.CACHE_TO_DISK_NOUPDATE===Sn){var l=Yt(e,n.cacheDir),a=Vt(e);if(O(l)||qt(e,l,a,n.separators),O(l)){var o=require(l)(c),i=new o(e);return i}return null}if(!0===n.autoUpdate||c.CACHE_TO_DISK_AUTOUPDATE===Sn){var l=Yt(e,n.cacheDir),a=Vt(e);if(O(l)){var u=m(l),s=m(t[0]);u.mtime.getTime()<=s.mtime.getTime()&&qt(e,l,a,n.separators)}else qt(e,l,a,n.separators);if(O(l)){var o=require(l)(c),i=new o(e);return i}return null}var r=$t(e,n.separators),i=c.Template(e).setRenderFunction(r[0]).setBlocks(r[1]);return nt&&i.extend(c.tpl(nt)),i}return null},zt=function(e,n,t){t?D(e,n,c.ENCODING,t):L(e,n,c.ENCODING)};return p=function er(e,n,t){var r=this;return r instanceof er?(r.id=null,r._renderer=null,r.tpl=n instanceof RegExp?er.multisplit_re(e||"",n):er.multisplit(e||"",n||{}),void(!0===t?(r._renderer=er.compile(r.tpl),r.render=r._renderer):r._renderer=null)):new er(e,n,t)},p.multisplit=function(e,n,t){var r,i,l,a,o,u,s,c,f,p;t=!!t,u=[[1,e]];for(r in n)if(n.hasOwnProperty(r)){for(c=[],i=t?n[r]:r,l=[0,n[r]],a=0,f=u.length;f>a;a++)if(1===u[a][0]){if(s=u[a][1].split(i),p=s.length,c.push([1,s[0]]),p>1)for(o=0;p-1>o;o++)c.push(l),c.push([1,s[o+1]])}else c.push(u[a]);u=c}return u},p.multisplit_re=function(e,n){n=n.global?n:new RegExp(n.source,n.ignoreCase?"gi":"g");for(var t,r=[],i=0;t=n.exec(e);)r.push([1,e.slice(i,n.lastIndex-t[0].length)]),r.push([0,t[1]?t[1]:t[0]]),i=n.lastIndex;return r.push([1,e.slice(i)]),r},p.compile=function(e){var n,t,r,i=e.length,l='"use strict";\nreturn (';for(n=0;i>n;n++)t=e[n][0],r=e[n][1],l+=t?"'"+r.replace(at,"\\'").replace(lt,"' + \"\\n\" + '")+"'":" + String(args['"+r+"']) + ";return l+=");",nn("args",l)},p[A]={constructor:p,id:null,tpl:null,_renderer:null,dispose:function(){var e=this;return e.id=null,e.tpl=null,e._renderer=null,e},render:function(e){var n=this;if(e=e||[],n._renderer)return n._renderer(e);var t,r,i,l=n.tpl,a=l.length,o="";for(t=0;a>t;t++)r=l[t][0],i=l[t][1],o+=r?i:e[i];return o}},f=function nr(e){var n=this;return n instanceof nr?(n._renderer=null,n._blocks=null,n._extends=null,n.id=null,void(e&&(n.id=e))):new nr(e)},f.renderProxy=function(e,n){return this._extends.render(e,n||this)},f[A]={constructor:f,id:null,_extends:null,_blocks:null,_renderer:null,dispose:function(){var e=this;return e._renderer=null,e._blocks=null,e._extends=null,e.id=null,e},fixRenderer:function(){var e=this,n=e._extends;return e.render=n&&n instanceof f?f.renderProxy:"function"==typeof e._renderer?e._renderer:e.constructor[A].render,e},setId:function(e){return e&&(this.id=e),this},extend:function(e){var n=this;return n._extends=e&&e.substr?c.tpl(e):e instanceof f?e:null,n.fixRenderer()},setRenderFunction:function(e){var n=this;return n._renderer="function"==typeof e?e(c):null,n.fixRenderer()},setBlocks:function(e){var n=this;return"object"==typeof e&&(n._blocks=Lt(n._blocks||{},e)),n},renderBlock:function(e,n,t){var r=this;t=t||r;var i=r._blocks;return i&&i[b](e)?i[e](c,n,r,t):r._extends?r._extends.renderBlock(e,n,t):""},renderSuperBlock:function(e,n){var t=this;return t._extends?t._extends.renderBlock(e,n,t._extends):""},render:function(){var e="";return e}},c={VERSION:v,CACHE_TO_DISK_NONE:0,CACHE_TO_DISK_AUTOUPDATE:2,CACHE_TO_DISK_NOUPDATE:4,ENCODING:"utf8",Template:f,InlineTemplate:p,init:function(){vn||(Fn=Rn,Kn="';"+Bn,wn=Bn+"__p__ += '",sn=p.compile(p.multisplit(["#PREFIXCODE#","!function (root, moduleName, moduleDefinition) {","    // export the module","    var m;","    // node, CommonJS, etc..","    if ( 'object' === typeof(module) && module.exports ) module.exports = moduleDefinition();","    // browser and AMD, etc..","    else (root[ moduleName ] = m = moduleDefinition()) && ('function' === typeof(define) && define.amd && define(moduleName,[],function(){return m;}));","}(this, '#CLASSNAME#', function( ){",'    "use strict";',"    return function( Contemplate ) {","    /* Contemplate cached template '#TPLID#' */","    ","    /* constructor */","    function #CLASSNAME#(id)","    {","        var self = this;","        /* initialize internal vars */","        ","        self._renderer = null;","        self._blocks = null;","        self._extends = null;","        self.id = id || null;","        ","        /* tpl-defined blocks render code starts here */","#BLOCKS#","        /* tpl-defined blocks render code ends here */","        ","        /* extend tpl assign code starts here */","#EXTENDCODE#","        /* extend tpl assign code ends here */","    };","    ","    /* extends main Contemplate.Template class */","    #CLASSNAME#.prototype = Object.create(Contemplate.Template.prototype);","    /* tpl render method */","    #CLASSNAME#.prototype.render = function( data, __i__ ) {",'        "use strict";',"        var self = this, __p__ = '';","        __i__ = __i__ || self;","        /* tpl main render code starts here */","#RENDERCODE#","        /* tpl main render code ends here */","        return __p__;","    };","    ","    // export it","    return #CLASSNAME#;","    };","});",""].join("#EOL#"),{"#EOL#":"EOL","#PREFIXCODE#":"PREFIXCODE","#CLASSNAME#":"CLASSNAME","#TPLID#":"TPLID","#BLOCKS#":"BLOCKS","#EXTENDCODE#":"EXTENDCODE","#RENDERCODE#":"RENDERCODE"})),cn=p.compile(p.multisplit(["","/* tpl block render method for block '#BLOCKNAME#' */","'#BLOCKMETHODNAME#': function( Contemplate, data, self, __i__ ) {","#BLOCKMETHODCODE#","}",""].join("#EOL#"),{"#EOL#":"EOL","#BLOCKNAME#":"BLOCKNAME","#BLOCKMETHODNAME#":"BLOCKMETHODNAME","#BLOCKMETHODCODE#":"BLOCKMETHODCODE"})),fn=p.compile(p.multisplit(['"use strict";',"var __p__ = '';","#BLOCKCODE#","return __p__;",""].join("#EOL#"),{"#EOL#":"EOL","#BLOCKCODE#":"BLOCKCODE"})),pn=p.compile(p.multisplit(["","if (#IFCOND#)","{",""].join("#EOL#"),{"#EOL#":"EOL","#IFCOND#":"IFCOND"})),dn=p.compile(p.multisplit(["","}","else if (#ELIFCOND#)","{",""].join("#EOL#"),{"#EOL#":"EOL","#ELIFCOND#":"ELIFCOND"})),_n=p.compile(p.multisplit(["","}","else","{",""].join("#EOL#"),{"#EOL#":"EOL"})),On=p.compile(p.multisplit(["","}",""].join("#EOL#"),{"#EOL#":"EOL"})),mn=p.compile(p.multisplit(["","var #_O# = #O#, #_OK# = #_O# ? Object.keys(#_O#) : null,","    #_K#, #K#, #V#, #_L# = #_OK# ? #_OK#.length : 0;","if (#_L#)","{","    for (#_K#=0; #_K#<#_L#; #_K#++)","    {","        #ASSIGN1#","        ",""].join("#EOL#"),{"#EOL#":"EOL","#O#":"O","#_O#":"_O","#_OK#":"_OK","#_K#":"_K","#K#":"K","#V#":"V","#_L#":"_L","#ASSIGN1#":"ASSIGN1"})),hn=p.compile(p.multisplit(["","var #_O# = #O#, #_ARR# = !!#_O#.forEach,","    #_OV# = #_O# ? (#_ARR# ? #_O# : Object.keys(#_O#)) : null,","    #_K#, #_KK#, #V#, #_L# = #_OV# ? #_OV#.length : 0;","if (#_L#)","{","    for (#_K#=0; #_K#<#_L#; #_K#++)","    {","        #_KK# = #_OV#[#_K#];","        #ASSIGN1#","        ",""].join("#EOL#"),{"#EOL#":"EOL","#O#":"O","#_O#":"_O","#_OV#":"_OV","#_K#":"_K","#_KK#":"_KK","#_ARR#":"_ARR","#V#":"V","#_L#":"_L","#ASSIGN1#":"ASSIGN1"})),En=p.compile(p.multisplit(["","    }","}","else","{  ",""].join("#EOL#"),{"#EOL#":"EOL"})),Cn=p.compile(p.multisplit(["","    }","}",""].join("#EOL#"),{"#EOL#":"EOL"})),gn=p.compile(p.multisplit(["","}",""].join("#EOL#"),{"#EOL#":"EOL"})),Ln=p.compile(p.multisplit(["return function( data, __i__ ){",'"use strict";',"var self = this, __p__ = '';","__i__ = __i__ || self;","#FCODE#","return __p__;","};"].join("#EOL#"),{"#EOL#":"EOL","#FCODE#":"FCODE"})),Dn=p.compile(p.multisplit(["","#RCODE#",""].join("#EOL#"),{"#EOL#":"EOL","#RCODE#":"RCODE"})),mt(),vn=!0)},hasPlugin:function(e){return!!e&&Ot[b](e)},addPlugin:function(e,t){e&&t&&(t instanceof c.InlineTemplate?Ot[e]=t:n===c[e]&&(Ot[e]="Contemplate."+e,c[e]=t))},setPrefixCode:function(e){e&&(In=""+e)},setLocales:function(e){"object"==typeof e&&(An=Lt(An,e))},clearLocales:function(){An={}},setPlurals:function(e){if("object"==typeof e){for(var n in e)e[b](n)&&null==e[n]&&(e[n]=n+"s");bn=Lt(bn,e)}},clearPlurals:function(){bn={}},setTemplateSeparators:function(e){e&&(e.left&&(kn=""+e.left),e.right&&(jn=""+e.right))},setPreserveLines:function(e){arguments.length<1&&(e=!0),Fn=e?Rn:""},setCacheDir:function(e){Nn=u(e,"/")+"/"},setCacheMode:function(e){Sn=j?e:c.CACHE_TO_DISK_NONE},clearCache:function(e){yn={},e&&(Mn={})},add:function(e,n){if("object"==typeof e)for(var t in e)e[b](t)&&(F(e[t])?e[t][0]&&(xn[t]=[e[t][0],!0]):xn[t]=[e[t],!1]);else e&&n&&(F(n)?n[0]&&(xn[e]=[n[0],!0]):xn[e]=[n,!1])},hasTpl:function(e){return!!e&&xn[b](e)},parseTpl:function(e,n){var t,r,i=n&&n.separators?n.separators:null;return i&&(t=[kn,jn],kn=i[0],jn=i[1]),ht(),r=Ut(e),mt(),i&&(kn=t[0],jn=t[1]),r},tpl:function(e,n,t){if(e instanceof c.Template)return"object"==typeof n?e.render(n):e;t=Lt({autoUpdate:!1,refresh:!1,escape:!0,separators:null,cacheDir:Nn},t),Hn=!1!==t.escape,(t.refresh||!yn[e])&&(yn[e]=Xt(e,t));var r=yn[e];return"object"==typeof n?r.render(n):r},inline:function(e,n,t){return e instanceof c.InlineTemplate?e.render(n):c.InlineTemplate(e,n,t)},haskey:function(e){var n,t,r,i=k.call(e);if(!e||"[object Array]"!==i&&"[object Object]"!==i)return!1;for(n=arguments,r=e,t=1;t<n.length;t++){if(!r||!r[b](n[t]))return!1;r=r[n[t]]}return!0},e:vt,url:W,count:H,addslashes:function(e){return(e+"").replace(/[\\"']/g,"\\$&").replace(/\u0000/g,"\\0")},stripslashes:function(e){return(e+"").replace(/\\(.?)/g,function(e,n){switch(n){case"\\":return"\\";case"0":return"\x00";case"":return"";default:return n}})},concat:function(){return M.join.call(arguments,"")},trim:s,ltrim:o,rtrim:u,ucfirst:function(e){return e[0].toUpperCase()+e.substr(1)},lcfirst:function(e){return e[0].toLowerCase()+e.substr(1)},camelcase:function(e,n,t){return n=n||"_",t?e.split(n).map(c.ucfirst).join(""):c.lcfirst(e.split(n).map(c.ucfirst).join(""))},snakecase:function(e,n){return n=n||"_",e.replace(/([A-Z])/g,n+"$1").toLowerCase()},sprintf:a,time:Z,date:function(e,n){return arguments.length<2&&(n=Z()),Q(e,n)},ldate:function(e,n){return arguments.length<2&&(n=Z()),en(e,n,An)},locale:function(e){return An[b](e)?An[e]:e},plural:function(e,n){return bn[e]&&1!==n?bn[e]:e},uuid:function(e){return[e||"UUID",++rt,Z()].join("_")},getTemplateContents:At,hasOwn:function(e,n){return e&&e[b](n)},keys:function(e){return e?y(e):null},values:function(e){if(e){if(e.push)return e;var n,t=[];for(n in e)e[b](n)&&t.push(e[n]);return t}return null},items:function(e){return e?e:null},merge:Lt,data:function(e){if(F(e))return e.slice();var n,t,r={};for(n in e)e[b](n)&&(t=n,r[t]=e[n]);return r}},c.init(),c});