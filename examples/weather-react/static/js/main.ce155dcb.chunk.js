(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{23:function(e,t,a){e.exports=a(40)},28:function(e,t,a){},29:function(e,t,a){},30:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(19),c=a.n(i),s=(a(28),a(2)),o=a(3),l=a(5),h=a(4),u=a(6),m=a(11),d=a(10),p=a(22),w=(a(29),function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"lds-facebook"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null))}}]),t}(n.Component)),f=(new(function(){function e(){Object(s.a)(this,e),this.$data={},this.$timer=null}return Object(o.a)(e,[{key:"set",value:function(e,t){return this.$data[e]=t,this}},{key:"get",value:function(e){return Object.prototype.hasOwnProperty.call(this.$data,e)?this.$data[e]:null}},{key:"del",value:function(e){return Object.prototype.hasOwnProperty.call(this.$data,e)&&delete this.$data[e],this}},{key:"clear",value:function(){return this.$data={},this}},{key:"autoclear",value:function(e){var t=this;this.$timer&&(clearTimeout(this.$timer),this.$timer=null);return this.$timer=setTimeout(function a(){t.clear(),t.$timer=setTimeout(a,e)},e),this}}]),e}())).autoclear(18e5);a(30);var b={fahrenheit:{symbol:"\u2109",celsius:function(e){return 5/9*(e-32)}},celsius:{symbol:"\u2103",fahrenheit:function(e){return 9*e/5+32}}};function E(e,t){return Math.round(+e)}function v(e,t,a,n){return t=t||"celsius",a&&(e=b["fahrenheit"===t?"celsius":"fahrenheit"][t](e)),E(e)+(n?b[t].symbol:"")}function y(e,t){return"https://www.metaweather.com/static/img/weather/"+e+"."+(t||"svg").toLowerCase()}function g(e){return r.a.createElement("i",{className:"wind-dir "+e.toLowerCase()})}var O="https://api.allorigins.win/get?url="+encodeURIComponent("https://www.metaweather.com/api/location/");function _(e,t){if(e&&e.consolidated_weather&&e.consolidated_weather.length){if(t)return e.consolidated_weather.map(function(e){return r.a.createElement("div",{className:"weather-data"},r.a.createElement("p",null,r.a.createElement("b",null,function(e){var t=e.split("-"),a=Object(p.a)(t,3),n=a[0],r=a[1],i=a[2],c=new Date(e),s=c?["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][c.getDay()]:"Unknown",o=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][r-1];return"".concat(s,", ").concat(o," ").concat(i," ").concat(n)}(e.applicable_date))),r.a.createElement("img",{className:"weather-icon",src:y(e.weather_state_abbr),alt:e.weather_state_name,title:e.weather_state_name}),r.a.createElement("p",null,r.a.createElement("span",{className:"weather-details"},v(e.the_temp,"celsius",0,1)," (",v(e.min_temp,"celsius",0,1)," \u2014 ",v(e.max_temp,"celsius",0,1),")")),r.a.createElement("p",null,r.a.createElement("span",{className:"weather-details"},E(e.wind_speed),"mph")," ",g(e.wind_direction_compass)," (",e.wind_direction_compass,")"))});var a=e.consolidated_weather[0];return r.a.createElement("div",{className:"weather-data"},r.a.createElement("p",null,r.a.createElement("b",null,"Today")),r.a.createElement("img",{className:"weather-icon",src:y(a.weather_state_abbr),alt:a.weather_state_name,title:a.weather_state_name}),r.a.createElement("p",null,r.a.createElement("span",{className:"weather-details"},v(a.the_temp,"celsius",0,1)," (",v(a.min_temp,"celsius",0,1)," \u2014 ",v(a.max_temp,"celsius",0,1),")")),r.a.createElement("p",null,r.a.createElement("span",{className:"weather-details"},E(a.wind_speed),"mph")," ",g(a.wind_direction_compass)," (",a.wind_direction_compass,")"))}return r.a.createElement("div",{className:"weather-data"},r.a.createElement("p",null,r.a.createElement("b",null,"No data!")))}var j=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(h.a)(t).call(this,e))).state={city:a.props.city?a.props.city:"..",loading:!0,data:null},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;if(this.props.woeid){var t=f.get("weather_"+this.props.woeid);t?this.setState({city:t.title,loading:!1,data:t}):fetch(O+this.props.woeid).then(function(e){return e.json()}).then(function(t){t.contents&&(t=JSON.parse(t.contents)),f.set("weather_"+e.props.woeid,t),e.setState({city:t.title,loading:!1,data:t})})}}},{key:"render",value:function(){return r.a.createElement("div",{className:"weather"+(this.props.detailed?" detailed":"")},r.a.createElement("div",{className:"weather-header"},this.props.detailed?r.a.createElement("b",null,this.state.city+" (Forecast)"):r.a.createElement(m.b,{to:"/weather/"+this.props.woeid},r.a.createElement("b",null,this.state.city))),r.a.createElement("div",{className:"weather-content"},this.state.loading?r.a.createElement(w,{text:"Loading.."}):_(this.state.data,this.props.detailed)))}}]),t}(n.Component),k=[{name:"Athens",woeid:946738},{name:"Beijing",woeid:2151330},{name:"Berlin",woeid:638242},{name:"Cairo",woeid:1521894},{name:"London",woeid:44418},{name:"Madrid",woeid:766273},{name:"Moscow",woeid:2122265},{name:"New Delhi",woeid:28743736},{name:"New York",woeid:2459115},{name:"Paris",woeid:615702},{name:"Sydney",woeid:1105779}],N=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(h.a)(t).call(this,e))).handleOnClick=function(){a.setState({redirect:!0})},a.handleInput=function(e){a.setState({text:e.target.value})},a.state={redirect:!1,text:""},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return this.state.redirect?r.a.createElement(d.a,{push:!0,to:"/search/"+encodeURIComponent(this.state.text.toLowerCase())}):r.a.createElement("div",{className:"page page-home"},r.a.createElement("h2",{className:"page-header"},"Weather at a Glance"),r.a.createElement("div",{className:"search-box"},r.a.createElement("input",{type:"text",placeholder:"search..",value:this.state.text,onChange:this.handleInput}),r.a.createElement("button",{type:"button",onClick:this.handleOnClick},"Search!")),k.map(function(e){return r.a.createElement(j,{key:"weather_for_"+e.woeid,city:e.name,woeid:e.woeid})}))}}]),t}(n.Component),C="https://api.allorigins.win/get?url="+encodeURIComponent("https://www.metaweather.com/api/location/search/?query="),x=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(h.a)(t).call(this,e))).handleOnClick=function(){a.setState({redirect:!0})},a.handleInput=function(e){a.setState({text:e.target.value})},a.state={loading:!0,text:decodeURIComponent(a.props.match.params.term),redirect:!1,data:null},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=f.get("search_"+this.props.match.params.term);t?this.setState({loading:!1,data:t}):fetch(C+this.props.match.params.term).then(function(e){return e.json()}).then(function(t){t.contents&&(t=JSON.parse(t.contents)),f.set("search_"+e.props.match.params.term,t),e.setState({loading:!1,data:t})})}},{key:"render",value:function(){return this.state.redirect?r.a.createElement(d.a,{push:!0,to:"/search/"+encodeURIComponent(this.state.text.toLowerCase())}):r.a.createElement("div",{className:"page page-search"},r.a.createElement("h2",{className:"page-header"},"Search Results"),r.a.createElement("div",{className:"search-box"},r.a.createElement("input",{type:"text",placeholder:"search..",value:this.state.text,onChange:this.handleInput}),r.a.createElement("button",{type:"button",onClick:this.handleOnClick},"Search!")),this.state.loading?r.a.createElement(w,{text:"Loading.."}):this.state.data&&this.state.data.length?this.state.data.map(function(e){return r.a.createElement(j,{key:"weather_for_"+e.woeid,woeid:e.woeid,city:e.title})}):r.a.createElement("p",null,r.a.createElement("b",null,"No results found!")))}}]),t}(n.Component),S=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"page page-weather"},r.a.createElement("h2",{className:"page-header"},"Weather Forecast"),r.a.createElement(j,{key:"weather_for_"+this.props.match.params.woeid,detailed:!0,woeid:this.props.match.params.woeid}))}}]),t}(n.Component),$=(a(39),function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(m.a,{basename:"/",hashType:"slash"},r.a.createElement(d.d,null,r.a.createElement(d.b,{exact:!0,path:"/",render:function(e){return r.a.createElement(N,Object.assign({key:"page_home"},e))}}),r.a.createElement(d.b,{path:"/weather/:woeid",render:function(e){return r.a.createElement(S,Object.assign({key:"page_weather"},e))}}),r.a.createElement(d.b,{path:"/search/:term",render:function(e){return r.a.createElement(x,Object.assign({key:"page_search_"+e.match.params.term.toLowerCase()},e))}})))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement($,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[23,1,2]]]);
//# sourceMappingURL=main.ce155dcb.chunk.js.map