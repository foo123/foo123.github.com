(function(t){function e(e){for(var n,o,s=e[0],c=e[1],u=e[2],d=0,h=[];d<s.length;d++)o=s[d],r[o]&&h.push(r[o][0]),r[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);l&&l(e);while(h.length)h.shift()();return i.push.apply(i,u||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],n=!0,s=1;s<a.length;s++){var c=a[s];0!==r[c]&&(n=!1)}n&&(i.splice(e--,1),t=o(o.s=a[0]))}return t}var n={},r={app:0},i=[];function o(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=n,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(a,n,function(e){return t[e]}.bind(null,n));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var u=0;u<s.length;u++)e(s[u]);var l=c;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"18c2":function(t,e,a){"use strict";var n=a("f22d"),r=a.n(n);r.a},"56d7":function(t,e,a){"use strict";a.r(e);a("cadf"),a("551c"),a("f751"),a("097d");var n=a("2b0e"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},i=[],o=(a("5c0b"),a("2877")),s={},c=Object(o["a"])(s,r,i,!1,null,null,null),u=c.exports,l=a("8c4f"),d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{key:"home_page",staticClass:"page page-home"},[a("h2",{staticClass:"page-header"},[t._v("Weather at a Glance")]),a("div",{staticClass:"search-box"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.text,expression:"text"}],attrs:{type:"text",placeholder:"search.."},domProps:{value:t.text},on:{input:function(e){e.target.composing||(t.text=e.target.value)}}}),a("button",{attrs:{type:"button"},on:{click:t.handleOnClick}},[t._v("Search!")])]),t._l(t.cities,function(t){return a("Weather",{key:"weather_for_"+t.woeid,attrs:{city:t.name,woeid:String(t.woeid)}})})],2)},h=[],m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"weather",class:t.detailedClass},[a("div",{staticClass:"weather-header"},[t.detailed?a("b",[t._v(t._s(t.cityName)+" (Forecast)")]):a("router-link",{attrs:{to:"/weather/"+t.woeid}},[a("b",[t._v(t._s(t.cityName))])])],1),a("div",{staticClass:"weather-content"},[t.loading?a("Loader",{attrs:{text:"Loading.."}}):t.data&&t.data.consolidated_weather&&t.data.consolidated_weather.length?t.detailed?t._l(t.data.consolidated_weather,function(e){return a("div",{staticClass:"weather-data"},[a("p",[a("b",[t._v(t._s(t.format_date(e.applicable_date)))])]),a("img",{staticClass:"weather-icon",attrs:{src:t.weather_icon(e.weather_state_abbr),alt:e.weather_state_name,title:e.weather_state_name}}),a("p",[a("span",{staticClass:"weather-details"},[t._v(t._s(t.format_temp(e.the_temp,"celsius",0,1))+" ("+t._s(t.format_temp(e.min_temp,"celsius",0,1))+" — "+t._s(t.format_temp(e.max_temp,"celsius",0,1))+")")])]),a("p",[a("span",{staticClass:"weather-details"},[t._v(t._s(t.format_num(e.wind_speed))+"mph")]),a("i",{staticClass:"wind-dir",class:e.wind_direction_compass.toLowerCase()}),t._v(" ("+t._s(e.wind_direction_compass)+")")])])}):a("div",{staticClass:"weather-data"},[a("p",[a("b",[t._v("Today")])]),a("img",{staticClass:"weather-icon",attrs:{src:t.weather_icon(t.current.weather_state_abbr),alt:t.current.weather_state_name,title:t.current.weather_state_name}}),a("p",[a("span",{staticClass:"weather-details"},[t._v(t._s(t.format_temp(t.current.the_temp,"celsius",0,1))+" ("+t._s(t.format_temp(t.current.min_temp,"celsius",0,1))+" — "+t._s(t.format_temp(t.current.max_temp,"celsius",0,1))+")")])]),a("p",[a("span",{staticClass:"weather-details"},[t._v(t._s(t.format_num(t.current.wind_speed))+"mph")]),a("i",{staticClass:"wind-dir",class:t.current.wind_direction_compass.toLowerCase()}),t._v(" ("+t._s(t.current.wind_direction_compass)+")")])]):a("div",{staticClass:"weather-data"},[a("p",[a("b",[t._v("No data!")])])])],2)])},p=[],f=(a("28a5"),a("768b")),_=a("d225"),w=a("b0b4"),v=function(){function t(){Object(_["a"])(this,t),this.$data={},this.$timer=null}return Object(w["a"])(t,[{key:"set",value:function(t,e){return this.$data[t]=e,this}},{key:"get",value:function(t){return Object.prototype.hasOwnProperty.call(this.$data,t)?this.$data[t]:null}},{key:"del",value:function(t){return Object.prototype.hasOwnProperty.call(this.$data,t)&&delete this.$data[t],this}},{key:"clear",value:function(){return this.$data={},this}},{key:"autoclear",value:function(t){var e=this;this.$timer&&(clearTimeout(this.$timer),this.$timer=null);var a=function a(){e.clear(),e.$timer=setTimeout(a,t)};return this.$timer=setTimeout(a,t),this}}]),t}(),g=(new v).autoclear(18e5),b=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},y=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"lds-facebook"},[a("div"),a("div"),a("div")])}],C={name:"Loader",props:{text:String}},x=C,$=(a("18c2"),Object(o["a"])(x,b,y,!1,null,"c4580c04",null)),O=$.exports,k={fahrenheit:{symbol:"℉",celsius:function(t){return 5/9*(t-32)}},celsius:{symbol:"℃",fahrenheit:function(t){return 9*t/5+32}}},j="https://api.allorigins.win/get?url="+encodeURIComponent("https://www.metaweather.com/api/location/"),S={name:"Weather",components:{Loader:O},props:{woeid:String,city:String,detailed:Boolean},data:function(){return{cityName:this.city?this.city:"..",loading:!0,data:null,current:null}},computed:{detailedClass:function(){return this.detailed?"detailed":""}},methods:{format_date:function(t){var e=t.split("-"),a=Object(f["a"])(e,3),n=a[0],r=a[1],i=a[2],o=new Date(t),s=o?["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][o.getDay()]:"Unknown",c=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][r-1];return"".concat(s,", ").concat(c," ").concat(i," ").concat(n)},format_num:function(t,e){return Math.round(+t)},format_temp:function(t,e,a,n){return e=e||"celsius",a&&(t=k["fahrenheit"===e?"celsius":"fahrenheit"][e](t)),this.format_num(t)+(n?k[e].symbol:"")},weather_icon:function(t,e){return"https://www.metaweather.com/static/img/weather/"+t+"."+(e||"svg").toLowerCase()}},mounted:function(){var t=this;if(this.woeid){var e=g.get("weather_"+this.woeid);e?(this.cityName=e.title,this.data=e,this.current=e.consolidated_weather[0],this.loading=!1):fetch(j+this.woeid).then(function(t){return t.json()}).then(function(a){a.contents&&(a=JSON.parse(a.contents)),g.set("weather_"+t.woeid,e=a),t.cityName=e.title,t.data=e,t.current=e.consolidated_weather[0],t.loading=!1})}}},N=S,L=(a("7276"),Object(o["a"])(N,m,p,!1,null,"92d8c46e",null)),P=L.exports,M=[{name:"Athens",woeid:946738},{name:"Beijing",woeid:2151330},{name:"Berlin",woeid:638242},{name:"Cairo",woeid:1521894},{name:"London",woeid:44418},{name:"Madrid",woeid:766273},{name:"Moscow",woeid:2122265},{name:"New Delhi",woeid:28743736},{name:"New York",woeid:2459115},{name:"Paris",woeid:615702},{name:"Sydney",woeid:1105779}],W={name:"home",components:{Weather:P},data:function(){return{text:"",cities:M}},methods:{handleOnClick:function(){this.$router.push({name:"search",params:{term:encodeURIComponent(this.text.toLowerCase())}})}}},T=W,R=Object(o["a"])(T,d,h,!1,null,null,null),U=R.exports,D=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{key:"search_page_"+t.$route.params.term,staticClass:"page page-search"},[a("h2",{staticClass:"page-header"},[t._v("Search Results")]),a("div",{staticClass:"search-box"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.text,expression:"text"}],attrs:{type:"text",placeholder:"search.."},domProps:{value:t.text},on:{input:function(e){e.target.composing||(t.text=e.target.value)}}}),a("button",{attrs:{type:"button"},on:{click:t.handleOnClick}},[t._v("Search!")])]),t.loading?a("Loader",{attrs:{text:"Loading.."}}):t.data&&t.data.length?t._l(t.data,function(t){return a("Weather",{key:"weather_for_"+t.woeid,attrs:{woeid:String(t.woeid),city:t.title}})}):a("p",[a("b",[t._v("No results found!")])])],2)},E=[],I="https://api.allorigins.win/get?url="+encodeURIComponent("https://www.metaweather.com/api/location/search/?query="),J={name:"search",components:{Loader:O,Weather:P},data:function(){return{loading:!0,text:this.$route.params.term?decodeURIComponent(this.$route.params.term):"",data:null}},methods:{handleOnClick:function(){this.$router.push({name:"search",params:{term:encodeURIComponent(this.text.toLowerCase())}})},loadData:function(t){var e=this,a=g.get("search_"+this.$route.params.term);a?(t&&(this.text=decodeURIComponent(this.$route.params.term)),this.data=a,this.loading=!1):fetch(I+this.$route.params.term).then(function(t){return t.json()}).then(function(n){n.contents&&(n=JSON.parse(n.contents)),g.set("search_"+e.$route.params.term,a=n),t&&(e.text=decodeURIComponent(e.$route.params.term)),e.data=a,e.loading=!1}).catch(function(t){return console.log(t)})}},watch:{$route:function(t,e){e.params.term!==t.params.term&&this.loadData(!0)}},mounted:function(){this.loadData()}},F=J,A=Object(o["a"])(F,D,E,!1,null,null,null),B=A.exports,q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{key:"weather_page",staticClass:"page page-weather"},[a("h2",{staticClass:"page-header"},[t._v("Weather Forecast")]),a("Weather",{key:"weather_for_"+t.woeid,attrs:{detailed:"",woeid:t.woeid}})],1)},G=[],Y={name:"weather",components:{Weather:P},computed:{woeid:function(){return String(this.$route.params.woeid)}}},z=Y,H=Object(o["a"])(z,q,G,!1,null,null,null),K=H.exports;n["a"].use(l["a"]);var Q=new l["a"]({mode:"hash",base:"/",routes:[{path:"/",name:"home",component:U},{path:"/search/:term",name:"search",component:B},{path:"/weather/:woeid",name:"weather",component:K}]});n["a"].config.productionTip=!1,new n["a"]({router:Q,render:function(t){return t(u)}}).$mount("#app")},"5b81":function(t,e,a){},"5c0b":function(t,e,a){"use strict";var n=a("5e27"),r=a.n(n);r.a},"5e27":function(t,e,a){},7276:function(t,e,a){"use strict";var n=a("5b81"),r=a.n(n);r.a},f22d:function(t,e,a){}});
//# sourceMappingURL=app.30c24010.js.map