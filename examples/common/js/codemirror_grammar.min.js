/**
*
*   CodeMirrorGrammar
*   @version: 2.5.0
*
*   Transform a grammar specification in JSON format, into a syntax-highlight parser mode for CodeMirror
*   https://github.com/foo123/codemirror-grammar
*   https://github.com/foo123/editor-grammar
*
**/!function(e,t,n){"use strict";var r,o="object"==typeof module&&module.exports,l="function"==typeof define&&define.amd;o?module.exports=(module.$deps=module.$deps||{})[t]=module.$deps[t]||n.call(e,{NODE:module})||1:l&&"function"==typeof require&&"function"==typeof require.specified&&require.specified(t)?define(t,["require","exports","module"],function(t,r,o){return n.call(e,{AMD:o})}):t in e||(e[t]=r=n.call(e,{})||1)&&l&&define(t,[],function(){return r})}(this,"CodeMirrorGrammar",function(e){"use strict";function t(e){var t=0;return null===e?t=ln:!0===e||!1===e||e instanceof Boolean?t=cn:Wt===e?t=on:(t=wn[Jt.call(e)]||rn,t=sn===t||e instanceof Number?isNaN(e)?an:isFinite(e)?sn:un:pn===t||e instanceof String?1===e.length?mn:pn:hn===t||e instanceof Array?hn:$n===t||e instanceof RegExp?$n:dn===t||e instanceof Date?dn:kn===t||e instanceof Function?kn:gn===t?gn:rn),t}function n(e,t,n,r){var o,l,s,i,u,a,c=e.length;if(arguments.length<4&&(r=c-1),0>r&&(r+=c),arguments.length<3&&(n=0),n>r)return[];if(n===r)return[t(e[n],n,n,r)];for(s=r-n+1,i=15&s,u=1&i,a=new Array(s),u&&(a[0]=t(e[n],n,n,r)),o=u;i>o;o+=2)l=n+o,a[o]=t(e[l],l,n,r),a[o+1]=t(e[l+1],l+1,n,r);for(o=i;s>o;o+=16)l=n+o,a[o]=t(e[l],l,n,r),a[o+1]=t(e[l+1],l+1,n,r),a[o+2]=t(e[l+2],l+2,n,r),a[o+3]=t(e[l+3],l+3,n,r),a[o+4]=t(e[l+4],l+4,n,r),a[o+5]=t(e[l+5],l+5,n,r),a[o+6]=t(e[l+6],l+6,n,r),a[o+7]=t(e[l+7],l+7,n,r),a[o+8]=t(e[l+8],l+8,n,r),a[o+9]=t(e[l+9],l+9,n,r),a[o+10]=t(e[l+10],l+10,n,r),a[o+11]=t(e[l+11],l+11,n,r),a[o+12]=t(e[l+12],l+12,n,r),a[o+13]=t(e[l+13],l+13,n,r),a[o+14]=t(e[l+14],l+14,n,r),a[o+15]=t(e[l+15],l+15,n,r);return a}function r(e,t,n,r,o){var l,s,i,u,a,c=e.length,p=n;if(arguments.length<5&&(o=c-1),0>o&&(o+=c),arguments.length<4&&(r=0),r>o)return p;if(r===o)return t(p,e[r],r);for(i=o-r+1,u=15&i,a=1&u,a&&(p=t(p,e[r],r)),l=a;u>l;l+=2)s=r+l,p=t(t(p,e[s],s),e[s+1],s+1);for(l=u;i>l;l+=16)s=r+l,p=t(t(t(t(t(t(t(t(t(t(t(t(t(t(t(t(p,e[s],s),e[s+1],s+1),e[s+2],s+2),e[s+3],s+3),e[s+4],s+4),e[s+5],s+5),e[s+6],s+6),e[s+7],s+7),e[s+8],s+8),e[s+9],s+9),e[s+10],s+10),e[s+11],s+11),e[s+12],s+12),e[s+13],s+13),e[s+14],s+14),e[s+15],s+15);return p}function o(e,t,n,r){if(t>n)return r;if(t===n)return e(t,r,t,n),r;var o,l,s=n-t+1,i=15&s,u=1&i;for(u&&e(t,r,t,n),o=u;i>o;o+=2)l=t+o,e(l,r,t,n),e(++l,r,t,n);for(o=i;s>o;o+=16)l=t+o,e(l,r,t,n),e(++l,r,t,n),e(++l,r,t,n),e(++l,r,t,n),e(++l,r,t,n),e(++l,r,t,n),e(++l,r,t,n),e(++l,r,t,n),e(++l,r,t,n),e(++l,r,t,n),e(++l,r,t,n),e(++l,r,t,n),e(++l,r,t,n),e(++l,r,t,n),e(++l,r,t,n),e(++l,r,t,n);return r}function l(e,n){var r,o,s,i,u=t(e),a=0;if(sn===t(n)?n>0?(a=n,n=!0):n=!1:n=!1!==n,gn===u){o={};for(s in e)e[Kt](s)&&e[Vt](s)&&(r=t(e[s]),o[s]=gn===r?n?l(e[s],a>0?a-1:n):e[s]:hn===r?n?l(e[s],a>0?a-1:n):e[s].slice():dn===r?new Date(e[s]):pn&r?e[s].slice():sn&r?0+e[s]:e[s])}else if(hn===u)for(i=e.length,o=new Array(i),s=0;i>s;s++)r=t(e[s]),o[s]=gn===r?n?l(e[s],a>0?a-1:n):e[s]:hn===r?n?l(e[s],a>0?a-1:n):e[s].slice():dn===r?new Date(e[s]):pn&r?e[s].slice():sn&r?0+e[s]:e[s];else o=dn===u?new Date(e):pn&u?e.slice():sn&u?0+e:e;return o}function s(){var e,n,r,o,i,u,a,c,p,m,f=arguments,h=f.length;if(1>h)return null;for(n=l(f[0]),r=1;h>r;r++)if(e=f[r])for(o in e)if(e[Kt](o)&&e[Vt](o))if(n[Kt](o)&&n[Vt](o)){if(p=t(n[o]),m=t(e[o]),gn===p&&gn===m)n[o]=s(n[o],e[o]);else if(hn===p&&hn===m){if(a=n[o],c=e[o],u=c.length,!u)continue;if(a.length)for(i=0;u>i;i++)0>a.indexOf(c[i])&&a.push(c[i]);else n[o]=c.slice()}}else n[o]=l(e[o]);return n}function i(e,n){return n||hn!==t(e)?[e]:e}function u(e,n){return e=i(e),(n||hn!==t(e[0]))&&(e=[e]),e}function a(e,n){return pn&t(n)&&pn&t(e)&&n.length&&n.length<=e.length&&n===e.substr(0,n.length)}function c(e,t,n){return t<e.length?e.splice(t,0,n):e.push(n),e}function p(e,t){var n=0,r=e.length;if(!0===t)e.length=0;else if(t){for(;r>n&&e[r-n-1].$id===t;)n++;n&&(e.length=r-n)}return e}function m(e,t,n){return n?e[t]=Wt:delete e[t],e}function f(e){return(e||"id_")+ ++qn}function h(e){return(e||"uuid")+"_"+ ++qn+"_"+(new Date).getTime()}function g(){var e,n,r,o,l,s,i=arguments,u=i.length;for(e=i[0]||{},l=1;u>l;l++)if(n=i[l],gn===t(n))for(o in n)n[Kt](o)&&n[Vt](o)&&(r=n[o],s=t(r),e[o]=sn&s?0+r:dn&s?new Date(r):bn&s?r.slice():r);return e}function k(e,t){var n,r=arguments.length,o="constructor";return 0===r?(e=Object,t={}):1===r?(t=e||{},e=Object):(e=e||Object,t=t||{}),t[Kt](o)||(t[o]=function(){}),n=t[o],delete t[o],n[Ht]=g(Qt(e[Ht]),t),n[Ht][o]=n,n}function $(e){return e.replace(Ln,"\\$1")}function d(e,t){return new RegExp(e,t||"")}function y(e,t,n,r){var o,l,s,i,u=e.pos,a=e.length,c="",p=!!n;if(p){for(r=!!r,l=!1,i=0;a>u&&(o=e[tn](u++),t!==o||l);)s=n===o,l=!l&&s,r?(s&&i++,(!s||2&i)&&(c+=o,i=0)):c+=o;2&i&&(c+=n)}else for(;a>u&&(o=e[tn](u++),t!==o);)c+=o;return e.pos=u,c}function b(e,n,r){var o,l,s,i,u,a=!0===r?0:1;for(pn&t(n)&&(n=[n,n,n],a=0),l=e.length,u="",o=0;l>o;)s=e[tn](o),l>o+1&&"$"===s?(i=e.charCodeAt(o+1),36===i?(u+="$",o+=2):i>=48&&57>=i?(u+=n[a+i-48]||"",o+=2):(u+=s,o+=1)):(u+=s,o+=1);return u}function x(e,n,r){if(!e||(sn|$n)&t(e))return e;var o,l=n?n.length||0:0;if(l&&n===e.substr(0,l)){var s,i,u,o,a,c=e.substr(l),p=c[tn](0),m="";for(o=c.length;o--&&(a=c[tn](o),p!==a);)"i"===a.toLowerCase()&&(m="i");return s=c.substring(1,o),i="^("+s+")",r[i]||(u=d(i,m),r[i]=u),r[i]}return e}function v(e,r,o){var l,s="";return pn&t(r)?s=r:r&&(s=Mn),l=n(e.sort(Cn),$).join("|"),[d("^("+l+")"+s,o?"i":""),1]}function w(e,n,r,o){var l=t(n);if(sn===l)return n;if(o[e])return o[e];r=r||0;var s,i=0;return n&&n.isCharList&&(i=1,m(n,"isCharList")),s=ln===l?new D(mt,e,n,ln,r):mn===l?new D(mt,e,n,mn,r):xn&l?new D(mt,e,n,$n,r):pn&l?new D(mt,e,n,i?fn:pn,r):n,o[e]=s}function E(e,n,r,o,l,s,u){if(u[e])return u[e];var c,p,m,f,h,g,k,$=0,d=0,y=1,b=pn&t(o)?!0:!!o;if(c=i(n),m=c.length,1===m)k=w(e,x(c[0],r,s),0,u);else if(m>1){for(f=(m>>>1)+1,p=0;f>=p;p++)h=t(c[p]),g=t(c[m-1-p]),(mn!==h||mn!==g)&&(y=0),hn&h||hn&g?$=1:($n&h||$n&g||a(c[p],r)||a(c[m-1-p],r))&&(d=1);if(y&&!b)c=c.slice().join(""),c.isCharList=1,k=w(e,c,0,u);else if(!b||$||d)if($||d){for(p=0;m>p;p++)c[p]=hn&t(c[p])?E(e+"_"+p,c[p],r,o,l,s,u):w(e+"_"+p,x(c[p],r,s),p,u);k=m>1?new D(ft,e,c):c[0]}else{for(c=c.sort(Cn),p=0;m>p;p++)c[p]=w(e+"_"+p,x(c[p],r,s),p,u);k=m>1?new D(ft,e,c):c[0]}else k=w(e,v(c,o,l),0,u)}return u[e]=k}function _(e,n,r,l,s){if(s[e])return s[e];var i=u(n),c=[],p=[];return o(function(n){var o,u;o=w(e+"_0_"+n,x(i[n][0],r,l),n,s),u=i[n].length>1?$n!==o.ptype||pn!==t(i[n][1])||a(i[n][1],r)?w(e+"_1_"+n,x(i[n][1],r,l),n,s):i[n][1]:o,c.push(o),p.push(u)},0,i.length-1),s[e]=new D(ht,e,[c,p])}function C(e,t){var n=u(e.tokens.slice());o(function(e){var r=n[e][0],o=n[e].length>1?n[e][1]:n[e][0],l=n[e].length>2?n[e][2]:"";null===o?(t.line=t.line||[],t.line.push(r)):(t.block=t.block||[],t.block.push([r,o,l]))},0,n.length-1)}function O(e,t,r){var o=e.meta||t,l=!(!e.caseInsesitive&&!e.ci),s=n(i(e.tokens),function(e){return{word:e,meta:o,ci:l}});r.autocomplete=(r.autocomplete||[]).concat(s)}function S(e){e.Lex||(e.Lex={}),e.Syntax||(e.Syntax={});var n,r,o,l,i,u,a,c,p,f,h,g=e.Lex,k=e.Syntax,$=[g,k],d=$.length;for(h=0;d>h;){f=$[h++];for(o in f)f[Kt](o)&&(n=o.split(":"),r=n[1]&&_n(n[1]).length?_n(n[1]):null,n=_n(n[0]),n.length||(n=o,r=null),n!==o&&(f[n]=f[o],m(f,o),r&&(r=r[en](),l=f[n],i=t(l),gn===i?f[n].type||(f[n].type=r):(f[n]={type:r},"error"===r?(f[n].type="action",f[n].error=l):"group"===r?(f[n].type="sequence",f[n].tokens=l):"action"===r&&pn===i?f[n][l]=!0:f[n].tokens=l))),g===f&&(vn&t(f[n])&&(f[n]={type:"simple",tokens:f[n]}),l=f[n],l.type&&(c=l.type=l.type[en](),"line-block"===c?(l.type="block",l.multiline=!1,l.escape=!1):"escaped-line-block"===c?(l.type="block",l.multiline=!1,l.escape="\\"):"escaped-block"===c&&(l.type="block",l.multiline=!0,l.escape="\\"))))}f=g;for(n in f)if(f[Kt](n))for(l=f[n];l.extend;)u=l.extend,m(l,"extend"),a=g[u],a&&(vn&t(a)&&(a=g[u]={type:"simple",tokens:a}),l=s(a,l));f=g;for(n in f)f[Kt](n)&&(l=f[n],l.type?(c=l.type=l.type[en](),"line-block"===c?(l.type="block",l.multiline=!1,l.escape=!1):"escaped-line-block"===c?(l.type="block",l.multiline=!1,l.escape="\\"):"escaped-block"===c&&(l.type="block",l.multiline=!0,l.escape="\\")):l["escaped-line-block"]?(l.type="block",l.multiline=!1,l.escape||(l.escape="\\"),l.tokens=l["escaped-line-block"],m(l,"escaped-line-block")):l["escaped-block"]?(l.type="block",l.multiline=!0,l.escape||(l.escape="\\"),l.tokens=l["escaped-block"],m(l,"escaped-block")):l["line-block"]?(l.type="block",l.multiline=!1,l.escape=!1,l.tokens=l["line-block"],m(l,"line-block")):l.comment?(l.type="comment",l.escape=!1,l.tokens=l.comment,m(l,"comment")):l.block?(l.type="block",l.tokens=l.block,m(l,"block")):l.simple?(l.type="simple",l.tokens=l.simple,m(l,"simple")):l.error?(l.type="action",l.action=["error",l.error,!!l["in-context"]],m(l,"error")):l[Kt]("context")?(l.type="action",l.action=[l.context?"context-start":"context-end",l.context,!!l["in-context"]],m(l,"context")):l.indent?(l.type="action",l.action=["indent",l.indent,!!l["in-context"]],m(l,"indent")):l.outdent?(l.type="action",l.action=["outdent",l.outdent,!!l["in-context"]],m(l,"outdent")):l.unique?(l.type="action",l.action=["unique",pn&t(l.unique)?["_DEFAULT_",l.unique]:l.unique,!!l["in-context"]],m(l,"unique")):l.push?(l.type="action",l.action=["push",l.push,!!l["in-context"]],m(l,"push")):l[Kt]("pop")?(l.type="action",l.action=["pop",l.pop,!!l["in-context"]],m(l,"pop")):l.type="simple","action"===l.type?l.ci=!(!l.caseInsesitive&&!l.ci):"block"===l.type||"comment"===l.type?(l.multiline=l[Kt]("multiline")?!!l.multiline:!0,pn&t(l.escape)||(l.escape=!1)):"simple"===l.type&&(l.autocomplete=!!l.autocomplete,l.meta=l.autocomplete&&pn&t(l.meta)?l.meta:null,l.combine=l[Kt]("combine")?l.combine:!0,l.ci=!(!l.caseInsesitive&&!l.ci)));f=k;for(n in f)f[Kt](n)&&(l=f[n],gn!==t(l)||l.type?l.type&&(c=l.type=l.type[en](),"group"===c&&l.match?(i=t(l.match),pn&i?(p=l.match[en](),"alternation"===p||"either"===p?(l.type="alternation",m(l,"match")):"sequence"===p||"all"===p?(l.type="sequence",m(l,"match")):"zeroorone"===p?(l.type="zeroOrOne",m(l,"match")):"zeroormore"===p?(l.type="zeroOrMore",m(l,"match")):"oneormore"===p?(l.type="oneOrMore",m(l,"match")):(l.type="sequence",m(l,"match"))):hn&i&&(l.type="repeat",l.repeat=l.match,m(l,"match"))):"either"===c?l.type="alternation":"all"===c?l.type="sequence":"lookahead"===c&&(l.type="positiveLookahead")):l.ngram||l["n-gram"]?(l.type="ngram",l.tokens=l.ngram||l["n-gram"],l["n-gram"]?m(l,"n-gram"):m(l,"ngram")):l.sequence||l.all?(l.type="sequence",l.tokens=l.sequence||l.all,l.all?m(l,"all"):m(l,"sequence")):l.alternation||l.either?(l.type="alternation",l.tokens=l.alternation||l.either,l.either?m(l,"either"):m(l,"alternation")):l.zeroOrOne?(l.type="zeroOrOne",l.tokens=l.zeroOrOne,m(l,"zeroOrOne")):l.zeroOrMore?(l.type="zeroOrMore",l.tokens=l.zeroOrMore,m(l,"zeroOrMore")):l.oneOrMore?(l.type="oneOrMore",l.tokens=l.oneOrMore,m(l,"oneOrMore")):l.positiveLookahead||l.lookahead?(l.type="positiveLookahead",l.tokens=l.positiveLookahead||l.lookahead,l.lookahead?m(l,"lookahead"):m(l,"positiveLookahead")):l.negativeLookahead&&(l.type="negativeLookahead",l.tokens=l.negativeLookahead,m(l,"negativeLookahead")));return e}function q(e,n,r,o){for(var l;pn&t(l=n[e]||r[e]);)e=l;return o?e:n[e]||r[e]||e}function L(e,t){return e.length>1?o(t?function(t,n){var r=n[n.length-1],o=e[t];r===o||n.push(o)}:function(t,n){var r=n[n.length-1],o=e[t];jn.test(o)&&jn.test(r)&&r===o||n.push(o)},1,e.length-1,[e[0]]):e}function R(e,r,o){var s,i,u,a,c,p,m,f,h,g,k,b,x,v,w,E=!1;if(w=e.modifier?e.modifier:null,f=new String(_n(e)),f.pos=0,1===f.length)b=""+e,r[b]||o[b]||(r[b]={type:"simple",tokens:e}),e=b;else{for(s=[],i=[],u="",x=[];f.pos<f.length;)if(h=f[tn](f.pos++),Rn.test(h))if(u.length&&(E?(i.length&&(k=i[i.length-1],b=k+"."+u,p=r[b]||o[b],p||(m=q(k,r,o),o[b]=pn&t(m)?new String(m):l(m),o[b].modifier=u),i[i.length-1]=b),E=!1):"0"===u?(r[Gt]||(r[Gt]={type:"simple",tokens:0}),i.push(Gt)):"^^"===u?(r[Ft]||(r[Ft]={type:"simple",tokens:kt}),i.push(Ft)):"^^1"===u?(r[At]||(r[At]={type:"simple",tokens:$t}),i.push(At)):"^"===u?(r[Pt]||(r[Pt]={type:"simple",tokens:yt}),i.push(Pt)):"$"===u?(r[It]||(r[It]={type:"simple",tokens:dt}),i.push(It)):(r[u]||o[u]||(r[u]={type:"simple",tokens:u}),i.push(u)),u=""),"."===h)i.length&&f.pos<f.length&&!Rn.test(f[tn](f.pos))?E=!0:u+=h;else if('"'===h||"'"===h)a=y(f,h,"\\",!0),a.length?(b=""+a,r[b]||(r[b]={type:"simple",tokens:a}),i.push(b)):(r[Ut]||(r[Ut]={type:"simple",tokens:""}),i.push(Ut));else if("["===h)a=y(f,"]","\\",!0),b="["+a+"]",r[b]||(r[b]={type:"simple",tokens:d("^(["+("^"===a[tn](0)?"^"+$(a.slice(1)):$(a))+"])")}),i.push(b);else{if("]"===h){u+=h;continue}if("/"===h)a=y(f,h,"\\",!0),g="",a.length&&(f.pos<f.length&&"i"===f[tn](f.pos)&&(f.pos++,g="i"),b="/"+a+"/"+g,r[b]||(r[b]={type:"simple",tokens:d("^("+a+")",g)}),i.push(b));else if("*"===h||"+"===h||"?"===h)i.length?(k=i[i.length-1],b=""+k+h,o[b]||(o[b]={type:"*"===h?"zeroOrMore":"+"===h?"oneOrMore":"zeroOrOne",tokens:[k]}),i[i.length-1]=b):u+=h;else if("{"===h)i.length?(c=y(f,"}",!1),c=n(c.split(","),_n),c[0]=c[0].length?parseInt(c[0],10)||0:0,0>c[0]&&(c[0]=0),2>c.length?c.push(c[0]):c[1]=c[1].length?parseInt(c[1],10)||nn:nn,0>c[1]&&(c[1]=0),k=i[i.length-1],b=""+k+["{",c[0],",",isFinite(c[1])?c[1]:"","}"].join(""),o[b]||(o[b]={type:"repeat",repeat:[c[0],c[1]],tokens:[k]}),i[i.length-1]=b):u+=h;else{if("}"===h){u+=h;continue}"&"===h||"!"===h?u+=h:"|"===h?(E=!1,i=L(i),i.length>1?(b=""+i.join(" "),o[b]||(o[b]={type:"sequence",tokens:i}),s.push(b)):i.length?s.push(i[0]):u+=h,i=[]):"("===h?(x.push([i,s,u]),i=[],s=[],u=""):")"===h&&(i=L(i),i.length>1?(b=""+i.join(" "),o[b]||(o[b]={type:"sequence",tokens:i}),s.push(b)):i.length&&s.push(i[0]),i=[],s=L(s,1),s.length>1?(b=""+s.join(" | "),o[b]||(o[b]={type:"alternation",tokens:s})):s.length&&(b=s[0]),s=[],v=x.pop(),i=v[0],s=v[1],u=v[2],k=b,b="("+k+")",o[b]||(o[b]=l(q(k,r,o))),i.push(b))}}else u+=h;u.length&&(E?(i.length&&(k=i[i.length-1],b=k+"."+u,p=r[b]||o[b],p||(m=q(k,r,o),o[b]=pn&t(m)?new String(m):l(m),o[b].modifier=u),i[i.length-1]=b),E=!1):"0"===u?(r[Gt]||(r[Gt]={type:"simple",tokens:0}),i.push(Gt)):"^^"===u?(r[Ft]||(r[Ft]={type:"simple",tokens:kt}),i.push(Ft)):"^^1"===u?(r[At]||(r[At]={type:"simple",tokens:$t}),i.push(At)):"^"===u?(r[Pt]||(r[Pt]={type:"simple",tokens:yt}),i.push(Pt)):"$"===u?(r[It]||(r[It]={type:"simple",tokens:dt}),i.push(It)):(r[u]||o[u]||(r[u]={type:"simple",tokens:u}),i.push(u))),u="",i=L(i),i.length>1?(b=""+i.join(" "),o[b]||(o[b]={type:"sequence",tokens:i}),s.push(b)):i.length&&s.push(i[0]),i=[],s=L(s,1),s.length>1?(b=""+s.join(" | "),o[b]||(o[b]={type:"alternation",tokens:s}),e=b):s.length&&(e=s[0]),s=[]}return w&&(r[e]||o[e])&&((r[e]||o[e]).modifier=w),e}function M(e,l,s,a,c,p,m,f,h,g,k){var $,d,y,b,x,v,w=null,S=null,L=null;if(kt===e||$t===e||yt===e||dt===e)return new z(e,kt===e?Ft:$t===e?$T_FBNL$:yt===e?Pt:It,e,S);if(!1===e||0===e)return new z(bt,Gt,0,S);if(""===e)return new z(xt,Ut,"",S);if(null===e)return new z(vt,Tt,ln,S,L);if(hn&t(e)&&(y=e,e="NGRAM_"+y.join("_"),a[e]||(a[e]={type:"ngram",tokens:y})),e=""+e,f[e])return f[e];if(x=q(e,s,a),pn&t(x)&&(x=R(x,s,a),x=s[x]||a[x]||null),!x)return null;if($=x.type?Bt[x.type[en]().replace(Sn,"")]||vt:vt,S=x.msg||null,L=x.modifier||null,d=x.tokens,vt&$){if(kt===d||$t===d||yt===d||dt===d||!1===d||0===d)return w=new z(d||bt,e,d||0,S),f[e]=w,w;if(""===d)return w=new z(xt,e,"",S),f[e]=w,w;if(null===d)return w=new z(vt,e,ln,S,L),f[e]=w,w;if(!d)return null}return gt&$?(x[Kt]("action")?"error"===x.action[0]?x.action[0]=ot:"context-start"===x.action[0]?x.action[0]=st:"context-end"===x.action[0]?x.action[0]=it:"push"===x.action[0]?x.action[0]=ut:"pop"===x.action[0]?x.action[0]=at:"unique"===x.action[0]?x.action[0]=lt:"indent"===x.action[0]?x.action[0]=ct:"outdent"===x.action[0]&&(x.action[0]=pt):x[Kt]("error")?x.action=[ot,x.error,!!x["in-context"]]:x[Kt]("context")?x.action=[x.context?st:it,x.context,!!x["in-context"]]:x[Kt]("context-start")?x.action=[st,x["context-start"],!!x["in-context"]]:x[Kt]("context-end")?x.action=[it,x["context-end"],!!x["in-context"]]:x[Kt]("push")?x.action=[ut,x.push,!!x["in-context"]]:x[Kt]("pop")?x.action=[at,x.pop,!!x["in-context"]]:x[Kt]("unique")?x.action=[lt,pn&t(x.unique)?["_DEFAULT_",x.unique]:x.unique,!!x["in-context"]]:x[Kt]("indent")?x.action=[ct,x.indent,!!x["in-context"]]:x[Kt]("outdent")&&(x.action=[pt,x.outdent,!!x["in-context"]]),w=new z(gt,e,x.action.slice(),S,L),w.ci=!!x.caseInsensitive||x.ci,f[e]=w):(d=i(d),vt&$?(x.autocomplete&&O(x,e,k),v=x[Kt]("combine")?x.combine:!0,w=new z(vt,e,E(e,d.slice(),l,v,!(!x.caseInsensitive&&!x.ci),p,m),S,L),f[e]=w):wt&$?(Et===$&&C(x,g),w=new z($,e,_(e,d.slice(),l,p,m),S),w.mline=x[Kt]("multiline")?!!x.multiline:!0,w.esc=x[Kt]("escape")?x.escape:!1,w.inter=!!c[e+".inside"],Et===$&&x.interleave&&h.push(F(w)),L&&(w.modifier=L),f[e]=w):zt&$&&(Dt===$?(b=u(d),w=n(b,function(t,n){return new z(Dt,e+"_NGRAM_"+n,null,S,L)}),f[e]=w,o(function(e){w[e].token=i(r(b[e],function(e,t){return e.concat(M(t,l,s,a,c,p,m,f,h,g,k))},[]))},0,b.length-1)):(Mt===$||jt===$?w=new z($,e,null,S,L):Ot&$&&hn&t(x.repeat)?(w=new z(Ot,e,null,S,L),w.min=x.repeat[0],w.max=x.repeat[1]):St===$?(w=new z(St,e,null,S,L),w.min=0,w.max=1):qt===$?(w=new z(qt,e,null,S,L),w.min=0,w.max=nn):Lt===$?(w=new z(Lt,e,null,S,L),w.min=1,w.max=nn):w=_t===$?new z(_t,e,null,S,L):new z(Ct,e,null,S,L),f[e]=w,w.token=i(r(d,function(e,t){return e.concat(M(t,l,s,a,c,p,m,f,h,g,k))},[]))))),f[e]}function j(e){var n,o,s,i,u,a,c,p,m,f,h,g;return e.__parsed?e:(n=e.RegExpID||null,s=e.Extra?l(e.Extra):{},i=e.Style?l(e.Style):{},u=e.Lex?l(e.Lex):{},a=e.Syntax?l(e.Syntax):{},c={},p={},m={},h={},g={},f=[],o=e.Parser?l(e.Parser):[],e=S({Style:i,Lex:u,Syntax:a,$parser:null,$interleaved:null,$comments:null,$autocomplete:null,$extra:s,__parsed:0}),e.$parser=r(o,function(e,r){var o=M(r,n,u,a,i,c,p,m,f,h,g)||null;return o&&(hn&t(o)?e=e.concat(o):e.push(o)),e},[]),e.$interleaved=f&&f.length?f:null,e.$comments=h,e.$autocomplete=g&&g.autocomplete&&g.autocomplete.length?g.autocomplete:null,e.__parsed=1,e)}function D(e,n,r,o,l){var s,i,u=this;s=u.type=e,u.name=n,u.pattern=r,i=u.ptype=o||pn,u.key=l||0,ft===s?u.key=!1!==l:ht===s?u.pattern[0]=new D(ft,n+"_Start",r[0],null,!1):ln===i?u.pattern=null:$n===i&&(u.pattern=$n&t(r)?[r,0]:[r[0],r[1]||0])}function N(e,n,r){var o,l,s,i,u,a,c,p,m,f,h,g=e,k=g.type,$=g.pattern,d=g.key;if(ht===k){if(o=g.name,s=$[0],i=$[1],a=N(s,n,r))return u=i[a[0]],p=t(u),m=s.pattern[a[0]].ptype,$n===m&&yn&p&&(c=sn&p?a[1][u+1]:b(u,a[1]),u=new D(mt,o+"_End",c,c.length>1?pn:mn)),u}else if(ft===k){for(f=0,h=$.length;h>f;f++)if(c=N($[f],n,r))return d?[f,c[1]]:c}else{if(l=g.ptype,ln===l)return!1!==r&&n.end(),[d,""];if($n===l){if(c=n.slice(n.pos).match($[0]),c&&0===c.index)return!1!==r&&n.mov(c[$[1]||0].length),[d,$[1]>0?c[$[1]]:c]}else if(fn===l){if(c=n[tn](n.pos)||null,c&&-1<$.indexOf(c))return!1!==r&&n.mov(1),[d,c]}else if(mn===l){if(c=n[tn](n.pos)||null,$===c)return!1!==r&&n.mov(1),[d,c]}else if(pn===l&&(h=$.length,$===n.substr(n.pos,h)))return!1!==r&&n.mov(h),[d,$]}return!1}function z(e,t,n,r,o){var l=this;l.type=e,l.name=t,l.token=n,l.modifier=o||null,l.pos=null,l.msg=r||null,l.$msg=null,l.status=0,l.ci=!1,l.mline=!0,l.esc=!1,l.inter=!1,l.found=0,l.min=0,l.max=1,l.$id=null}function B(){var e=this;e.T=0,e.id=null,e.type=null,e.match=null,e.str="",e.pos=null,e.block=null}function F(e,t,n,r){var o=new z(e.type,e.name,e.token,e.msg,e.modifier);return o.ci=e.ci,o.mline=e.mline,o.esc=e.esc,o.inter=e.inter,o.found=e.found,o.min=e.min,o.max=e.max,t&&(o.status|=Z),n&&(o.modifier=n),r&&(o.$id=r),o}function A(e){var t=e.name;return e.$msg?e.$msg:e.status&Z?'Token "'+t+'" Expected':'Syntax Error: "'+t+'"'}function P(e,t,n,r,o,l,s){e.err[t+"_"+n+"_"+r+"_"+o+"_"+l.name]=[t,n,r,o,s||A(l)]}function I(e,t,n,r){if(!e)return!1;var o=e.type,l=zt&o?W:wt&o?U:gt&o?T:G;return l(e,t,n,r)}function T(e,n,r,o){var l,s,i,u,a,c,p,m,f,h,g,k,$,d,y,x,v=e,w=v.token||null,E=v.ci,_=v.name,C=!(r.status&Q);if(v.status=0,v.$msg=null,C||!w||!o||!o.pos)return!0;if(x=!!(wt&o.T),x&&!o.block)return!0;if(l=w[0],s=w[1],$=w[2],a=v.msg,c=r.queu,p=r.symb,m=r.ctx,x?(y=o.block.match||o.block.str,f=o.block.pos[0][0],h=o.block.pos[0][1],g=o.block.pos[0][2],k=o.block.pos[0][3]):(y=o.match||o.str,f=o.pos[0],h=o.pos[1],g=o.pos[2],k=o.pos[3]),ot===l)return!a&&pn&t(s)&&(a=s),v.$msg=a?b(a,y,!0):'Error "'+_+'"',P(r,f,h,g,k,v,A(v)),v.status|=et,!1;if(it===l)m.length&&m.shift();else if(st===l)m.unshift({symb:{},queu:[]});else if(at===l){if($){if(!m.length)return!0;c=m[0].queu}if(s){if(s=b(s,y),E&&(s=s[en]()),!c.length||s!==c[0][0])return c.length?(v.$msg=a?b(a,[c[0][0],s],!0):'Tokens do not match "'+c[0][0]+'","'+s+'"',d=A(v),P(r,c[0][1],c[0][2],c[0][3],c[0][4],v,d),P(r,f,h,g,k,v,d),c.shift()):(v.$msg=a?b(a,["",s],!0):'Token does not match "'+s+'"',d=A(v),P(r,f,h,g,k,v,d)),v.status|=et,!1;c.shift()}else c.shift()}else if(ut===l&&s){if($){if(!m.length)return!0;c=m[0].queu}s=b(s,y),E&&(s=s[en]()),c.unshift([s,f,h,g,k])}else if(lt===l){if($){if(!m.length)return!0;p=m[0].symb}if(i=s[1],u=s[0],i=b(i,y,!0),E&&(i=i[en]()),p[Kt](u)||(p[u]={}),p[u][Kt](i))return v.$msg=a?b(a,i,!0):'Duplicate "'+i+'"',d=A(v),P(r,p[u][i][0],p[u][i][1],p[u][i][2],p[u][i][3],v,d),P(r,f,h,g,k,v,d),v.status|=et,!1;p[u][i]=[f,h,g,k]}return!0}function G(e,t,n,r){var o=e,l=o.token,s=o.modifier,i=o.type,u=o.name,a=n.line,c=t.pos,p=null,m=!1;return o.status&=nt,o.$msg=o.msg||null,kt===i?m=0===n.line:$t===i?m=n.bline+1===n.line:yt===i?m=t.sol():dt===i?(t.spc(),t.eol()?m=u:t.bck(c)):bt===i?(o.status=0,m=!0):xt===i?(o.status&Z&&t.spc()&&!t.eol()?(t.bck(c),o.status|=et):m=!0,o.status&=tt):ln===l?(t.end(),m=s||u):(p=N(l,t))&&(p=p[1],m=s||u),!1!==m&&(r.T=i,r.id=u,r.type=m,r.str=t.sel(c,t.pos),r.match=p,r.pos=[a,c,a,t.pos]),!m&&o.status&&o.$msg&&(o.$msg=b(o.$msg,u,!0)),m}function U(e,t,n,r){var o,l,s,i,u,a,p,m,f,h,g,k,$,d,y,x,v,w,E,_,C=e,O=C.name,S=C.type,q=C.modifier,L=C.token,R=C.mline,M=C.inter,j=M?O+".inside":O,D=C.esc,z=!!D,B="",A="",P="",I="",T=C.$id||O,G=n.stack;if(C.status&=nt,C.$msg=C.msg||null,E=n.line,_=t.pos,Et===S&&(C.status&=tt),y=C.status&Z,s=0,i=0,n.block&&n.block.name===O?(i=1,s=1,d=j,o=n.block.end,m=n.block.sp,h=n.block.ip,f=n.block.ep,B=n.block.s,A=n.block.i):!n.block&&(o=N(L,t))&&(i=1,d=O,x=t.pos,m=[E,_],h=[[E,x],[E,x]],f=[E,x],B=t.sel(_,x),A="",I="",n.block={name:O,end:o,sp:m,ip:h,ep:f,s:B,i:A,e:I}),i){if(w=G.length,l=ln===o.type,M){if(l&&s&&t.sol())return C.status&=tt,n.block=null,!1;if(!s)return x=t.pos,r.T=S,r.id=O,r.type=q||d,r.str=t.sel(_,x),r.match=null,r.pos=[E,_,E,x],c(G,w,F(C,y,0,T)),q||d}if(x=t.pos,u=N(o,t),p=R,a=0,u)d=l?j:O,I=t.sel(x,t.pos);else for(v=t.pos,k=!1;!t.eol();){if(x=t.pos,!k&&N(o,t)){M&&t.pos>x&&x>v?(d=j,t.bck(x),a=1):(d=O,u=1),I=t.sel(x,t.pos);break}$=t.nxt(1),P+=$,k=z&&!k&&D===$,x=t.pos}return p=R||z&&k,A+=P,h[1]=[E,x],f=[E,t.pos],u||!p&&!a?n.block=null:(n.block.ip=h,n.block.ep=f,n.block.i=A,n.block.e=I,c(G,w,F(C,y,0,T))),r.T=S,r.id=O,r.type=q||d,r.str=t.sel(_,t.pos),r.match=null,r.pos=[E,_,f[0],f[1]],n.block||(g=B+A+I,r.block={str:g,match:[g,A,B,I],part:[g,B,A,I],pos:[[m[0],m[1],f[0],f[1]],[m[0],m[1],h[0][0],h[0][1]],[h[0][0],h[0][1],h[1][0],h[1][1]],[h[1][0],h[1][1],f[0],f[1]]]}),q||d}return C.status&&C.$msg&&(C.$msg=b(C.$msg,O,!0)),!1}function W(e,t,n,r){var o,l,s,i,u,a,p,m,h,g,k,$,d,y,b,x=e,v=x.type,w=(x.name,x.token),E=w.length,_=x.modifier;if(x.status&=nt,x.$msg=x.msg||null,$=n.stack,m=t.pos,h=$.length,a=0,p=0,y=x.$id||f(),_t===v){for(x.status|=Z,d=[],g=0;E>g;g++){if(o=F(w[g],1,_,y),l=I(o,t,n,r),o.status&Z&&(a++,d.push(A(o))),!1!==l)return l;o.status&et&&(p++,t.pos>m&&t.bck(m),$.length>h&&($.length=h))}return a>0?x.status|=Z:x.status&=tt,E===p&&a>0?x.status|=et:x.status&=nt,x.status&&!x.$msg&&d.length&&(x.$msg=d.join(" | ")),!1}if(Nt&v){b=!!(v&Ct),b?x.status|=Z:x.status&=tt,k=0;do o=F(w[k++],b,_,y),l=I(o,t,n,r);while(E>k&&!1===l&&!(o.status&rt));if(!1!==l){if(!0!==l||bt!==o.type)for(g=E-1;g>=k;g--)c($,h+E-g-1,F(w[g],1,_,y));return l}return o.status&et?(b?x.status|=et:x.status&=nt,t.pos>m&&t.bck(m),$.length>h&&($.length=h)):b&&o.status&Z&&(x.status|=et),x.status&&!x.$msg&&(x.$msg=A(o)),!1}if(Mt===v)return x.status=0,!1;if(jt===v)return x.status=0,!1;for(s=x.found,i=x.min,u=x.max,x.status&=tt,d=[],g=0;E>g;g++){if(o=F(w[g],1,_,y),l=I(o,t,n,r),!1!==l){if(++s,u>=s)return x.found=s,c($,h,F(x,0,0,y)),x.found=0,l;break}o.status&Z&&(a++,d.push(A(o))),o.status&et&&(t.pos>m&&t.bck(m),$.length>h&&($.length=h))}return i>s?x.status|=Z:x.status&=tt,s>u||i>s&&a>0?x.status|=et:x.status&=nt,x.status&&!x.$msg&&d.length&&(x.$msg=d.join(" | ")),!1}function H(e,t){var n=this;n.id=e?h("state"):"state",t instanceof H?(n.line=t.line,n.bline=t.bline,n.status=t.status,n.stack=t.stack.slice(),n.block=t.block,n.status&Q?(n.queu=t.queu,n.symb=t.symb,n.ctx=t.ctx,n.err=t.err):(n.queu=null,n.symb=null,n.ctx=null,n.err=null),n.$eol$=t.$eol$,n.$blank$=t.$blank$):(n.line=-1,n.bline=-1,n.status=t||0,n.stack=[],n.block=null,n.status&Q?(n.queu=[],n.symb={},n.ctx=[],n.err={}):(n.queu=null,n.symb=null,n.ctx=null,n.err=null),n.$eol$=!0,n.$blank$=!0),n.toString=function(){return n.id+"_"+n.line+"_"+n.bline+"_"+(n.block?n.block.name:"0")}}function K(e){e.id=null,e.line=null,e.bline=null,e.status=null,e.stack=null,e.block=null,e.queu=null,e.symb=null,e.ctx=null,e.err=null}function V(e,t,n){var r=new String(e);return r.start=t||0,r.pos=n||0,r.sol=function(){return 0===r.pos},r.eol=function(){return r.pos>=r.length},r.end=function(){return r.pos=r.length,r},r.mov=function(e){return r.pos=0>e?Xt(0,r.pos+e):Zt(r.length,r.pos+e),r},r.bck=function(e){return r.pos=Xt(0,e),r},r.sft=function(){return r.start=r.pos,r},r.nxt=function(e,t){var n,o,l="";if(!0===e){for(t=t||V.$RE_NONSPC$;r.pos<r.length&&t.test(n=r[tn](r.pos++));)l+=n;return l.length?l:null}for(e=e||1,o=0;o++<e&&r.pos<r.length;)l+=r[tn](r.pos++);return l},r.cur=function(e){var t=r.slice(r.start,r.pos);return e&&(r.start=r.pos),t},r.sel=function(e,t){return r.slice(e,t)},r.spc=function(e,t){var n;return(n=r.slice(r.pos).match(t||V.$RE_SPC$))?(!1!==e&&r.mov(n[0].length),n[0]):void 0},r}function Y(e,t){var n=function l(e,t){return{startState:function(){return new H},copyState:function(e){return new H(0,e)},token:function(e,t){var n=V(e.string,e.start,e.pos),r=l.$parser.token(n,t).type;return e.pos=n.pos,r},indent:function(n,r,o){return l.$parser.indent(n,r,o,e,t)},lineComment:l.$parser.LC,blockCommentStart:l.$parser.BCS,blockCommentEnd:l.$parser.BCE,blockCommentContinue:l.$parser.BCC,blockCommentLead:l.$parser.BCL,electricInput:l.$parser.$grammar.$extra.electricInput||!1,electricChars:l.$parser.$grammar.$extra.electricChars||!1,fold:o}},o=!1;return n.$id=h("codemirror_grammar_mode"),n.$parser=new An.Parser(j(e),t),n.$parser.$grammar.$extra.fold&&(o=n.$parser.$grammar.$extra.fold[en](),o="brace"===o||"cstyle"===o?"brace":"html"===o||"xml"===o?"xml":"indent"===o||"indentation"===o?"indent":!1),n.supportGrammarAnnotations=!1,n.validator=function(e){if(!(n.$parser&&n.supportGrammarAnnotations&&e&&e.length))return[];var t,r,o=[],l=Nn.Pos,s=n.$parser.parse(e,Q);if(!s)return o;for(t in s)s[Kt](t)&&(r=s[t],o.push({message:r[4]||"Syntax Error",severity:"error",from:l(r[0],r[1]),to:l(r[2],r[3])}));return o},n.autocomplete_renderer=function(e,t,n){var r=n.text,o=n.meta,l=n.start,s=n.end,i=t.list.maxlen-r.length-o.length+5;e.innerHTML=['<span class="cmg-autocomplete-keyword">',r.slice(0,l),'<strong class="cmg-autocomplete-keyword-match">',r.slice(l,s),"</strong>",r.slice(s),"</span>",new Array(1+i).join("&nbsp;"),'<strong class="cmg-autocomplete-keyword-meta">',o,"</strong>","&nbsp;"].join(""),e.className=(e.className&&e.className.length?e.className+" ":"")+"cmg-autocomplete-keyword-hint",e.style.position="relative",e.style.boxSizing="border-box",e.style.width="100%",e.style.maxWidth="100%"},n.autocompleter=function(e,t){var o,l,s,i,u,a,c,p,m=[],f=Nn.Pos,h=e.getCursor(),g=h.ch,k=g,$=g,d=$,y=0;if(n.$parser&&n.$parser.$grammar.$autocomplete){for(t=t||{},u=t.word||zn,o=e.getLine(h.line),p=t[Kt]("prefixMatch")?!!t.prefixMatch:!0;k&&u.test(o[tn](k-1));)--k;if(!p)for(;d<o.length&&u.test(o[tn](d));)++d;d>k&&(c=t[Kt]("caseInsensitiveMatch")?!!t.caseInsensitiveMatch:!1,a=t.renderer||n.autocomplete_renderer,l=o.slice(k,d),s=l[en](),i=l.length,r(n.$parser.$grammar.$autocomplete,function(e,t){var n,r,o,u,m,f,h,g=t.word,k=g.length;return k>=i&&(n=t.meta,r=!!g.ci,h=c||r,h?(m=g[en](),f=s):(m=g,f=l),(u=m.indexOf(f))>=0&&(!p||0===u)&&(o=h?g.indexOf(l):u,k+n.length>y&&(y=k+n.length),e.push({text:g,name:g,meta:n,start:0>o?u:o,end:(0>o?u:o)+l.length,match:l,displayText:g+"		["+n+"]",render:a,score:1e3-10*(k-i)-5*(0>o?u+3:o)}))),e},m),m.length&&(m=m.sort(Bn)),m.maxlen=y)}return{list:m,from:f(h.line,k),to:f(h.line,d)}},n.autocomplete=n.autocompleter,n.dispose=function(){n.$parser&&n.$parser.dispose(),n.$parser=null},n}var J=1,Q=2,X=32,Z=4,et=8,tt=~Z,nt=~et,rt=Z|et,ot=4,lt=8,st=16,it=17,ut=32,at=33,ct=128,pt=129,mt=2,ft=4,ht=8,gt=4,kt=8,$t=9,dt=16,yt=32,bt=128,xt=256,vt=512,wt=1024,Et=1025,_t=2048,Ct=4096,Ot=8192,St=8193,qt=8194,Lt=8195,Rt=16384,Mt=Rt,jt=16385,Dt=32768,Nt=Ct|Dt,zt=_t|Ct|Ot|Rt|Dt,Bt={action:gt,simple:vt,block:wt,comment:Et,alternation:_t,sequence:Ct,repeat:Ot,zeroorone:St,zeroormore:qt,oneormore:Lt,positivelookahead:Mt,negativelookahead:jt,ngram:Dt},Ft="$|SOF|$",At="$|NONBLANK|$",Pt="$|SOL|$",It="$|EOL|$",Tt="$|ENDLINE|$",Gt="$|EMPTY|$",Ut="$|NONSPACE|$",Wt=void 0,Ht="prototype",Kt="hasOwnProperty",Vt="propertyIsEnumerable",Yt=Object[Ht],Jt=Yt.toString,Qt=Object.create,Xt=Math.max,Zt=Math.min,en="toLowerCase",tn="charAt",nn=1/0,rn=4,on=8,ln=16,sn=32,un=33,an=34,cn=64,pn=128,mn=129,fn=130,hn=256,gn=512,kn=1024,$n=2048,dn=4096,yn=pn|sn,bn=pn|hn,xn=$n|hn,vn=pn|hn|$n,wn={"[object Number]":sn,"[object String]":pn,"[object Array]":hn,"[object RegExp]":$n,"[object Date]":dn,"[object Function]":kn,"[object Object]":gn},En=/^\s+|\s+$/g,_n=String[Ht].trim?function(e){return e.trim()}:function(e){return e.replace(En,"")},Cn=function(e,t){return t.length-e.length},On=/\r\n|\r|\n/g,Sn=/[\-_]/g,qn=0,Ln=/([.*+?^${}()|[\]\/\\\-])/g,Rn=/^([.!&\[\]{}()*+?\/|'"]|\s)/,Mn="(\\s|\\W|$)",jn=/[*+]$/;V.$RE_SPC$=/^[\s\u00a0]+/,V.$RE_NONSPC$=/[^\s\u00a0]/;var Dn=k({constructor:function(e,t,n){var r=this;r.$grammar=e,r.$DEF=t||null,r.$ERR=n||null,r.DEF=r.$DEF,r.ERR=r.$ERR},$grammar:null,$n$:"name",$t$:"type",$v$:"token",$DEF:null,$ERR:null,DEF:null,ERR:null,dispose:function(){var e=this;return e.$grammar=null,e.$n$=e.$t$=e.$v$=null,e.$DEF=e.$ERR=e.DEF=e.ERR=null,e},token:function(e,t){var n,r,o,l,s,i,u,a,c,m,f,h,g,k,$,d=this,y=d.$grammar,b=y.Style,x=d.DEF,v=d.ERR,w={},E=d.$n$,_=d.$t$,C=d.$v$,O=y.$interleaved,S=y.$parser,q=S.length,L=O?O.length:0;if(e.sol()&&(t.$eol$&&(t.$blank$&&(t.bline=t.line),t.$eol$=!1,t.line++),t.$blank$=t.bline+1===t.line),t.$actionerr$=!1,l=t.stack,s=t.line,i=e.pos,f=!1,g=!0,h=!1,k=!1,$=t.block?t.block.name:Wt,l.length&&dt===l[l.length-1].type&&e.sol()&&l.pop(),(!l.length||xt!==l[l.length-1].type&&$!==l[l.length-1].name)&&e.spc()&&(g=!1,k=!0),w[E]=null,w[_]=x,w[C]=null,g)for(o=new B,u=0;g&&(l.length||q>u)&&!e.eol();){if(c=e.pos,m=l.length,L&&!t.block){for(a=0;L>a;a++)if(n=O[a],f=I(n,e,t,o),!1!==f){g=!1;break}if(!g)break}if(!l.length&&u>=q)break;if(n=l.length?l.pop():S[u++],f=I(n,e,t,o),!1===f){if(n.status&rt){p(l,n.$id),e.nxt(!0)||(e.spc(),k=!0),h=!0,g=!1;break}}else{if(l.length&&gt===l[l.length-1].type)for(;l.length&&gt===l[l.length-1].type;)r=l.pop(),T(r,e,t,o),r.status&et&&(t.$actionerr$=!0);else if(l.length>1&&e.eol()&&wt&l[l.length-1].type&&t.block&&t.block.name===l[l.length-1].name)for(a=l.length-2;a>=0&&gt===l[a].type;)r=l[a--],T(r,e,t,o),r.status&et&&(t.$actionerr$=!0);if(!0!==f){g=!1;break}}}return g&&e.nxt(1),w[C]=e.cur(1),!1!==f?(f=b[f]||x,w[E]=n.name):h?(f=v,t.status&Q&&P(t,s,i,s,e.pos,n)):f=x,w[_]=f,t.$eol$=e.eol(),t.$blank$=t.$blank$&&(k||t.$eol$),w},tokenize:function(e,t){var n=this,r=[];if(e.eol())t.line++,t.$blank$&&t.bline++;else for(;!e.eol();)r.push(n.token(e,t));return r},parse:function(e,t){var n,r,l,s,i=this,u=(e||"").split(On),a=u.length,c=null;
return t=t||J,r=!!(t&Q),l=!!(t&J),n=new H(0,t),n.$full_parse$=!0,o(function(e){u[e]+="\n"},0,a-2),l?c=o(t&X?function(e,t){t._=t._.concat(i.tokenize(V(u[e]),n,e))}:function(e,t){t._.push(i.tokenize(V(u[e]),n,e))},0,a-1,{_:[]})._:o(function(e){var t=V(u[e]);if(t.eol())n.line++,n.$blank$&&n.bline++;else for(;!t.eol();)i.token(t,n)},0,a-1),s=l&&r?{tokens:c,errors:n.err}:l?c:n.err,K(n),s},indent:function(){}}),Nn=CodeMirror||{Pass:{toString:function(){return"CodeMirror.Pass"}}},zn=/[\w$]/,Bn=function(e,t){return t.score-e.score},Fn=k(Dn,{constructor:function(e,t){var n=this;Dn.call(n,e,null,"error"),n.DEF=t||n.$DEF,n.ERR=e.Style.error||n.$ERR,n.LC=e.$comments.line?e.$comments.line[0]:null,n.BCS=e.$comments.block?e.$comments.block[0][0]:null,n.BCE=e.$comments.block?e.$comments.block[0][1]:null,n.BCC=n.BCL=e.$comments.block?e.$comments.block[0][2]:null},LC:null,BCS:null,BCE:null,BCL:null,BCC:null,dispose:function(){var e=this;return e.LC=e.BCS=e.BCE=e.BCL=e.BCC=null,Dn[Ht].dispose.call(e)},indent:function(e,t,n,r){var o=(r.indentUnit||4,Nn.Pass);return o}}),An=e.CodeMirrorGrammar={VERSION:"2.5.0",clone:l,extend:s,pre_process:S,parse:j,getMode:Y,Parser:Fn};return e.CodeMirrorGrammar});