/**
*
*   CodeMirrorGrammar
*   @version: 2.0.0
*
*   Transform a grammar specification in JSON format, into a syntax-highlight parser mode for CodeMirror
*   https://github.com/foo123/codemirror-grammar
*
**/!function(e,n,t){"use strict";var r,o="object"==typeof module&&module.exports,l="function"==typeof define&&define.amd;o?module.exports=(module.$deps=module.$deps||{})[n]=module.$deps[n]||t.call(e,{NODE:module})||1:l&&"function"==typeof require&&"function"==typeof require.specified&&require.specified(n)?define(n,["require","exports","module"],function(n,r,o){return t.call(e,{AMD:o})}):n in e||(e[n]=r=t.call(e,{})||1)&&l&&define(n,[],function(){return r})}(this,"CodeMirrorGrammar",function(e){"use strict";function n(e,n){var t=this,r=t.pattern,o=e.s.charAt(e.pos)||null;return o&&r===o?(!1!==n&&e.mov(1),[t.key,o]):!1}function t(e,n){var t=this,r=t.pattern,o=e.s.charAt(e.pos)||null;return o&&-1<r.indexOf(o)?(!1!==n&&e.mov(1),[t.key,o]):!1}function r(e,n){var t=this,r=t.pattern,o=r.length,l=e.s;return r===l.substr(e.pos,o)?(!1!==n&&e.mov(o),[t.key,r]):!1}function o(e,n){var t,r=this,o=r.pattern,l=e.s;return t=l.slice(e.pos).match(o[0]),!t||t.index>0?!1:(!1!==n&&e.mov(t[0].length),[r.key,t])}function l(e,n){var t=this;return!1!==n&&e.end(),[t.key,""]}function u(e,n,t,r){var o=Rn(n);if(tn===o)return n;if(r[e])return r[e];t=t||0;var l,u=0;return n&&n.isCharList&&(u=1,delete n.isCharList),l=dn&o?new Zn(e,n,dn,t):sn===o?new Zn(e,n,sn,t):un&o?new Zn(e,n,u?cn:un,t):(hn|an)&o?new Zn(e,n,hn,t):n,r[e]=l}function i(e,n,t,r,o,l){if(l[e])return l[e];var s,c,a,p,f,h,m,d=0,k=0,g=1;if(s=Cn(n),a=s.length,1===a)m=u(e,Bn(s[0],t,o),0,l);else if(a>1){for(p=(a>>1)+1,c=0;p>=c;c++)f=Rn(s[c]),h=Rn(s[a-1-c]),(sn!==f||sn!==h)&&(g=0),an&f||an&h?d=1:(Dn(s[c],t)||Dn(s[a-1-c],t))&&(k=1);if(!g||r&&un&Rn(r))if(!r||d||k){for(c=0;a>c;c++)s[c]=an&Rn(s[c])?i(e+"_"+c,s[c],t,r,o,l):u(e+"_"+c,Bn(s[c],t,o),c,l);m=a>1?new Yn(e,s):s[0]}else m=u(e,Nn(s,r),0,l);else s=s.slice().join(""),s.isCharList=1,m=u(e,s,0,l)}return l[e]=m}function s(e,n,t,r,o){if(o[e])return o[e];var l,i,s,c,a,p,f;for(c=[],a=[],l=wn(n),i=0,s=l.length;s>i;i++)p=u(e+"_0_"+i,Bn(l[i][0],t,r),i,o),f=l[i].length>1?hn!==p.ptype||un!==Rn(l[i][1])||Dn(l[i][1],t)?u(e+"_1_"+i,Bn(l[i][1],t,r),i,o):l[i][1]:p,c.push(p),a.push(f);return o[e]=new Hn(e,[c,a])}function c(e,n,t){var r,o,l,u,i,s,c,a,p,f,h,m;if(s=new String(Mn(e)),s.pos=0,1===s.length)f=""+e,n[f]||(n[f]={type:"simple",tokens:e}),e=f;else{for(r=[],o=[],l="",h=[];s.pos<s.length;)if(a=s.charAt(s.pos++),Ln.test(a))if(l.length&&(n[l]||t[l]||(n[l]={type:"simple",tokens:l}),o.push(l),l=""),'"'===a||"'"===a){for(c=a,u="";s.pos<s.length&&c!==(a=s.charAt(s.pos++));)u+=a;u.length?(f=""+u,n[f]||(n[f]={type:"simple",tokens:u}),o.push(f)):o.push(0)}else if("*"===a||"+"===a||"?"===a)p=o.pop(),f=""+p+a,t[f]||(t[f]={type:"group",match:"*"===a?"zeroOrMore":"+"===a?"oneOrMore":"zeroOrOne",tokens:[p]}),o.push(f);else if("{"===a){for(i="";s.pos<s.length&&"}"!==(a=s.charAt(s.pos++));)i+=a;i=i.split(",").map(Mn),i[0]=i[0].length?parseInt(i[0],10)||0:0,0>i[0]&&(i[0]=0),2>i.length?i.push(i[0]):i[1]=i[1].length?parseInt(i[1],10)||g:g,0>i[1]&&(i[1]=0),p=o.pop(),f=""+p+["{",i[0],",",isFinite(i[1])?i[1]:"","}"].join(""),t[f]||(t[f]={type:"group",match:[i[0],i[1]],tokens:[p]}),o.push(f)}else{if("}"===a)continue;if("["===a){for(u="";s.pos<s.length&&"]"!==(a=s.charAt(s.pos++));)u+=a;f="["+u+"]",n[f]||(n[f]={type:"simple",tokens:u.split("")}),o.push(f)}else{if("]"===a)continue;"|"===a?(o.length>1?(f=""+o.join(" "),t[f]||(t[f]={type:"group",match:"sequence",tokens:o}),r.push(f)):o.length&&r.push(o[0]),o=[]):"("===a?(h.push([o,r,l]),o=[],r=[],l=""):")"===a&&(o.length>1?(f=""+o.join(" "),t[f]||(t[f]={type:"group",match:"sequence",tokens:o}),r.push(f)):o.length&&r.push(o[0]),o=[],r.length>1?(f=""+r.join(" | "),t[f]||(t[f]={type:"group",match:"either",tokens:r})):r.length&&(f=r[0]),r=[],m=h.pop(),o=m[0],r=m[1],l=m[2],p=f,f="("+p+")",t[f]||(t[f]=On(n[p]||t[p])),o.push(f))}}else l+=a;l.length&&(n[l]||t[l]||(n[l]={type:"simple",tokens:l}),o.push(l)),l="",o.length>1?(f=""+o.join(" "),t[f]||(t[f]={type:"group",match:"sequence",tokens:o}),r.push(f)):o.length&&r.push(o[0]),o=[],r.length>1?(f=""+r.join(" | "),t[f]||(t[f]={type:"group",match:"either",tokens:r}),e=f):r.length&&(e=r[0]),r=[]}return e}function a(e,n,t,r,o,l,u,h,m,d,k){var O,S,$,x,T,B,K,Y,J,X,en,nn,tn,rn,on,ln,sn=null;if(null===e)return new Jn(j,"EOL",e);if(""===e)return new Jn(q,"NONSPACE",e);if(!1===e||0===e)return new Jn(M,"EMPTY",e);if(an&Rn(e)&&(ln=e,e="NGRAM_"+ln.join("_"),r[e]||(r[e]={type:"ngram",tokens:ln})),e=""+e,h[e])return h[e];for(t[e]?(O=t[e],yn&Rn(O)&&(O=t[e]={type:"simple",tokens:O})):O=r[e]?r[e]:e,un&Rn(O)&&(O=c(O,t,r),O=t[O]||r[O]);O.extend;)rn=O.extend,on=t[rn]||r[rn],delete O.extend,on&&(yn&Rn(on)&&(on={type:"simple",tokens:on}),O=Sn(on,O));if("undefined"==typeof O.type&&(O[W]("error")?(O.type="action",O.action=["error",O.error,O.msg||O.error||null],delete O.error):O[W]("empty")?(O.type="action",O.action=["empty",1,null],delete O.empty):O[W]("block-indent")?(O.type="action",O.action=["block-indent",O["block-indent"],null],delete O["block-indent"]):O[W]("indent")?(O.type="action",O.action=["indent",O.indent,null],delete O.indent):O[W]("dedent")?(O.type="action",O.action=["dedent",O.dedent,null],delete O.dedent):O[W]("unique")?(O.type="action",O.action=["unique",O.unique,O.msg||null],delete O.unique):O[W]("push")?(O.type="action",O.action=["push",O.push,O.msg||null],delete O.push):O[W]("pop")?(O.type="action",O.action=["pop",O.pop,O.msg||null],delete O.pop):O.sequence||O.all?(O.type="group",O.match="sequence",O.tokens=O.sequence||O.all,O.all?delete O.all:delete O.sequence):O.either?(O.type="group",O.match="either",O.tokens=O.either,delete O.either):O.zeroOrMore?(O.type="group",O.match="zeroOrMore",O.tokens=O.zeroOrMore,delete O.zeroOrMore):O.oneOrMore?(O.type="group",O.match="oneOrMore",O.tokens=O.oneOrMore,delete O.oneOrMore):O.zeroOrOne?(O.type="group",O.match="zeroOrOne",O.tokens=O.zeroOrOne,delete O.zeroOrOne):O.comment?(O.type="comment",O.tokens=O.comment,delete O.comment):O.block?(O.type="block",O.tokens=O.block,delete O.block):O["escaped-block"]?(O.type="escaped-block",O.tokens=O["escaped-block"],delete O["escaped-block"]):O.simple?(O.type="simple",O.tokens=O.simple,delete O.simple):O.type="simple"),S=O.type?H[O.type.toUpperCase().replace(Qn,"")]:A,A&S){if(""===O.tokens)return sn=new Jn(q,e,e),h[e]=sn,sn;if(null===O.tokens)return sn=new Jn(j,e,e),h[e]=sn,sn;if(!1===O.tokens||0===O.tokens)return sn=new Jn(M,e,e),h[e]=sn,sn}if(U&S||(O.tokens=Cn(O.tokens)),U&S)O[W]("action")?"error"===O.action[0]?O.action[0]=y:"empty"===O.action[0]?O.action[0]=b:"block-indent"===O.action[0]?O.action[0]=w:"indent"===O.action[0]?O.action[0]=_:"dedent"===O.action[0]?O.action[0]=C:"unique"===O.action[0]?O.action[0]=E:"push"===O.action[0]?O.action[0]=R:"pop"===O.action[0]&&(O.action[0]=v):O[W]("error")?O.action=[y,O.error,O.msg||O.error||null]:O[W]("empty")?O.action=[b,1,null]:O[W]("block-indent")?O.action=[w,O["block-indent"],null]:O[W]("indent")?O.action=[_,O.indent,null]:O[W]("dedent")?O.action=[C,O.dedent,null]:O[W]("unique")?O.action=[E,O.unique,O.msg||null]:O[W]("push")?O.action=[R,O.push,O.msg||null]:O[W]("pop")&&(O.action=[v,O.pop,O.msg||null]),x=O.action.slice(),sn=new Wn(U,e,x),h[e]=sn;else if(A&S)O.autocomplete&&f(O,e,k),$="undefined"==typeof O.combine?"\\b":O.combine,sn=new Jn(A,e,i(e,O.tokens.slice(),n,$,l,u)),h[e]=sn;else if(P&S)Q&S&&p(O,d),sn=new Xn(S,e,s(e,O.tokens.slice(),n,l,u),O.multiline,O.escape,o[e+".inside"]?1:0),h[e]=sn,O.interleave&&m.push(sn.clone());else if(z&S){for(B=O.tokens.slice(),an&Rn(O.match)?sn=new et(N,e,null,O.match[0],O.match[1]):(T=Z[O.match.toUpperCase()],sn=F===T?new et(F,e,null,0,1):I===T?new et(I,e,null,0,g):V===T?new et(V,e,null,1,g):L&T?new et(L,e,null):new et(D,e,null)),h[e]=sn,K=[],X=0,en=B.length;en>X;X++)K=K.concat(a(B[X],n,t,r,o,l,u,h,m,d,k));sn.set(K)}else if(G&S){for(sn=wn(O.tokens.slice()).slice(),Y=[],X=0,en=sn.length;en>X;X++)Y[X]=sn[X].slice(),sn[X]=new et(G,e+"_NGRAM_"+X,null);for(h[e]=sn,X=0,en=sn.length;en>X;X++){for(J=Y[X],K=[],nn=0,tn=J.length;tn>nn;nn++)K=K.concat(a(J[nn],n,t,r,o,l,u,h,m,d,k));sn[X].set(K)}}return h[e]}function p(e,n){var t,r,o,l,u,i=wn(e.tokens.slice());for(l=0,u=i.length;u>l;l++)t=i[l][0],r=i[l].length>1?i[l][1]:i[l][0],o=i[l].length>2?i[l][2]:"",null===r?(n.line=n.line||[],n.line.push(t)):(n.block=n.block||[],n.block.push([t,r,o]))}function f(e,n,t){var r=[].concat(Cn(e.tokens)).map(function(e){return{word:e,meta:n}});t.autocomplete=(t.autocomplete||[]).concat(r)}function h(e){var n,t,r,o,l,u,i,s,c,p,f,h,m,d,k,g;if(e.__parsed)return e;for(f={},h={},m={},k={},g={},d=[],e=On(e),n=e.RegExpID||null,e.RegExpID=null,delete e.RegExpID,u=e.Lex||{},e.Lex=null,delete e.Lex,i=e.Syntax||{},e.Syntax=null,delete e.Syntax,l=e.Style||{},o=e.Parser||[],r=o.length,t=[],s=0;r>s;s++)c=o[s],p=a(c,n,u,i,l,f,h,m,d,k,g)||null,p&&(an&Rn(p)?t=t.concat(p):t.push(p));return e.Parser=t,e.cTokens=d,e.Style=l,e.Comments=k,e.Keywords=g,e.Extra=e.Extra||{},e.__parsed=1,e}function m(e,n){var t=new ot(h(e),{DEFAULT:n||d,ERROR:k}),r=function(e,n){return{startState:function(){return new tt},copyState:function(e){return e=e.clone(),e.line++,e},token:function(e,n){return t.getToken(e,n)},indent:function(r,o,l){return t.indent(r,o,l,e,n)},lineComment:t.LC,blockCommentStart:t.BCS,blockCommentEnd:t.BCE,blockCommentContinue:t.BCC,blockCommentLead:t.BCL,electricChars:t.Extra.electricChars||!1,fold:t.Extra.fold||!1}};return r.supportGrammarAnnotations=!1,r.validator=function(e){if(!r.supportGrammarAnnotations||!e||!e.length)return[];var n,o,l=[],u=t.parse(e,!0)[1]||{};for(n in u)u.hasOwnProperty(n)&&(o=u[n],l.push({message:o[4]||"Syntax Error",severity:"error",from:CodeMirror.Pos(o[0],o[1]),to:CodeMirror.Pos(o[2],o[3])}));return l},r}var d,k,g=1/0,y=4,E=8,R=16,v=32,b=64,_=128,C=256,w=512,O=2,S=4,$=8,x=0,A=16,j=17,q=18,M=20,P=32,T=33,Q=34,L=64,D=128,B=D,N=256,F=257,I=258,V=259,z=512,G=1024,K=D|G,U=2048,Z={EITHER:L,ALL:B,SEQUENCE:D,ZEROORONE:F,ZEROORMORE:I,ONEORMORE:V,REPEATED:N},H={ACTION:U,BLOCK:P,COMMENT:Q,ESCAPEDBLOCK:T,SIMPLE:A,GROUP:z,NGRAM:G},Y=void 0,J="prototype",W="hasOwnProperty",X="propertyIsEnumerable",en=(Object.keys,Array[J],Object[J]),nn=(Function[J],en.toString),tn=4,rn=5,on=6,ln=8,un=16,sn=17,cn=18,an=32,pn=64,fn=128,hn=256,mn=512,dn=1024,kn=2048,gn=4096,yn=un|an,En={"[object Number]":tn,"[object String]":un,"[object Array]":an,"[object RegExp]":hn,"[object Date]":mn,"[object Function]":fn,"[object Object]":pn},Rn=function(e){if(null===e)return dn;if(!0===e||!1===e||e instanceof Boolean)return ln;if(Y===e)return kn;var n=En[nn.call(e)]||gn;return tn===n||e instanceof Number?isNaN(e)?on:isFinite(e)?tn:rn:un===n||e instanceof String?1===e.length?sn:un:an===n||e instanceof Array?an:hn===n||e instanceof RegExp?hn:mn===n||e instanceof Date?mn:fn===n||e instanceof Function?fn:pn===n?pn:gn},vn=function(){var e,n,t,r,o,l,u=arguments,i=u.length;for(e=u[0]||{},o=1;i>o;o++)if(n=u[o],pn===Rn(n))for(r in n)n[W](r)&&n[X](r)&&(t=n[r],l=Rn(t),e[r]=tn&l?0+t:mn&l?new Date(t):yn&l?t.slice():t);return e},bn=Object.create,_n=function(e,n){var t,r=arguments.length,o="constructor";return 0===r?(e=Object,n={}):1===r?(n=e||{},e=Object):(e=e||Object,n=n||{}),n[W](o)||(n[o]=function(){}),t=n[o],delete n[o],t[J]=vn(bn(e[J]),n),t[J][o]=t,t},Cn=function(e,n){return n||an!==Rn(e)?[e]:e},wn=function(e,n){return e=Cn(e),(n||an!==Rn(e[0]))&&(e=[e]),e},On=function(e,n){var t,r,o,l,u=Rn(e);if(n=!1!==n,pn===u){r={};for(o in e)e[W](o)&&e[X](o)&&(t=Rn(e[o]),r[o]=pn===t?n?On(e[o],n):e[o]:an===t?n?On(e[o],n):e[o].slice():mn&t?new Date(e[o]):un&t?e[o].slice():tn&t?0+e[o]:e[o])}else if(an===u)for(l=e.length,r=new Array(l),o=0;l>o;o++)t=Rn(e[o]),r[o]=pn===t?n?On(e[o],n):e[o]:an===t?n?On(e[o],n):e[o].slice():mn&t?new Date(e[o]):un&t?e[o].slice():tn&t?0+e[o]:e[o];else r=mn&u?new Date(e):un&u?e.slice():tn&u?0+e:e;return r},Sn=function(){var e,n,t,r,o,l,u,i,s,c,a=arguments,p=a.length;if(1>p)return null;for(n=On(a[0]),t=1;p>t;t++)if(e=a[t])for(r in e)if(e[W](r)&&e[X](r))if(n[W](r)&&n[X](r)){if(s=Rn(n[r]),c=Rn(e[r]),pn===s&&pn===c)n[r]=Sn(n[r],e[r]);else if(an===s&&an===c){if(u=n[r],i=e[r],l=i.length,!l)continue;if(u.length)for(o=0;l>o;o++)0>u.indexOf(i[o])&&u.push(i[o]);else n[r]=i.slice()}}else n[r]=On(e[r]);return n},$n=/([.*+?^${}()|[\]\/\\\-])/g,xn=function(e){return e.replace($n,"\\$1")},An=/\$(\d{1,2})/g,jn=function(e,n,t){var r,o,l,u,i=!0===t?0:1;for(un&Rn(n)&&(n=[n,n],i=0),u=function(e,t){return n[i+parseInt(t,10)]},r=e.split("$$"),l=r.length,o=0;l>o;o++)r[o]=r[o].replace(An,u);return r.join("$")},qn=/^\s+|\s+$/g,Mn=String[J].trim?function(e){return e.trim()}:function(e){return e.replace(qn,"")},Pn=function(e,n){return n.length-e.length},Tn=/\r\n|\r|\n/g,Qn=/[\-_]/g,Ln=/^([\[\]{}()*+?|'"]|\s)/,Dn=function(e,n){return un&Rn(n)&&un&Rn(e)&&n.length&&n.length<=e.length&&n==e.substr(0,n.length)},Bn=function(e,n,t){if(!e||tn===Rn(e))return e;var r,o=n?n.length||0:0;if(o&&n===e.substr(0,o)){var l,u,i,r,s,c=e.substr(o),a=c.charAt(0),p="";for(r=c.length;r--&&(s=c.charAt(r),a!==s);)"i"===s.toLowerCase()&&(p="i");return l=c.substring(1,r),u="^("+l+")",t[u]||(i=new RegExp(u,p),t[u]=i),t[u]}return e},Nn=function(e,n){var t,r="";return un&Rn(n)&&(r=n),t=e.sort(Pn).map(xn).join("|"),[new RegExp("^("+t+")"+r),1]},Fn=0,In=function(){return++Fn},Vn=function(e){return[e||"uuid",++Fn,(new Date).getTime()].join("_")},zn=Math.max,Gn=/^[\s\u00a0]+/,Kn=/[^\s\u00a0]/,Un=_n({constructor:function(e){var n=this;n._=null,n.s=e?""+e:"",n.start=n.pos=0,n.lCP=n.lCV=0,n.lS=0},_:null,s:"",start:0,pos:0,lCP:0,lCV:0,lS:0,dispose:function(){var e=this;return e._=null,e.s=null,e.start=null,e.pos=null,e.lCP=null,e.lCV=null,e.lS=null,e},toString:function(){return this.s},sol:function(){return 0===this.pos},eol:function(){return this.pos>=this.s.length},end:function(){var e=this;return e.pos=e.s.length,e},mov:function(e){var n=this;return 0>e?n.pos=zn(0,n.pos-e):n.pos+=e,n},bck:function(e){var n=this;return n.pos=zn(0,e),n},sft:function(){var e=this;return e.start=e.pos,e},nxt:function(){var e,n=this,t=n.s;return n.pos<t.length?e=t.charAt(n.pos++)||null:void 0},cur:function(e){var n=this,t=n.s.slice(n.start,n.pos);return e&&(n.start=n.pos),t},upd:function(){var e=this;return e._&&(e._.pos=e.pos),e},spc:function(e){var n,t=this,r=t.pos,o=t.s.slice(r);return(n=o.match(Gn))?(!1!==e&&t.mov(n[0].length),1):0},col:function(e){var n=this;return e=e||1,n.lCP<n.start&&(n.lCV=Un.col(n.s,n.start,e,n.lCP,n.lCV),n.lCP=n.start,n._&&(n._.start=n.start,n._.lastColumnPos=n.lCP,n._.lastColumnValue=n.lCV,n._.lineStart=n.lS)),n.lCV-(n.lS?Un.col(n.s,n.lS,e):0)},ind:function(e){var n=this;return e=e||1,Un.col(n.s,null,e)-(n.lS?Un.col(n.s,n.lS,e):0)}});Un.col=function(e,n,t,r,o){var l,u;for(null===n&&(n=e.search(Kn),-1==n&&(n=e.length)),l=r||0,u=o||0;n>l;++l)u+="	"==e.charAt(l)?t-u%t:1;return u},Un._=function(e){var n=new Un;return n._=e,n.s=""+e.string,n.start=e.start,n.pos=e.pos,n.lCP=e.lastColumnPos,n.lCV=e.lastColumnValue,n.lS=e.lineStart,n};var Zn,Hn,Yn,Jn,Wn,Xn,et,nt=_n({constructor:function(e){this._=e||[]},_:null,dispose:function(){var e=this;return e._=null,e},toString:function(){return this._.slice().reverse().join("\n")},clone:function(){return new nt(this._.slice())},isEmpty:function(){return 0>=this._.length},pos:function(){return this._.length},peek:function(e){var n=this,t=n._;if(e=arguments.length?e:-1,t.length){if(0>e&&0<=t.length+e)return t[t.length+e];if(e>=0&&e<t.length)return t[e]}return null},pop:function(){return this._.pop()},shift:function(){return this._.shift()},push:function(e){var n=this;return n._.push(e),n},unshift:function(e){var n=this;return n._.unshift(e),n},pushAt:function(e,n,t,r){var o=this,l=o._;return t&&r&&(n[t]=r),e<l.length?l.splice(e,0,n):l.push(n),o},empty:function(e,n){var t=this,r=t._;if(e&&n)for(;r.length&&r[r.length-1]&&r[r.length-1][e]===n;)r.pop();else r.length=0;return t}}),tt=_n({constructor:function lt(e,n,t){var r=this;r.id=n?Vn("state"):"state",e instanceof lt?(r.line=e.line,r.column=e.column,r.indent=e.indent,r.stack=e.stack.clone(),r.queu=e.queu.slice(),r.symb=On(e.symb,!0),r.token=On(e.token,!0),r.block=e.block,r.errors=e.errors,r.err=e.err):(r.line=e||0,r.column=0,r.indent=null,r.token=null,r.block=null,r.stack=new nt,r.queu=[],r.symb={},r.errors=!!t,r.err=r.errors?{}:null)},id:null,line:0,column:0,indent:0,stack:null,queu:null,symb:null,err:null,errors:!1,token:null,block:null,dispose:function(){var e=this;return e.id=null,e.line=null,e.column=null,e.indent=null,e.token=null,e.block=null,e.symb=null,e.errors=null,e.err=null,e.queu=null,e.stack&&e.stack.dispose(),e.stack=null,e},clone:function(e){return new tt(this,e)},toString:function(){var e=this;return["",e.id,e.line,e.token?e.token.name:"0",e.block?e.block.name:"0"].join("_")}});Zn=_n({constructor:function(e,u,i,s){var c=this;switch(c.type=O,c.name=e,c.pattern=null,c.ptype=i||un,c.key=s||0,c.ptype){case dn:c.pattern=null,c.match=l;break;case hn:c.pattern=hn&Rn(u)?[u,0]:[u[0],u[1]||0],c.match=o;break;case sn:case cn:c.pattern=u,c.match=cn===c.ptype?t:n;break;case un:default:c.pattern=u,c.match=r}},type:null,name:null,pattern:null,ptype:null,key:0,dispose:function(){var e=this;return e.type=null,e.name=null,e.pattern=null,e.ptype=null,e.key=null,e},match:function(){return!1},toString:function(){var e=this;return["[","Pattern: ",e.name,", ",e.pattern?e.pattern.toString():null,"]"].join("")}}),Yn=_n(Zn,{constructor:function(e,n,t){var r=this;r.type=S,r.name=e,r.pattern=n,r.key=!1!==t},match:function(e,n){var t,r,o=this,l=o.pattern,u=l.length,i=o.key;for(t=0;u>t;t++)if(r=l[t].match(e,n))return i?[t,r[1]]:r;return!1}}),Hn=_n(Zn,{constructor:function(e,n){var t=this;t.type=$,t.name=e,t.pattern=n,t.pattern[0]=new Yn(t.name+"_Start",t.pattern[0],!1)},match:function(e,n){var t,r,o,l,u,i=this,s=i.pattern,c=s[0],a=s[1];return(r=c.match(e,n))?(t=a[r[0]],l=Rn(t),u=c.pattern[r[0]].ptype,hn===u&&(tn===l?(o=r[1][t+1],t=new Zn(i.name+"_End",o,o.length>1?un:sn)):un===l&&(o=jn(t,r[1]),t=new Zn(i.name+"_End",o,o.length>1?un:sn))),t):!1}}),Jn=_n({constructor:function(e,n,t){var r=this;r.type=e||A,r.name=n,r.token=t,r.REQ=0,r.ERR=0,r.$msg=null,r.$clone=null},name:null,type:null,token:null,$id:null,$msg:null,$clone:null,REQ:0,ERR:0,dispose:function(){var e=this;return e.type=null,e.name=null,e.token=null,e.$id=null,e.$msg=null,e.$clone=null,e.REQ=null,e.ERR=null,e},clone:function(){var e,n,t,r=this,o=r.$clone;if(e=new r.constructor,e.type=r.type,e.name=r.name,e.token=r.token,o&&o.length)for(n=0,t=o.length;t>n;n++)e[o[n]]=r[o[n]];return e},get:function(e,n){var t=this,r=t.token,o=t.type,l=t.name,u=null;if(t.$msg=null,n.token=null,M===o)return t.ERR=0,t.REQ=0,!0;if(j===o){if(e.spc(),e.eol())return l}else if(q===o)t.ERR=t.REQ&&e.spc()&&!e.eol()?1:0,t.REQ=0;else if(u=r.match(e))return n.token={name:l,value:e.cur(),token:u[1]},l;return!1},req:function(e){return this.REQ=!!e,this},err:function(e,n,t,r,o){var l,u=this;return l=u.$msg?u.$msg:u.REQ?'Token "'+u.name+'" Expected':'Syntax Error: "'+u.name+'"',e&&e.errors&&(e.err[n+"_"+t+"_"+r+"_"+o+"_"+u.name]=[n,t,r,o,l]),l},toString:function(){var e=this;return["[","Token: ",e.name,e.token?e.token.toString():null,"]"].join("")}}),Wn=_n(Jn,{constructor:function(e,n,t){var r=this;r.type=e||U,r.name=n,r.token=t,r.REQ=0,r.ERR=0,r.$msg=null,r.$clone=null},get:function(e,n){var t,r,o,l,u,i,s,c,a,p,f=this,h=f.token||null,m=n.queu,d=n.symb,k=n.token,g=n.err,_=n.errors;if(f.ERR=0,f.REQ=0,f.$msg=null,h){if(t=h[0],r=h[1],u=h[2]||null,i=n.line,c=e.pos,s=k.value?c-k.value.length:s-1,y===t)return _&&(f.$msg=u?u:"Error",a=i+"_"+s+"_"+i+"_"+c+"_"+f.name,g[a]=[i,s,i,c,f.err()]),f.ERR=1,!1;if(b===t)m.length=0;else if(E===t){if(k){if(o=r[1],l=r[0],o=tn===Rn(o)?k.token[o]:jn(o,k.token,!0),d[W](l)||(d[l]={}),d[l][W](o))return _&&(f.$msg=u?jn(u,o,!0):'Duplicate Symbol "'+o+'"',p=f.err(),a=d[l][o][0]+"_"+d[l][o][1]+"_"+d[l][o][2]+"_"+d[l][o][3]+"_"+f.name,g[a]=[d[l][o][0],d[l][o][1],d[l][o][2],d[l][o][3],p],a=i+"_"+s+"_"+i+"_"+c+"_"+f.name,g[a]=[i,s,i,c,p]),f.ERR=1,!1;d[l][o]=[i,s,i,c]}}else if(v===t)if(r){if(k&&(r=tn===Rn(r)?k.token[r]:jn(r,k.token)),!m.length||r!==m[0][0])return _&&(m.length?(f.$msg=u?jn(u,[m[0][0],r],!0):'Tokens "'+m[0][0]+'" and "'+r+'" do not match',p=f.err(),a=m[0][1]+"_"+m[0][2]+"_"+m[0][3]+"_"+m[0][4]+"_"+f.name,g[a]=[m[0][1],m[0][2],m[0][3],m[0][4],p],a=i+"_"+s+"_"+i+"_"+c+"_"+f.name,g[a]=[i,s,i,c,p]):(f.$msg=u?jn(u,["",r],!0):'Token "'+r+'" does not match',p=f.err(),a=i+"_"+s+"_"+i+"_"+c+"_"+f.name,g[a]=[i,s,i,c,p])),m.shift(),f.ERR=1,!1;m.shift()}else m.shift();else R===t&&r&&(k&&(r=tn===Rn(r)?k.token[r]:jn(r,k.token)),m.unshift([r,i,s,i,c]))}return!0}}),Xn=_n(Jn,{constructor:function(e,n,t,r,o,l){var u=this;u.type=e,u.name=n,u.token=t,u.REQ=0,u.ERR=0,u.mline="undefined"==typeof r?1:r,u.esc=o||"\\",u.inter=l,u.$msg=null,u.$clone=["mline","esc","inter"]},inter:0,mline:0,esc:null,get:function(e,n){var t,r,o,l,u,i,s,c,a,p,f,h,m,d,k=this,g=0,y=0,E="",R=k.mline,v=k.token,b=k.name,_=k.type,C=k.inter,w=C?b+".inside":b,O=0,S=T===_,$=k.esc,x="",A="",j="",q="";if(k.$msg=null,m=n.line,d=e.pos,Q===_&&(k.REQ=0),u=0,n.block&&n.block.name===b?(y=1,t=n.block.end,u=1,i=w,p=n.block.s,h=n.block.i,f=n.block.e,x=n.block._s,A=n.block._i,q=""):!n.block&&(t=v.match(e))&&(y=1,p=[m,d],h=[[m,e.pos],[m,e.pos]],f=[m,e.pos],x=e.cur(),A="",q="",j="",n.block={name:b,end:t,s:p,i:h,e:f,_s:x,_i:A,_e:j},i=b),y){if(o=n.stack.pos(),l=dn===t.type,C){if(u&&l&&e.sol())return k.REQ=0,n.current=null,n.block=null,!1;if(!u)return n.stack.pushAt(o,k.clone(),"$id",b),i}if(g=t.match(e),r=R,a=0,g)i=l?w:b,j=e.cur().slice(q.length);else for(c=e.pos;!e.eol();){if(s=e.pos,!(S&&O||!t.match(e))){C&&e.pos>s&&s>c?(i=w,e.bck(s),a=1):(i=b,g=1),j=e.cur().slice(q.length);break}E=e.nxt(),q+=E,O=!O&&E===$}return r=R||S&&O,h[1]=[m,s],f=[m,e.pos],g||!r&&!a?n.block=null:(n.block.i=h,n.block.e=f,n.block._i+=q,n.block._e=j,n.stack.pushAt(o,k.clone(),"$id",b)),n.token={name:b,value:e.cur(),token:[x+A+q+j,A+q]},i}return!1}}),et=_n(Jn,{constructor:function(e,n,t,r,o){var l=this;l.type=e?e:N,l.name=n||null,l.token=null,l.REQ=0,l.ERR=0,l.min=r||0,l.max=o||g,l.found=0,l.$msg=null,l.$clone=["min","max","found"],t&&l.set(t)},min:0,max:1,found:0,set:function(e){return e&&(this.token=Cn(e)),this},get:function(e,n){var t,r,o,l,u,i,s,c,a,p,f,h,m,d=this,k=d.type,g=d.token,y=g.length;if(d.$msg=null,d.ERR=0,p=e.pos,l=n.stack,L===k){for(c=0,a=0,d.REQ=1,t=0;y>t;t++){if(r=g[t].clone().req(1),o=r.get(e,n),c+=r.REQ?1:0,!1!==o)return o;r.ERR&&(a++,e.bck(p))}return d.REQ=c>0,d.ERR=y===a&&c>0,!1}if(K&k){if(m=k&D?1:0,d.REQ=m,f=l.pos(),r=g[0].clone().req(m),o=r.get(e,n),h=d.name+"_"+In(),!1!==o){if(!0!==o)for(t=y-1;t>0;t--)l.pushAt(f+y-t-1,g[t].clone().req(1),"$id",h);return o}return r.ERR?(d.ERR=m,e.bck(p)):m&&r.REQ&&(d.ERR=1),!1}for(c=0,u=d.found,i=d.min,s=d.max,d.REQ=0,f=l.pos(),h=d.name+"_"+In(),t=0;y>t;t++){if(r=g[t].clone().req(1),o=r.get(e,n),!1!==o){if(++u,s>=u)return d.found=u,l.pushAt(f,d.clone(),"$id",h),d.found=0,o;break}r.REQ&&c++,r.ERR&&e.bck(p)}return d.REQ=i>u,d.ERR=u>s||i>u&&c>0,!1}});var rt=CodeMirror||{Pass:{toString:function(){return"CodeMirror.Pass"}}};d=null,k="error";{var ot=_n({constructor:function(e,n){var t=this;t.Extra=e.Extra||{},t.LC=e.Comments.line?e.Comments.line[0]:null,t.BCS=e.Comments.block?e.Comments.block[0][0]:null,t.BCE=e.Comments.block?e.Comments.block[0][1]:null,t.BCC=t.BCL=e.Comments.block?e.Comments.block[0][2]:null,t.DEF=n.DEFAULT,t.ERR=e.Style.error||n.ERROR,t.Keywords=e.Keywords.autocomplete||null,t.Tokens=e.Parser||[],t.cTokens=e.cTokens.length?e.cTokens:null,t.Style=e.Style},Extra:null,LC:null,BCS:null,BCE:null,BCL:null,BCC:null,ERR:null,DEF:null,Keywords:null,cTokens:null,Tokens:null,Style:null,dispose:function(){var e=this;return e.Extra=null,e.LC=null,e.BCS=null,e.BCE=null,e.BCL=null,e.BCC=null,e.ERR=null,e.DEF=null,e.Keywords=null,e.cTokens=null,e.Tokens=null,e.Style=null,e},parse:function(e,n){e=e||"";var t,r,o,l,u,i=this,s=e.split(Tn),c=s.length,a=[];for(n=!0===n,o=new tt(0,0,n),o.parseAll=1,t=0;c>t;t++){for(o.line=t,l=new Un(s[t]),r=[];!l.eol();)r.push(i.getToken(l,o));a.push(r)}return u=n?[a,o.err]:a,l.dispose(),o.dispose(),u},getToken:function(e,n){var t,r,o,l,u,i,s,c,a=this,p=a.cTokens,f=a.Tokens,h=f.length,m=!!n.parseAll,d=a.Style,k=a.DEF,g=a.ERR;if(e=m?e:Un._(e),i=n.stack,e.sol()&&!i.isEmpty()&&j===i.peek().type&&i.pop(),(i.isEmpty()||q!==i.peek().type)&&e.spc())return m?{value:e.cur(1),type:k}:e.upd()&&k;for(c=n.line;!i.isEmpty()&&!e.eol();){if(p)for(r=0;r<p.length;)if(o=p[r++],l=o.get(e,n),!1!==l)return l=d[l]||k,m?{value:e.cur(1),type:l}:e.upd()&&l;if(s=e.pos,o=i.pop(),l=o.get(e,n),!1!==l){if(!0!==l){for(l=x===l?k:d[l]||k;!i.isEmpty()&&U===i.peek().type;)if(u=i.pop(),u.get(e,n),u.ERR)return i.empty("$id",o.$id),l=g,m?{value:e.cur(1),type:g}:e.upd()&&g;return m?{value:e.cur(1),type:l}:e.upd()&&l}}else if(o.ERR||o.REQ)return i.empty("$id",o.$id),e.nxt(),l=g,o.err(n,c,s,c,e.pos),m?{value:e.cur(1),type:g}:e.upd()&&g}for(t=0;h>t;t++)if(s=e.pos,o=f[t],l=o.get(e,n),!1!==l){if(!0!==l){for(l=x===l?k:d[l]||k;!i.isEmpty()&&U===i.peek().type;)if(u=i.pop(),u.get(e,n),u.ERR)return i.empty("$id",o.$id),l=g,m?{value:e.cur(1),type:g}:e.upd()&&g;return m?{value:e.cur(1),type:l}:e.upd()&&l}}else if(o.ERR||o.REQ)return i.empty("$id",o.$id),e.nxt(),l=g,o.err(n,c,s,c,e.pos),m?{value:e.cur(1),type:g}:e.upd()&&g;return e.nxt(),m?{value:e.cur(1),type:k}:e.upd()&&k},indent:function(e,n,t,r){var o=(r.indentUnit||4,rt.Pass);return o}});e.CodeMirrorGrammar={VERSION:"2.0.0",clone:On,extend:Sn,parse:h,getMode:m}}return e.CodeMirrorGrammar});