/**
*
*   CodeMirrorGrammar
*   @version: 0.10
*
*   Transform a grammar specification in JSON format, into a syntax-highlight parser mode for CodeMirror
*   https://github.com/foo123/codemirror-grammar
*
**/!function(t,e,n,r){"use strict";function l(t,e,n,r,l){var o;return t?{file:__filename,path:__dirname}:e?{file:o=self.location.href,path:o.split("/").slice(0,-1).join("/")}:n&&l&&l.uri?{file:o=l.uri,path:o.split("/").slice(0,-1).join("/")}:r&&(o=document.getElementsByTagName("script"))&&o.length?{file:o=o[o.length-1].src,path:o.split("/").slice(0,-1).join("/")}:{file:null,path:null}}function o(t,e,n,r,l){var o,i=t.length,s=new Array(i);for(o=0;i>o;o++)s[o]=1===r?n[t[o]]||l(e[o]):2===r?l(t[o]):n[t[o]];return s}function i(t,e,n,r,l,o){var i,s,u,a,c,p,f,h=n.length;if(o){for(i=0;h>i;i++)n[i]in t||importScripts(e+r[i]);return l()}p=document.getElementsByTagName("head")[0],f=document.createElement("a"),s=/^\./,u=0,i=0,a=function(t,n){var r=0,l=document.createElement("script");l.type="text/javascript",l.language="javascript",l.onload=l.onreadystatechange=function(){r||l.readyState&&"loaded"!=l.readyState&&"complete"!=l.readyState||(r=1,l.onload=l.onreadystatechange=null,n(),p.removeChild(l),l=null)},s.test(t)&&(f.href=e+t,t=f.protocol+"//"+f.host+f.pathname+f.search+f.hash),l.src=t,p.appendChild(l)},c=function(){n[i]in t?++i>=h?l():n[i]in t?c():a(r[i],c):++u<30?setTimeout(c,30):(u=0,i++,c())};for(;h>i&&n[i]in t;)i++;h>i?a(r[i],c):l()}n=n||[[],[]];var s,u,a,c="undefined"!=typeof global&&"[object global]"==={}.toString.call(global),p=!c&&"undefined"!=typeof navigator,f=!c&&"function"==typeof importScripts&&navigator instanceof WorkerNavigator,h="function"==typeof define&&define.amd,g=c&&"object"==typeof module&&module.exports,d=f?self:t,m=l(c,f,h,p),k=[].concat(n[0]),v=[].concat(n[1]),E=k.length,y=/\.js$/i;if(g)module.$deps=module.$deps||{},module.exports=module.$deps[e]=r.apply(t,[{NODE:module}].concat(o(k,v,module.$deps,1,require)))||1;else if(h&&"function"==typeof require&&"function"==typeof require.specified&&require.specified(e)){if(!require.defined(e)){for(a={},u=0;E>u;u++)require.specified(k[u])||(a[k[u]]=v[u].replace(y,""));require.config({paths:a}),define(e,["require","exports","module"].concat(k),function(e,n,l){return r.apply(t,[{AMD:l}].concat(o(k,v,arguments,2,e)))})}}else e in d||i(d,m.path+"/",k,v,function(){d[e]=s=r.apply(t,[{}].concat(o(k,v,d)))||1,h&&define(e,["require"],function(){return s})},f)}(this,"CodeMirrorGrammar",[["RegexAnalyzer"],["./RegexAnalyzer.js"]],function(t,e,n){var r,o,s=1/0,u=2,a=4,c=8,p=16,f=17,h=18,g=20,d=32,m=33,k=34,v=64,E=128,y=256,_=257,R=258,C=259,x=512,b=1024,S=2048,w=4096,T={EITHER:v,ALL:E,ZEROORONE:_,ZEROORMORE:R,ONEORMORE:C,REPEATED:y},M={INDENT:S,DEDENT:w,BLOCK:d,COMMENT:k,ESCAPEDBLOCK:m,SIMPLE:p,GROUP:x,NGRAM:b},B="prototype",A="hasOwnProperty",N="propertyIsEnumerable",O=Object.keys,P=(Array[B],Object[B]),D=(Function[B],P.toString),j=4,I=5,L=8,$=16,H=17,Q=18,q=32,V=64,G=128,K=256,F=512,U=1024,W=2048,z=$|q,Z=V|q;TO_STRING={"[object Array]":q,"[object RegExp]":K,"[object Number]":j,"[object String]":$,"[object Function]":G,"[object Object]":V},get_type=function(t){var e;return null===t?F:!0===t||!1===t?L:n===t?U:(e=D.call(t),e=TO_STRING[e]||W,j===e||t instanceof Number?isNaN(t)?I:j:$===e||t instanceof String?1===t.length?H:$:q===e||t instanceof Array?q:K===e||t instanceof RegExp?K:G===e||t instanceof Function?G:V===e?V:W)},Extend=Object.create,Merge=function(){var t,e,n,r,l,o,i,s=arguments;for(e=s[0]||{},t=s.length,o=1;t>o;o++)if(n=s[o],V===get_type(n))for(l in n)n[A](l)&&n[N](l)&&(r=n[l],i=get_type(r),e[l]=j&i?0+r:z&i?r.slice(0):r);return e},make_array=function(t,e){return e||q!==get_type(t)?[t]:t},make_array_2=function(t,e){return t=make_array(t,e),(e||q!==get_type(t[0]))&&(t=[t]),t},clone=function(t){var e,n=get_type(t);if(!(Z&n))return t;var r,l={};for(r in t)t[A](r)&&t[N](r)&&(e=get_type(t[r]),l[r]=V&e?clone(t[r]):z&e?t[r].slice():t[r]);return l},extend=function(){var t=arguments,e=t.length;if(1>e)return null;if(2>e)return clone(t[0]);var n,r,l,o,i=t[0],s=clone(i);for(e--,r=1;e>r;r++)if(n=t[r])for(l in n)n[A](l)&&n[N](l)&&(i[A](l)&&i[N](l)?(o=get_type(i[l]),V&~$&o&&(s[l]=extend(i[l],n[l]))):s[l]=clone(n[l]));return s},escRegexp=function(t){return t.replace(/([.*+?^${}()|[\]\/\\\-])/g,"\\$1")},groupReplace=function(t,e){var n,r,l,o;for(o=function(t,n){return e[1+parseInt(n,10)]},n=t.split("$$"),l=n.length,r=0;l>r;r++)n[r]=n[r].replace(/\$(\d{1,2})/g,o);return n.join("$")},byLength=function(t,e){return e.length-t.length},hasPrefix=function(t,e){return $&get_type(e)&&$&get_type(t)&&e.length&&e.length<=t.length&&e==t.substr(0,e.length)},getRegexp=function(t,n,r){if(!t||j==get_type(t))return t;var l,o=n?n.length||0:0;if(o&&n==t.substr(0,o)){var i,s,u,a,l,c,p=t.substr(o),f=p[0],h="";for(l=p.length;l--&&(c=p[l],f!=c);)"i"==c.toLowerCase()&&(h="i");return i=p.substring(1,l),s="^("+i+")",r[s]||(u=new RegExp(s,h),a=new e(u).peek(),null===a.peek||O(a.peek).length||(a.peek=null),null===a.negativepeek||O(a.negativepeek).length||(a.negativepeek=null),r[s]=[u,a]),r[s]}return t},getCombinedRegexp=function(t,e){var n={},r="",l=get_type(e);($==l||H==l)&&(r=e);var o=t.sort(byLength).map(function(t){return n[t.charAt(0)]=1,escRegexp(t)}).join("|");return[new RegExp("^("+o+")"+r),{peek:n,negativepeek:null},1]},_id_=0,getId=function(){return++_id_},isNode="undefined"!=typeof global&&"[object global]"=={}.toString.call(global)?1:0,isBrowser=isNode||"undefined"==typeof navigator?0:1,isWorker="function"==typeof importScripts&&navigator instanceof WorkerNavigator?1:0,getCurrentPath=function(){var t,e,n=null;return isNode?(n=__filename,{path:__dirname,file:__filename,base:__dirname}):(isWorker?n=self.location.href:isBrowser&&(t=document.location.href.split("#")[0].split("?")[0].split("/").slice(0,-1).join("/"),(e=document.getElementsByTagName("script"))&&e.length&&(n=e[e.length-1].src)),n?{path:n.split("/").slice(0,-1).join("/"),file:n,base:t}:{path:null,file:null,base:null})},thisPath=getCurrentPath();var Y=Math.max,J=/^[\s\u00a0]+/,X=/[^\s\u00a0]/,te=function(t,e,n,r,l){var o,i;for(null===e&&(e=t.search(X),-1==e&&(e=t.length)),o=r||0,i=l||0;e>o;++o)i+="	"==t.charAt(o)?n-i%n:1;return i},ee=function(t){var e=this;e._=null,e.s=t?""+t:"",e.start=e.pos=0,e.lCP=e.lCV=0,e.lS=0};ee[B]={constructor:ee,_:null,s:"",start:0,pos:0,lCP:0,lCV:0,lS:0,toString:function(){return this.s},fromStream:function(t){var e=this;return e._=t,e.s=""+t.string,e.start=t.start,e.pos=t.pos,e.lCP=t.lastColumnPos,e.lCV=t.lastColumnValue,e.lS=t.lineStart,e},sol:function(){return 0==this.pos},eol:function(){return this.pos>=this.s.length},chr:function(t,e){var n=this,r=n.s.charAt(n.pos)||null;return r&&t==r?(!1!==e&&(n.pos+=1,n._&&(n._.pos=n.pos)),r):!1},chl:function(t,e){var n=this,r=n.s.charAt(n.pos)||null;return r&&-1<t.indexOf(r)?(!1!==e&&(n.pos+=1,n._&&(n._.pos=n.pos)),r):!1},str:function(t,e,n){var r,l=this,o=l.pos,i=l.s,s=i.charAt(o)||null;return s&&e[s]&&(r=t.length,t==i.substr(o,r))?(!1!==n&&(l.pos+=r,l._&&(l._.pos=l.pos)),t):!1},rex:function(t,e,n,r,l){var o,i=this,s=i.pos,u=i.s,a=u.charAt(s)||null;return a&&e&&e[a]||n&&!n[a]?(o=u.slice(s).match(t),!o||o.index>0?!1:(!1!==l&&(i.pos+=o[r||0].length,i._&&(i._.pos=i.pos)),o)):!1},spc:function(t){var e,n=this,r=n.pos,l=n.s.slice(r);return(e=l.match(J))?(!1!==t&&(n.pos+=e[0].length,n._&&(n._.pos=n.pos)),1):0},end:function(){var t=this;return t.pos=t.s.length,t._&&(t._.pos=t.pos),t},nxt:function(){var t,e=this,n=e.s;return e.pos<n.length?(t=n.charAt(e.pos++)||null,e._&&(e._.pos=e.pos),t):void 0},bck:function(t){var e=this;return e.pos=Y(0,e.pos-t),e._&&(e._.pos=e.pos),e},bck2:function(t){var e=this;return e.pos=Y(0,t),e._&&(e._.pos=e.pos),e},col:function(t){var e=this;return t=t||1,e.lCP<e.start&&(e.lCV=te(e.s,e.start,t,e.lCP,e.lCV),e.lCP=e.start,e._&&(e._.start=e.start,e._.lastColumnPos=e.lCP,e._.lastColumnValue=e.lCV,e._.lineStart=e.lS)),e.lCV-(e.lS?te(e.s,e.lS,t):0)},ind:function(t){var e=this;return t=t||1,te(e.s,null,t)-(e.lS?te(e.s,e.lS,t):0)},cur:function(t){var e=this,n=e.s.slice(e.start,e.pos);return t&&(e.start=e.pos),n},sft:function(){return this.start=this.pos,this}};var ne=function(t){this._=t||[]};ne[B]={constructor:ne,_:null,toString:function(){var t=this._.slice();return t.reverse().join("\n")},clone:function(){return new ne(this._.slice())},isEmpty:function(){return 0>=this._.length},pos:function(){return this._.length},peek:function(t){var e=this._;if(t="undefined"==typeof t?-1:t,e.length){if(0>t&&0<=e.length+t)return e[e.length+t];if(t>=0&&t<e.length)return e[t]}return null},pop:function(){return this._.pop()},shift:function(){return this._.shift()},push:function(t){return this._.push(t),this},unshift:function(t){return this._.unshift(t),this},pushAt:function(t,e,n,r){var l=this._;return n&&r&&(e[n]=r),t<l.length?l.splice(t,0,e):l.push(e),this},empty:function(t,e){{var n=this._;n.length}if(t&&e)for(;n.length&&n[n.length-1]&&n[n.length-1][t]==e;)n.pop();else n.length=0;return this}};var re=function(t,e){var n=this;n.id=e?(new Date).getTime():0,n.l=t||0,n.stack=new ne,n.data=new ne,n.col=0,n.indent=0,n.t=null,n.inBlock=null,n.endBlock=null};re[B]={constructor:re,id:0,l:0,col:0,indent:0,stack:null,data:null,t:null,inBlock:null,endBlock:null,clone:function(t){var e=this,n=new re(e.l,t);return n.t=e.t,n.col=e.col,n.indent=e.indent,n.stack=e.stack.clone(),n.data=e.data.clone(),n.inBlock=e.inBlock,n.endBlock=e.endBlock,n},toString:function(){var t=this;return["",t.id,t.l,t.t,t.inBlock||"0"].join("_")}};var le=function(t,e){var n,r=this;return(n=t.chr(r.tp,e))?[r.tk,n]:!1},oe=function(t,e){var n,r=this;return(n=t.chl(r.tp,e))?[r.tk,n]:!1},ie=function(t,e){var n,r=this;return(n=t.str(r.tp,r.p,e))?[r.tk,n]:!1},se=function(t,e){var n,r=this;return(n=t.rex(r.tp,r.p,r.np,r.tg,e))?[r.tk,n]:!1},ue=function(t,e){var n=this;return!1!==e&&t.end(),[n.tk,""]},ae=function Ae(t,e,n,r){var l=this;switch(l.$class=Ae,l.mt=u,l.tt=t||H,l.tn=e,l.tk=r||0,l.tg=0,l.tp=null,l.p=null,l.np=null,l.tt){case H:case Q:l.tp=n,l.get=Q===l.tt?oe:le;break;case $:l.tp=n,l.p={},l.p[""+n.charAt(0)]=1,l.get=ie;break;case K:l.tp=n[0],l.p=n[1].peek||null,l.np=n[1].negativepeek||null,l.tg=n[2]||0,l.get=se;break;case F:l.tp=null,l.get=ue}};ae[B]={constructor:ae,$class:null,mt:null,tt:null,tn:null,tp:null,tg:0,tk:0,p:null,np:null,get:function(){return!1},toString:function(){return["[","Matcher: ",this.tn,", Pattern: ",this.tp?this.tp.toString():null,"]"].join("")}};var ce=function Ne(t,e,n){var r=this;r.$class=Ne,r.mt=a,r.tn=t,r.ms=e,r.ownKey=!1!==n};ce[B]=Merge(Extend(ae[B]),{constructor:ce,ms:null,ownKey:!0,get:function(t,e){var n,r,l=this.ms,o=l.length,i=this.ownKey;for(n=0;o>n;n++)if(r=l[n].get(t,e))return i?[n,r[1]]:r;return!1}});var pe=function Oe(t,e,n){var r=this;r.$class=Oe,r.mt=c,r.tn=t,r.s=new ce(r.tn+"_Start",e,!1),r.e=n};pe[B]=Merge(Extend(ae[B]),{constructor:pe,s:null,e:null,get:function(t,e){var n,r=this,l=r.s,o=r.e;if(n=l.get(t,e)){var i,s=o[n[0]],u=get_type(s),a=l.ms[n[0]].tt;return K==a&&(j==u?(i=n[1][s+1],s=new ae(i.length>1?$:H,r.tn+"_End",i)):$==u&&(i=groupReplace(s,n[1]),s=new ae(i.length>1?$:H,r.tn+"_End",i))),s}return!1}});var fe=function(t,e,n,r){var l=get_type(e);if(j==l)return e;if(!r[t]){n=n||0;var o,i=0;e&&e.isCharList&&(i=1,delete e.isCharList),o=F&l?new ae(F,t,e,n):H==l?new ae(H,t,e,n):$&l?i?new ae(Q,t,e,n):new ae($,t,e,n):q&l?new ae(K,t,e,n):e,r[t]=o}return r[t]},he=function(t,e,n,r,l,o){if(!o[t]){var i,s,u,a,c,p,f,h=0,g=0,d=1;if(i=make_array(e),u=i.length,1==u)f=fe(t,getRegexp(i[0],n,l),0,o);else if(u>1){for(a=(u>>1)+1,s=0;a>=s;s++)c=get_type(i[s]),p=get_type(i[u-1-s]),(H!=c||H!=p)&&(d=0),q&c||q&p?h=1:(hasPrefix(i[s],n)||hasPrefix(i[u-1-s],n))&&(g=1);if(!d||r&&$&get_type(r))if(!r||h||g){for(s=0;u>s;s++)i[s]=q&get_type(i[s])?he(t+"_"+s,i[s],n,r,l,o):fe(t+"_"+s,getRegexp(i[s],n,l),s,o);f=u>1?new ce(t,i):i[0]}else f=fe(t,getCombinedRegexp(i,r),0,o);else i=i.slice().join(""),i.isCharList=1,f=fe(t,i,0,o)}o[t]=f}return o[t]},ge=function(t,e,n,r,l){if(!l[t]){var o,i,s,u,a,c,p;for(u=[],a=[],o=make_array_2(e),i=0,s=o.length;s>i;i++)c=fe(t+"_0_"+i,getRegexp(o[i][0],n,r),i,l),p=o[i].length>1?K!=c.tt||$!=get_type(o[i][1])||hasPrefix(o[i][1],n)?fe(t+"_1_"+i,getRegexp(o[i][1],n,r),i,l):o[i][1]:c,u.push(c),a.push(p);l[t]=new pe(t,u,a)}return l[t]},de=1,me=2,ke=function Pe(t,e,n){var r=this;r.$class=Pe,r.tt=t||p,r.id=e,r.tk=n,r.REQ=0,r.ERR=0,r.MTCH=0,r.CLONE=["tk"]};ke[B]={constructor:ke,$class:null,sID:null,id:null,tt:null,tk:null,ta:null,REQ:0,ERR:0,MTCH:0,CLONE:null,act:function(t,e){var n,r,l=this.ta||null,o=e.data;if(l)if(n=l[1],de===l[0]&&n)t&&(r=get_type(n),n=j==r?t[1][n]:groupReplace(n,t[1])),o.push(n);else if(me===l[0])if(n){if(t&&(r=get_type(n),n=j==r?t[1][n]:groupReplace(n,t[1])),o.isEmpty()||n!=o.peek())return n;o.pop()}else o.length&&o.pop();return 0},get:function(t,e){var n=this,r=n.tm,l=n.tk,o=n.tt,i=n.id,s=null;if(n.MTCH=0,g==o)return n.ERR=0,n.REQ=0,!0;if(f==o){if(t.spc(),t.eol())return i}else if(h==o)n.ERR=n.REQ&&t.spc()&&!t.eol()?1:0,n.REQ=0;else if(s=l.get(t))return r&&(n.MTCH=n.act(s,e)),i;return!1},req:function(t){return this.REQ=t?1:0,this},err:function(){var t=this;return t.REQ?'Token "'+t.id+'" Expected':t.MTCH?'Token "'+t.MTCH+'" No Match':'Syntax Error: "'+t.id+'"'},clone:function(){var t,e,n,r=this,l=r.CLONE;if(t=new r.$class,t.tt=r.tt,t.id=r.id,t.tm=r.tm?r.tm.slice():r.tm,l&&l.length)for(e=0,n=l.length;n>e;e++)t[l[e]]=r[l[e]];return t},toString:function(){return["[","Tokenizer: ",this.id,", Matcher: ",this.tk?this.tk.toString():null,"]"].join("")}};var ve=function De(t,e,n,r,l,o){var i=this;i.$class=De,i.tt=t,i.id=e,i.tk=n,i.REQ=0,i.ERR=0,i.MTCH=0,i.mline="undefined"==typeof r?1:r,i.esc=l||"\\",i.inter=o,i.CLONE=["tk","mline","esc","inter"]};ve[B]=Merge(Extend(ke[B]),{constructor:ve,inter:0,mline:0,esc:null,get:function(t,e){var n,r,l,o,i,s,u,a,c,p=this,f=0,h=0,g="",d=p.mline,v=p.tk,E=p.id,y=p.tt,_=p.inter,R=_?E+".inside":E,C=0,x=m==y,b=p.esc;if(k===y&&(p.REQ=0),i=0,e.inBlock===E?(h=1,n=e.endBlock,i=1,s=R):!e.inBlock&&(n=v.get(t))&&(h=1,e.inBlock=E,e.endBlock=n,s=E),h){if(l=e.stack.pos(),o=F===n.tt,_){if(i&&o&&t.sol())return p.REQ=0,e.inBlock=null,e.endBlock=null,!1;if(!i)return e.stack.pushAt(l,p.clone(),"sID",E),s}if(f=n.get(t),r=d,c=0,f)s=o?R:E;else for(a=t.pos;!t.eol();){if(u=t.pos,!(x&&C||!n.get(t))){_&&t.pos>u&&u>a?(s=R,t.bck2(u),c=1):(s=E,f=1);break}g=t.nxt(),C=!C&&g==b}return r=d||x&&C,f||!r&&!c?(e.inBlock=null,e.endBlock=null):e.stack.pushAt(l,p.clone(),"sID",E),s}return!1}});var Ee=function je(t,e,n,r,l){var o=this;o.$class=je,o.tt=t||y,o.id=e||null,o.tk=null,o.ts=null,o.min=r||0,o.max=l||s,o.found=0,o.CLONE=["ts","min","max","found"],n&&o.set(n)};Ee[B]=Merge(Extend(ke[B]),{constructor:Ee,ts:null,min:0,max:1,found:0,set:function(t){return t&&(this.ts=make_array(t)),this},get:function(t,e){var n,r,l,o,i,s,u=this,a=u.ts,c=a.length,p=u.found,f=u.min,h=u.max,g=0;for(u.ERR=0,u.REQ=0,u.MTCH=0,o=t.pos,i=e.stack.pos(),s=u.id+"_"+getId(),n=0;c>n;n++){if(r=a[n].clone().req(1),l=r.get(t,e),!1!==l){if(++p,h>=p)return u.found=p,e.stack.pushAt(i,u.clone(),"sID",s),u.found=0,u.MTCH=r.MTCH,l;break}r.REQ&&g++,r.ERR&&t.bck2(o)}return u.REQ=f>p,u.ERR=p>h||f>p&&g>0,!1}});var ye=function Ie(t,e,n){Ee.call(this,t,e,n,1,1),this.$class=Ie};ye[B]=Merge(Extend(Ee[B]),{constructor:ye,get:function(t,e){var n,r,l,o,i=this,s=i.ts,u=s.length,a=0,c=0;for(i.REQ=1,i.ERR=0,i.MTCH=0,o=t.pos,l=0;u>l;l++){if(r=s[l].clone().req(1),n=r.get(t,e),a+=r.REQ?1:0,!1!==n)return i.MTCH=r.MTCH,n;r.ERR&&(c++,t.bck2(o))}return i.REQ=a>0,i.ERR=u==c&&a>0,!1}});var _e=function Le(t,e,n){Ee.call(this,t,e,n,1,1),this.$class=Le};_e[B]=Merge(Extend(Ee[B]),{constructor:_e,get:function(t,e){var n,r,l,o,i,s=this,u=s.ts,a=u.length;if(s.REQ=1,s.ERR=0,s.MTCH=0,l=t.pos,o=e.stack.pos(),n=u[0].clone().req(1),r=n.get(t,e),i=s.id+"_"+getId(),!1!==r){if(!0!==r)for(var c=a-1;c>0;c--)e.stack.pushAt(o+a-c-1,u[c].clone().req(1),"sID",i);return s.MTCH=n.MTCH,r}return n.ERR?(s.ERR=1,t.bck2(l)):n.REQ&&(s.ERR=1),!1}});var Re=function(t,e,n){Ee.call(this,t,e,n,1,1),this.$class=Re};Re[B]=Merge(Extend(Ee[B]),{constructor:Re,get:function(t,e){var n,r,l,o,i,s,u=this,a=u.ts,c=a.length;if(u.REQ=0,u.ERR=0,u.MTCH=0,l=t.pos,o=e.stack.pos(),n=a[0].clone().req(0),r=n.get(t,e),i=u.id+"_"+getId(),!1!==r){if(!0!==r)for(s=c-1;s>0;s--)e.stack.pushAt(o+c-s-1,a[s].clone().req(1),"sID",i);return u.MTCH=n.MTCH,r}return n.ERR&&t.bck2(l),!1}});var Ce=function(t,e,n,r,l,o,i,u,a,c,m){var S,w,B,A,N,O,P,D,j,I,L,H,Q,V,G,K=null;if(null===t)return new ke(f,"EOL",t);if(""===t)return new ke(h,"NONSPACE",t);if(!1===t||0===t)return new ke(g,"EMPTY",t);if(t=""+t,!u[t]&&(S=n[t]||r[t]||{type:"simple",tokens:t})){for(($|q)&get_type(S)&&(S={type:"simple",tokens:S});S.extend;)V=S.extend,G=n[V]||r[V],delete S.extend,G&&(($|q)&get_type(G)&&(G={type:"simple",tokens:G}),S=extend(G,S));if(w=S.type?M[S.type.toUpperCase().replace(/[\-_]/g,"")]:p,p&w){if(""===S.tokens)return K=new ke(h,t,t),u[t]=K,K;if(null===S.tokens)return K=new ke(f,t,t),u[t]=K,K;if(!1===S.tokens||0===S.tokens)return K=new ke(g,t,t),u[t]=K,K}if(S.tokens=make_array(S.tokens),p&w)S.autocomplete&&be(S,t,m),A=null,S.push?A=[de,S.push]:"undefined"!=typeof S.pop&&(A=[me,S.pop]),B="undefined"==typeof S.combine?"\\b":S.combine,K=new ke(p,t,he(t,S.tokens.slice(),e,B,o,i)),K.ta=A,u[t]=K;else if(d&w)k&w&&xe(S,c),K=new ve(w,t,ge(t,S.tokens.slice(),e,o,i),S.multiline,S.escape,l[t+".inside"]?1:0),u[t]=K,S.interleave&&a.push(K.clone());else if(x&w){for(O=S.tokens.slice(),q&get_type(S.match)?K=new Ee(y,t,null,S.match[0],S.match[1]):(N=T[S.match.toUpperCase()],K=_===N?new Ee(_,t,null,0,1):R===N?new Ee(R,t,null,0,s):C===N?new Ee(C,t,null,1,s):v&N?new ye(v,t,null):new _e(E,t,null)),u[t]=K,P=[],I=0,L=O.length;L>I;I++)P=P.concat(Ce(O[I],e,n,r,l,o,i,u,a,c,m));K.set(P)}else if(b&w){for(K=make_array_2(S.tokens.slice()).slice(),D=[],I=0,L=K.length;L>I;I++)D[I]=K[I].slice(),K[I]=new Re(b,t+"_NGRAM_"+I,null);for(u[t]=K,I=0,L=K.length;L>I;I++){for(j=D[I],P=[],H=0,Q=j.length;Q>H;H++)P=P.concat(Ce(j[H],e,n,r,l,o,i,u,a,c,m));K[I].set(P)}}}return u[t]},xe=function(t,e){var n,r,o,s=make_array_2(t.tokens.slice());for(i=0,l=s.length;l>i;i++)n=s[i][0],r=s[i].length>1?s[i][1]:s[i][0],o=s[i].length>2?s[i][2]:"",null===r?(e.line=e.line||[],e.line.push(n)):(e.block=e.block||[],e.block.push([n,r,o]))},be=function(t,e,n){var r=[].concat(make_array(t.tokens)).map(function(t){return{word:t,meta:e}});n.autocomplete=(n.autocomplete||[]).concat(r)},Se=function(t){var e,n,r,l,o,i,s,u,a,c,p,f,h,g,d,m;if(t.__parsed)return t;for(p={},f={},h={},d={},m={},g=[],t=clone(t),e=t.RegExpID||null,t.RegExpID=null,delete t.RegExpID,i=t.Lex||{},t.Lex=null,delete t.Lex,s=t.Syntax||{},t.Syntax=null,delete t.Syntax,o=t.Style||{},l=t.Parser||[],r=l.length,n=[],u=0;r>u;u++)a=l[u],c=Ce(a,e,i,s,o,p,f,h,g,d,m)||null,c&&(q&get_type(c)?n=n.concat(c):n.push(c));return t.Parser=n,t.cTokens=g,t.Style=o,t.Comments=d,t.Keywords=m,t.Extra=t.Extra||{},t.__parsed=1,t},we=CodeMirror||{Pass:{toString:function(){return"CodeMirror.Pass"}}},Te=function(t,e){var n=this;n.Extra=t.Extra||{},n.LC=t.Comments.line?t.Comments.line[0]:null,n.BCS=t.Comments.block?t.Comments.block[0][0]:null,n.BCE=t.Comments.block?t.Comments.block[0][1]:null,n.BCC=n.BCL=t.Comments.block?t.Comments.block[0][2]:null,n.DEF=e.DEFAULT,n.ERR=t.Style.error||e.ERROR,n.Keywords=t.Keywords.autocomplete||null,n.Tokens=t.Parser||[],n.cTokens=t.cTokens.length?t.cTokens:null,n.Style=t.Style};Te[B]={constructor:Te,Extra:null,LC:null,BCS:null,BCE:null,BCL:null,BCC:null,ERR:null,DEF:null,Keywords:null,cTokens:null,Tokens:null,Style:null,parse:function(t){t=t||"";var e,n,r,l,o=t.split(/\r\n|\r|\n/g),i=o.length,s=[];for(r=new re,r.parseAll=1,e=0;i>e;e++){for(l=new ee(o[e]),n=[];!l.eol();)n.push(this.getToken(l,r));s.push(n)}return s},getToken:function(t,e){var n,r,l,o,i,s,u=this,a=u.cTokens,c=u.Tokens,p=c.length,g=e.parseAll,d=u.Style,m=u.DEF,k=u.ERR;if(i=g?t:(new ee).fromStream(t),s=e.stack,!s.isEmpty()&&f==s.peek().tt&&i.sol()&&s.pop(),(s.isEmpty()||h!=s.peek().tt)&&i.spc())return g?{value:i.cur(1),type:m,error:null}:e.t=m;for(;!s.isEmpty()&&!i.eol();){if(a)for(r=0;r<a.length;)if(l=a[r++],o=l.get(i,e),!1!==o)return o=d[o]||m,g?{value:i.cur(1),type:o,error:null}:e.t=o;if(l=s.pop(),o=l.get(i,e),!1!==o){if(!0!==o)return o=d[o]||m,l.MTCH?(s.empty("sID",l.sID),e.t=o=k,g?{value:i.cur(1),type:k,error:l.err()}:e.t=k):g?{value:i.cur(1),type:o,error:null}:e.t=o}else if(l.ERR||l.REQ)return s.empty("sID",l.sID),i.nxt(),e.t=o=k,g?{value:i.cur(1),type:k,error:l.err()}:e.t=k}for(n=0;p>n;n++)if(l=c[n],o=l.get(i,e),!1!==o){if(!0!==o)return o=d[o]||m,l.MTCH?(s.empty("sID",l.sID),e.t=o=k,g?{value:i.cur(1),type:k,error:l.err()}:e.t=k):g?{value:i.cur(1),type:o,error:null}:e.t=o}else if(l.ERR||l.REQ)return s.empty("sID",l.sID),i.nxt(),e.t=o=k,g?{value:i.cur(1),type:k,error:l.err()}:e.t=k;return i.nxt(),e.t=m,g?{value:i.cur(1),type:m,error:null}:e.t=m},indent:function(t,e,n,r){var l=(r.indentUnit||4,we.Pass);return l}};var Me=function(t){var e=function n(e,r){var l={startState:function(){return new re},copyState:function(t){return t.clone()},token:function(e,n){return t.getToken(e,n)},indent:function(n,l,o){return t.indent(n,l,o,e,r)},validator:function(e){if(!n.supportGrammarAnnotations)return[];var r,l,o,i,s,u,a,c,p=0,f=e;if(!f||!f.length)return[];for(r=[],l=t.parse(f),u=l.length,a=0;u>a;a++)if(o=l[a],o&&o.length)for(c=0,s=0;s<o.length;s++)i=o[s],t.ERR==i.type&&(r.push({message:i.error||"Syntax Error",severity:"error",from:CodeMirror.Pos(a,c),to:CodeMirror.Pos(a,c+1)}),p=1),c+=i.value.length;return p?r:[]}};return l.lineComment=t.LC,l.blockCommentStart=t.BCS,l.blockCommentEnd=t.BCE,l.blockCommentContinue=t.BCC,l.blockCommentLead=t.BCL,l.electricChars=t.Extra.electricChars||!1,l.fold=t.Extra.fold||!1,l};return e},Be=function(t,e){var n={DEFAULT:e||r,ERROR:o};return t=Se(t),Me(new Te(t,n))};r=null,o="error";t.CodeMirrorGrammar={VERSION:"0.10",extend:extend,parse:Se,getMode:Be};return t.CodeMirrorGrammar});