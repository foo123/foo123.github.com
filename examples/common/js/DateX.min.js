/**
*
*   DateX
*   eXtended Date parsing / formatting / validation for Node/JS, Python, PHP
*   @version: 0.1
*
*   https://github.com/foo123/DateX
*
**/
!function(t,e,n){"use strict";var r,i="object"==typeof module&&module.exports,u="function"==typeof define&&define.amd;i?module.exports=(module.$deps=module.$deps||{})[e]=module.$deps[e]||n.call(t,{NODE:module})||1:u&&"function"==typeof require&&"function"==typeof require.specified&&require.specified(e)?define(e,["require","exports","module"],function(e,r,i){return n.call(t,{AMD:i})}):e in t||(t[e]=r=n.call(t,{})||1)&&u&&define(e,[],function(){return r})}(this,"DateX",function(){"use strict";function t(t){return t.replace(m,"\\$&")}function e(t,e){return e.length-t.length}function n(n){return n.sort(e).map(t).join("|")}function r(t,e,n){var r=t.toString(),i=e-r.length;return i>0?new Array(i+1).join(n||" ")+r:r}function i(t,e){var n,r,i,u,o,a,s,d=0,h=null,f=null,m=new Date;if(e=e||{},t[c]("time")&&(f=new Date(t.time),t[c]("year")||t[c]("month")||t[c]("day")||(h=new Date(f))),null===h){if(s=t[c]("ms")?t.ms:e[c]("ms")?e.ms:0,a=t[c]("second")?t.second:e[c]("second")?e.second:0,o=t[c]("minute")?t.minute:e[c]("minute")?e.minute:0,u=t[c]("hour")?t.hour:t[c]("hour_12")?"pm"===t.meridian?11+t.hour_12:t.hour_12-1:e[c]("hour")?e.hour:"pm"===t.meridian?12:0,i=t[c]("day")?t.day:e[c]("day")?e.day:m.getDate(),r=t[c]("month")?t.month:e[c]("month")?e.month:m.getMonth()+1,n=t[c]("year")?t.year:e[c]("year")?e.year:m.getFullYear(),0>s||s>999)return!1;if(0>a||a>59)return!1;if(0>o||o>59)return!1;if(0>u||u>23)return!1;if(1>n||n>32767)return!1;if(d=n%4===0&n%100!==0|n%400===0,t[c]("leap")&&d!==t.leap)return!1;if(1>r||r>12)return!1;if(1>i||i>31)return!1;if(2===r&&i>28+d)return!1;if(h=new Date(n,r-1,i,u,o,a,s),t[c]("day_week")&&t.day_week!==h.getDay())return!1;if(t[c]("day_year")&&t.day_year!==l((new Date(n,r-1,i)-new Date(n,0,1))/864e5))return!1;if(t[c]("days_month")&&t.days_month!==new Date(n,r,0).getDate())return!1;if(t[c]("meridian")&&(u>11&&"am"===t.meridian||11>=u&&"pm"===t.meridian))return!1;if(null!==f){if(h.getFullYear()!==f.getFullYear())return!1;if(h.getMonth()!==f.getMonth())return!1;if(h.getDate()!==f.getDate())return!1;if(h.getHours()!==f.getHours())return!1;if(h.getHours()!==f.getHours())return!1;if(h.getMinutes()!==f.getMinutes())return!1;if(h.getSeconds()!==f.getSeconds())return!1}}return h}function u(e,r){r=r||g;var i,u={d:"(31|30|29|28|27|26|25|24|23|22|21|20|19|18|17|16|15|14|13|12|11|10|09|08|07|06|05|04|03|02|01)",D:"("+n(r.day_short.slice())+")",j:"(31|30|29|28|27|26|25|24|23|22|21|20|19|18|17|16|15|14|13|12|11|10|9|8|7|6|5|4|3|2|1)",l:"("+n(r.day.slice())+")",N:"([1-7])",S:"",w:"([0-6])",z:"([1-3]?[0-9]{1,2})",W:"([0-5]?[0-9])",F:"("+n(r.month.slice())+")",m:"(12|11|10|09|08|07|06|05|04|03|02|01)",M:"("+n(r.month_short.slice())+")",n:"(12|11|10|9|8|7|6|5|4|3|2|1)",t:"(31|30|29|28)",L:"([01])",o:"(\\d{2,4})",Y:"([12][0-9]{3})",y:"([0-9]{2})",a:"("+n([r.meridian.am,r.meridian.pm])+")",A:"("+n([r.meridian.AM,r.meridian.PM])+")",B:"([0-9]{3})",g:"(12|11|10|9|8|7|6|5|4|3|2|1)",G:"(23|22|21|20|19|18|17|16|15|14|13|12|11|10|9|8|7|6|5|4|3|2|1|0)",h:"(12|11|10|09|08|07|06|05|04|03|02|01)",H:"(23|22|21|20|19|18|17|16|15|14|13|12|11|10|09|08|07|06|05|04|03|02|01|00)",i:"([0-5][0-9])",s:"([0-5][0-9])",u:"([0-9]{6})",e:"("+n(r.timezone)+")",I:"([01])",O:"([+-][0-9]{4})",P:"([+-][0-9]{2}:[0-9]{2})",T:"("+n(r.timezone_short)+")",Z:"(-?[0-9]{5})",U:"([0-9]{1,8})",c:"",r:""},o=r.ordinal.ord,a=[];for(i in o)o[c](i)&&a.push(o[i]);a.push(r.ordinal.nth),u.S="("+n(a)+")",u.c=u.Y+"-"+u.m+"-"+u.d+"\\\\"+u.T+u.H+":"+u.i+":"+u.s+u.P,u.r=u.D+",\\s"+u.d+"\\s"+u.M+"\\s"+u.Y+"\\s"+u.H+":"+u.i+":"+u.s+"\\s"+u.O;var s,i,d,h="";for(i=0,d=e.length;d>i;i++)s=e.charAt(i),h+=u[c](s)?u[s]:t(s);return new RegExp("^"+h+"$","")}function o(t,e){e=e||g;var n,r,o,a={d:function(t,e){return t=parseInt("0"===t.charAt(0)?t.slice(1):t,10),1>t||t>31?!1:e[c]("day")&&t!==e.day?!1:void(e.day=t)},D:function(t,n){return t=e.day_short.indexOf(t),0>t?!1:n[c]("day_week")&&t!==n.day_week?!1:void(n.day_week=t)},j:function(t,e){return t=parseInt(t,10),1>t||t>31?!1:e[c]("day")&&t!==e.day?!1:void(e.day=t)},l:function(t,n){return t=e.day.indexOf(t),0>t?!1:n[c]("day_week")&&t!==n.day_week?!1:void(n.day_week=t)},N:function(t,e){return t=parseInt(t,10),1>t||t>7?!1:(7===t&&(t=0),e[c]("day_week")&&t!==e.day_week?!1:void(e.day_week=t))},S:null,w:function(t,e){return t=parseInt(t,10),0>t||t>6?!1:e[c]("day_week")&&t!==e.day_week?!1:void(e.day_week=t)},z:function(t,e){return t=parseInt(t,10),0>t||t>366?!1:void(e.day_year=t)},W:function(t,e){return t=parseInt(t,10),1>t||t>53?!1:void(e.week_year=t)},F:function(t,n){return t=e.month.indexOf(t),0>t?!1:n[c]("month")&&t+1!==n.month?!1:void(n.month=t+1)},m:function(t,e){return t=parseInt("0"===t.charAt(0)?t.slice(1):t,10),1>t||t>12?!1:e[c]("month")&&t!==e.month?!1:void(e.month=t)},M:function(t,n){return t=e.month_short.indexOf(t),0>t?!1:n[c]("month")&&t+1!==n.month?!1:void(n.month=t+1)},n:function(t,e){return t=parseInt(t,10),1>t||t>12?!1:e[c]("month")&&t!==e.month?!1:void(e.month=t)},t:function(t,e){return t=parseInt(t,10),28>t||t>31?!1:void(e.days_month=t)},L:function(t,e){if("0"===t)e.leap=0;else{if("1"!==t)return!1;e.leap=1}},o:null,Y:function(t,e){return t=parseInt(t,10),1e3>t||t>3e3?!1:e[c]("year")&&t!==e.year?!1:void(e.year=t)},y:function(t,e){return 2===t.length&&(t>="00"&&"69">=t?t="20"+t:t>="70"&&"99">=t&&(t="19"+t)),t=parseInt(t,10),1e3>t||t>3e3?!1:e[c]("year")&&t!==e.year?!1:void(e.year=t)},a:function(t,n){if(e.meridian.am===t)t="am";else{if(e.meridian.pm!==t)return!1;t="pm"}return n[c]("meridian")&&t!==n.meridian?!1:void(n.meridian=t)},A:function(t,n){if(e.meridian.AM===t)t="am";else{if(e.meridian.PM!==t)return!1;t="pm"}return n[c]("meridian")&&t!==n.meridian?!1:void(n.meridian=t)},B:null,g:function(t,e){return t=parseInt(t,10),1>t||t>12?!1:e[c]("hour_12")&&t!==e.hour_12?!1:void(e.hour_12=t)},G:function(t,e){return t=parseInt(t,10),0>t||t>23?!1:e[c]("hour")&&t!==e.hour?!1:void(e.hour=t)},h:function(t,e){return t=parseInt("0"===t.charAt(0)?t.slice(1):t,10),1>t||t>12?!1:e[c]("hour_12")&&t!==e.hour_12?!1:void(e.hour_12=t)},H:function(t,e){return t=parseInt("0"===t.charAt(0)?t.slice(1):t,10),0>t||t>23?!1:e[c]("hour")&&t!==e.hour?!1:void(e.hour=t)},i:function(t,e){return t=parseInt("0"===t.charAt(0)?t.slice(1):t,10),0>t||t>59?!1:e[c]("minute")&&t!==e.minute?!1:void(e.minute=t)},s:function(t,e){return t=parseInt("0"===t.charAt(0)?t.slice(1):t,10),0>t||t>59?!1:e[c]("second")&&t!==e.second?!1:void(e.second=t)},u:function(t,e){for(var n=0;t.length>1&&"0"===t.charAt(n);)n++;return t=parseInt(t.slice(n),10),t=~~(t/1e3),0>t||t>999?!1:e[c]("ms")&&t!==e.ms?!1:void(e.ms=t)},e:null,I:null,O:null,P:null,T:null,Z:null,U:function(t,e){return t=parseInt(t,10),0>t?!1:(t*=1e3,e[c]("time")&&t!==e.time?!1:void(e.time=t))},c:null,r:null},s=u(t,e),d=0,h={};for(r=0,o=t.length;o>r;r++)n=t.charAt(r),a[c](n)&&(++d,"c"===n?(h[d]=a.Y,h[++d]=a.m,h[++d]=a.d,++d,h[++d]=a.H,h[++d]=a.i,h[++d]=a.s,++d):"r"===n?(h[d]=a.D,h[++d]=a.d,h[++d]=a.M,h[++d]=a.Y,h[++d]=a.H,h[++d]=a.i,h[++d]=a.s,++d):a[n]&&(h[d]=a[n]));return function(t){var e,n,r=t.match(s),u={};if(!r)return!1;for(e=1;e<r.length;e++)if(h[c](e)&&(n=h[e](r[e],u),!1===n))return!1;return i(u)}}function a(t,e,n){var i,u,o,a,s;if(t.substr)return t;null==t?s=new Date:t instanceof Date?s=new Date(t):"number"==typeof t&&(s=new Date(1e3*t)),n=n||g;var d,m={},y=s.getTimezoneOffset(),T=f(y),D=s.getMonth();for(m.G=s.getHours(),m.j=s.getDate(),d=m.j%10,m.n=D+1,m.Y=s.getFullYear(),m.w=s.getDay(),m.N=m.w||7,m.d=r(m.j,2,"0"),m.D=n.day_short[m.w],m.l=n.day[m.w],m.S=n.ordinal.ord[m.j]?n.ordinal.ord[m.j]:n.ordinal.ord[d]?n.ordinal.ord[d]:n.ordinal.nth,m.z=l((new Date(m.Y,D,m.j)-new Date(m.Y,0,1))/864e5),m.W=r(1+l((new Date(m.Y,D,m.j-m.N+3)-new Date(m.Y,0,4))/864e5/7),2,"0"),m.F=n.month[D],m.m=r(m.n,2,"0"),m.M=n.month_short[D],m.t=new Date(m.Y,D+1,0).getDate(),m.L=m.Y%4===0&m.Y%100!==0|m.Y%400===0,m.o=m.Y+(11===D&&m.W<9?1:0===D&&m.W>9?-1:0),m.y=m.Y.toString().slice(-2),m.a=m.G>11?n.meridian.pm:n.meridian.am,m.A=m.G>11?n.meridian.PM:n.meridian.AM,m.B=r(h((3600*s.getUTCHours()+60*s.getUTCMinutes()+s.getUTCSeconds()+3600)/86.4)%1e3,3,"0"),m.g=m.G%12||12,m.h=r(m.g,2,"0"),m.H=r(m.G,2,"0"),m.i=r(s.getMinutes(),2,"0"),m.s=r(s.getSeconds(),2,"0"),m.u=r(1e3*s.getMilliseconds(),6,"0"),m.e="",m.I=new Date(m.Y,0)-Date.UTC(m.Y,0)!==new Date(m.Y,6)-Date.UTC(m.Y,6)?1:0,m.O=(y>0?"-":"+")+r(100*h(T/60)+T%60,4,"0"),m.P=m.O.substr(0,3)+":"+m.O.substr(3,2),m.T="UTC",m.Z=60*-y,m.U=s/1e3|0,m.c=[m.Y,"-",m.m,"-",m.d,"\\",m.T,m.H,":",m.i,":",m.s,m.P].join(""),m.r=[m.D,", ",m.d," ",m.M," ",m.Y," ",m.H,":",m.i,":",m.s," ",m.O].join(""),i="",o=0,a=e.length;a>o;o++)u=e.charAt(o),i+=m[c](u)?m[u]:u;return i}function s(t){var e={"%":"%",a:"D",A:"l",b:"M",B:"F",c:"c",C:"",d:"d",D:"m/d/y",e:"j",h:"M",H:"H",I:"h",j:"z",m:"m",M:"i",n:"\n",p:"a",r:"r",R:"H:i",S:"s",t:"	",T:"H:i:s",u:"N",U:"W",V:"W",w:"w",W:"W",y:"y",Y:"Y",Z:"T",Ey:"y",EY:"Y",Od:"d",Oe:"j",OH:"H",OI:"h",Om:"m",OM:"i",OS:"s",Ou:"N",OU:"W",OV:"W",Ow:"w",OW:"W",Oy:"y"};return t.replace(y,function(t,n){return e[c](n)?e[n]:n})}function d(t,e,n,r,i,u,o){var a=this,s=arguments.length;a.$date=s?t instanceof d?new Date(t.$date):1===s?new Date(t):new Date(t,e,n||1,r||0,i||0,u||0,o||0):new Date,a.$locale=d.defaultLocale}var c="hasOwnProperty",h=Math.floor,l=Math.round,f=Math.abs,m=/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,g={meridian:{am:"am",pm:"pm",AM:"AM",PM:"PM"},ordinal:{ord:{1:"st",2:"nd",3:"rd"},nth:"th"},timezone:["UTC","EST","MDT"],timezone_short:["UTC","EST","MDT"],day:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],day_short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],month:["January","February","March","April","May","June","July","August","September","October","November","December"],month_short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},y=new RegExp("%("+["Ec","EC","Ex","EX","Ey","EY","Od","Oe","OH","OI","Om","OM","OS","Ou","OU","OV","Ow","OW","Oy","a","A","b","B","c","C","d","D","e","h","H","I","j","m","M","n","p","r","R","S","t","T","u","U","V","w","W","x","X","y","Y","Z","%"].join("|")+")","g");return d.VERSION="0.1",d.defaultLocale=g,d.now=Date.now||function(){return(new Date).getTime()},d.UTC=Date.UTC,d.parse=function(t,e,n,r){e&&!0===r&&(e=s(e));var i=o(e||"Y-m-d H:i:s",n||g),u=i(t);return!1!==u?new d(u):!1},d.fromString=d.parse,d.prototype={constructor:d,$date:null,$locale:null,dispose:function(){var t=this;return t.$date=null,t.$locale=null,t},getDateObject:function(){return this.$date},setDateObject:function(t){var e=this;return e.$date=t,e},getLocale:function(){return this.$locale},setLocale:function(t){var e=this;return e.$locale=t,e},format:function(t,e){return a(this.$date,t||"Y-m-d H:i:s",e||this.$locale)},strformat:function(t,e){return a(this.$date,s(t),e||this.$locale)},getDate:function(){return this.$date.getDate()},getDay:function(){return this.$date.getDay()},getFullYear:function(){return this.$date.getFullYear()},getHours:function(){return this.$date.getHours()},getMilliseconds:function(){return this.$date.getMilliseconds()},getMinutes:function(){return this.$date.getMinutes()},getMonth:function(){return this.$date.getMonth()},getSeconds:function(){return this.$date.getSeconds()},getTime:function(){return this.$date.getTime()},getTimezoneOffset:function(){return this.$date.getTimezoneOffset()},getUTCDate:function(){return this.$date.getUTCDate()},getUTCDay:function(){return this.$date.getUTCDay()},getUTCFullYear:function(){return this.$date.getUTCFullYear()},getUTCHours:function(){return this.$date.getUTCHours()},getUTCMilliseconds:function(){return this.$date.getUTCMilliseconds()},getUTCMinutes:function(){return this.$date.getUTCMinutes()},getUTCMonth:function(){return this.$date.getUTCMonth()},getUTCSeconds:function(){return this.$date.getUTCSeconds()},getYear:function(){return this.$date.getYear()},setDate:function(t){return this.$date.setDate(t),this},setFullYear:function(t){return this.$date.setFullYear(t),this},setHours:function(t){return this.$date.setHours(t),this},setMilliseconds:function(t){return this.$date.setMilliseconds(t),this},setMinutes:function(t){return this.$date.setMinutes(t),this},setMonth:function(t){return this.$date.setMonth(t),this},setSeconds:function(t){return this.$date.setSeconds(t),this},setTime:function(t){return this.$date.setTime(t),this},setUTCDate:function(t){return this.$date.setUTCDate(t),this},setUTCFullYear:function(t){return this.$date.setUTCFullYear(t),this},setUTCHours:function(t){return this.$date.setUTCHours(t),this},setUTCMilliseconds:function(t){return this.$date.setUTCMilliseconds(t),this},setUTCMinutes:function(t){return this.$date.setUTCMinutes(t),this},setUTCMonth:function(t){return this.$date.setUTCMonth(t),this},setUTCSeconds:function(t){return this.$date.setUTCSeconds(t),this},setYear:function(t){return this.$date.setYear(t),this},toISOString:function(){return this.$date.toISOString()},toJSON:function(){return this.$date.toJSON()},toGMTString:function(){return this.$date.toGMTString()},toSource:function(){return this.$date.toSource()},valueOf:function(){return this.$date.valueOf()},toLocaleFormat:function(t){return this.format(t)},toDateString:function(t,e){return arguments.length?this.format(t,e):this.$date.toDateString()},toTimeString:function(t,e){return arguments.length?this.format(t,e):this.$date.toTimeString()},toLocaleDateString:function(t){return arguments.length?this.format(t):this.$date.toLocaleDateString()},toLocaleTimeString:function(t){return arguments.length?this.format(t):this.$date.toLocaleTimeString()},toLocaleString:function(t){return arguments.length?this.format(t):this.$date.toLocaleString()},toUTCString:function(){return this.$date.toUTCString()},toString:function(t,e){return arguments.length?this.format(t,e):this.$date.toString()}},d});