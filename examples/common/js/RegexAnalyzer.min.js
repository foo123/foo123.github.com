/**
*
*   RegexAnalyzer
*   @version: 0.6.0
*
*   A simple Regular Expression Analyzer for PHP, Python, Node/XPCOM/JS, ActionScript
*   https://github.com/foo123/RegexAnalyzer
*
**/
!function(e,n,r){"use strict";"undefined"!=typeof Components&&"object"==typeof Components.classes&&"object"==typeof Components.classesByID&&Components.utils&&"function"==typeof Components.utils["import"]?(e.$deps=e.$deps||{})&&(e.EXPORTED_SYMBOLS=[n])&&(e[n]=e.$deps[n]=r.call(e)):"object"==typeof module&&module.exports?(module.$deps=module.$deps||{})&&(module.exports=module.$deps[n]=r.call(e)):"undefined"!=typeof System&&"function"==typeof System.register&&"function"==typeof System["import"]?System.register(n,[],function(t){t(n,r.call(e))}):"function"==typeof define&&define.amd&&"function"==typeof require&&"function"==typeof require.specified&&require.specified(n)?define(n,["module"],function(n){return r.moduleUri=n.uri,r.call(e)}):n in e||(e[n]=r.call(e)||1)&&"function"==typeof define&&define.amd&&define(function(){return e[n]})}(this,"RegexAnalyzer",function(e){"use strict";function n(e){return e instanceof Array||"[object Array]"===p.call(e)}function r(e){return e instanceof String||"[object String]"===p.call(e)}function t(e){return n(e)?e:[e]}function a(e,n){n=n||{};for(var r in e)e[v](r)&&(n[r]=e[r]);return n}function l(e){var n=this;n.re=e,n.len=e.length,n.pos=0,n.index=0,n.groupIndex=0,n.group={},n.inGroup=0}function u(e,n,r){var t=this;if(!(t instanceof u))return new u(e,n,r);switch(t.type=e,t.val=n,t.flags=r||{},e){case x:t.typeName="Sequence";break;case C:t.typeName="Alternation";break;case M:t.typeName="Group";break;case S:t.typeName="CharacterGroup";break;case k:t.typeName="Characters";break;case O:t.typeName="CharacterRange";break;case E:t.typeName="String";break;case G:t.typeName="Quantifier";break;case N:t.typeName="UnicodeChar";break;case I:t.typeName="HexChar";break;case b:t.typeName="Special";break;case A:t.typeName="Comment";break;default:t.typeName="unspecified"}}var s="0.6.0",o="prototype",i=Object,p=(Array,i.keys,i[o].toString),f=String.fromCharCode,c="charAt",g="charCodeAt",h=(JSON.stringify,1/0),v="hasOwnProperty",d="\\",m={".":"MatchAnyChar","|":"MatchEither","?":"MatchZeroOrOne","*":"MatchZeroOrMore","+":"MatchOneOrMore","^":"MatchStart",$:"MatchEnd","{":"StartRepeats","}":"EndRepeats","(":"StartGroup",")":"EndGroup","[":"StartCharGroup","]":"EndCharGroup"},y={"\\":"EscapeChar","/":"/",0:"NULChar",f:"FormFeed",n:"LineFeed",r:"CarriageReturn",t:"HorizontalTab",v:"VerticalTab",b:"MatchWordBoundary",B:"MatchNonWordBoundary",s:"MatchSpaceChar",S:"MatchNonSpaceChar",w:"MatchWordChar",W:"MatchNonWordChar",d:"MatchDigitChar",D:"MatchNonDigitChar"},x=1,C=2,M=3,G=4,N=5,I=6,b=7,S=8,k=9,O=10,E=11,A=12;l[o]={constructor:l,re:null,len:null,pos:null,g:null,groupIndex:null,inGroup:null,groups:null,dispose:function(){var e=this;e.re=null,e.len=null,e.pos=null,e.index=null,e.groupIndex=null,e.group=null,e.inGroup=null}},u.toObjectStatic=function Ce(e){return e instanceof u?e.flags&&Object.keys(e.flags).length?{type:e.typeName,value:Ce(e.val),flags:e.flags}:{type:e.typeName,value:Ce(e.val)}:n(e)?e.map(Ce):e},u[o]={constructor:u,type:null,typeName:null,val:null,flags:null,dispose:function(){var e=this;return e.val=null,e.flags=null,e.type=null,e.typeName=null,e},toObject:function(){return u.toObjectStatic(this)}};var B=function(e,n){return Math.round((n-e)*Math.random()+e)},R=function(e,n,r){var t,a="",l=e.length,u=0;if(r)for(;l>u;)t=e[c](u++),a+=("?"===t||"+"===t||"-"===t||"^"===t||"$"===t||"|"===t||"{"===t||"}"===t||"("===t||")"===t||"["===t||"]"===t||"/"===t||n===t?n:"")+t;else for(;l>u;)t=e[c](u++),a+=("?"===t||"*"===t||"+"===t||"."===t||"^"===t||"$"===t||"|"===t||"{"===t||"}"===t||"("===t||")"===t||"["===t||"]"===t||"/"===t||n===t?n:"")+t;return a},w=function(e,n,r){var t=String(e);for(r=r||"0";t.length<n;)t+=r+t;return t},L=function(e){return e[g](0)},j=function(e){return[e[g](0),e[g](e.length-1)]},$=function(e,r){e&&n(e)&&(r=e[1],e=e[0]);var t,a,l=e[g](0),u=r[g](0);if(u===l)return[f(l)];for(a=[],t=l;u>=t;++t)a.push(f(t));return a},z=function(e,r){if(r){var t,a;if(n(r))for(t=0,a=r.length;a>t;t++)e[r[t]]=1;else for(t in r)r[v](t)&&(e[t]=1)}return e},D=" 	\x0B",W="~!@#$%^&*()-+=[]{}\\|;:,./<>?",Z="0123456789",P=j(Z),U=[P,[L("a"),L("f")],[L("A"),L("F")]],q="_"+$("a","z").join("")+$("A","Z").join(""),F=D+W+Z+q,T=F.split(""),_=function(e,n,r,t,a){r=r||0,t=t||1,a=a||h;for(var l,u=r,s=0,o=n.length;o>u&&a>=s&&-1<e.indexOf(l=n[c](u));)u++,s++;return s>=t?s:!1},H=function(e,n,r,t,a){r=r||0,t=t||1,a=a||h;for(var l,u=r,s=0,o=n.length;o>u&&a>=s&&(l=n[g](u))>=e[0]&&l<=e[1];)u++,s++;return s>=t?s:!1},V=function(e,n,r,t,a){r=r||0,t=t||1,a=a||h;for(var l,u,s,o=r,i=0,p=n.length,f=e.length,c=!0;p>o&&a>=i&&c;)for(l=n[g](o),c=!1,u=0;f>u;u++)if(s=e[u],l>=s[0]&&l<=s[1]){o++,i++,c=!0;break}return i>=t?i:!1},Y=function(){return W[c](B(0,W.length-1))},J=function(e){return!1!==e?D[c](B(0,D.length-1)):(Y()+Q()+X())[c](B(0,2))},Q=function(e){return!1!==e?Z[c](B(0,Z.length-1)):(Y()+J()+X())[c](B(0,2))},X=function(e){return!1!==e?q[c](B(0,q.length-1)):(Y()+J()+Q())[c](B(0,2))},K=function(e){return!1!==e?(q+Z)[c](B(0,q.length+Z.length-1)):(Y()+J())[c](B(0,1))},ee=function(){return F[c](B(0,F.length-1))},ne=function(e,n){if(!1!==n)return e.length?e[B(0,e.length-1)]:"";var r=T.filter(function(n){return 0>e.indexOf(n)});return r.length?r[B(0,r.length-1)]:""},re=function(e){return.5<Math.random()?e.toLowerCase():e.toUpperCase()},te=function(e,n){return n?(e[c]&&(e=e.split("")),e=e.map(re)):re(e)},ae=function Me(e,n,r){if(null==n||!r)return e;var a,l,s,o=n instanceof u?n.type:null;if(null===o)e=r.reduce(e,n,r);else if(C===o||x===o||S===o||M===o||G===o){if(s=r.map(e,n,r),null!=r.ret)e=r.reduce(e,n,r),r.ret=null;else if(null!=s)for(s=t(s),a=0,l=s?s.length:0;l>a;a++)if(r.node=n,e=Me(e,s[a],r),r.stop)return r.stop=null,e}else k!==o&&O!==o&&N!==o&&I!==o&&b!==o&&E!==o||(e=r.reduce(e,n,r));return r.node=null,e},le=function(e,n,r){var a=n.type;if(C===a){for(var l=[],u=0,s=n.val.length-1;s>u;u++)l.push(n.val[u],"|");return l.push(n.val[s]),l}if(S===a)return[].concat("["+(n.flags.NegativeMatch?"^":"")).concat(t(n.val)).concat("]");if(G===a){var o="";return o=n.flags.MatchZeroOrOne?"?":n.flags.MatchZeroOrMore?"*":n.flags.MatchOneOrMore?"+":n.flags.min===n.flags.max?"{"+n.flags.min+"}":"{"+n.flags.min+","+(-1===n.flags.max?"":n.flags.max)+"}",n.flags.min===n.flags.max||n.flags.isGreedy||(o+="?"),[].concat(t(n.val)).concat(o)}if(M===a){var i=null;return i=n.flags.NotCaptured?[].concat("(?:").concat(t(n.val)).concat(")"):n.flags.LookAhead?[].concat("(?=").concat(t(n.val)).concat(")"):n.flags.NegativeLookAhead?[].concat("(?!").concat(t(n.val)).concat(")"):n.flags.LookBehind?[].concat("(?<=").concat(t(n.val)).concat(")"):n.flags.NegativeLookBehind?[].concat("(?<!").concat(t(n.val)).concat(")"):[].concat("(").concat(t(n.val)).concat(")"),null!=n.flags.GroupIndex&&(e.group[n.flags.GroupIndex]=n.flags.GroupIndex,n.flags.GroupName&&(e.group[n.flags.GroupName]=n.flags.GroupIndex)),i}return n.val},ue=function(e,n,r){var t=n.type;if(C===t||S===t)return n.val.length?n.val[B(0,n.val.length-1)]:null;if(G===t){var a,l,u,s;if(e.length>=r.maxLength?a=n.flags.min:(l=n.flags.min,u=-1===n.flags.max?l+1+2*r.maxLength:n.flags.max,a=B(l,u)),a){s=new Array(a);for(var o=0;a>o;o++)s[o]=n.val;return s}return null}if(M===t&&n.flags.GroupIndex){var i=ae("",n.val,r);return r.group[n.flags.GroupIndex]=i,r.ret=i,null}return n.val},se=function(e,n,r){var t=n.type;if(C===t){var a,l,u=n.val.length,s=u?ae(0,n.val[0],r):0;for(a=1;u>a;a++)l=ae(0,n.val[a],r),s>l&&(s=l);return u&&(r.ret=s),null}if(S===t)return n.val.length?n.val[0]:null;if(G===t){if(0===n.flags.min)return null;var a,o=n.flags.min,i=new Array(o);for(a=0;o>a;a++)i[a]=n.val;return i}if(M===t&&n.flags.GroupIndex){var s=ae(0,n.val,r);return r.group[n.flags.GroupIndex]=s,r.ret=s,null}return n.val},oe=function(e,n,r){var t=n.type;if(C===t){var a,l,u=n.val.length,s=u?ae(0,n.val[0],r):0;if(-1!==s)for(a=1;u>a;a++){if(l=ae(0,n.val[a],r),-1===l){s=-1;break}l>s&&(s=l)}return u&&(r.ret=s),null}if(S===t)return n.val.length?n.val[0]:null;if(G===t)return s=ae(0,n.val,r),-1===s?r.ret=-1:s>0&&(-1===n.flags.max?r.ret=-1:0<n.flags.max?r.ret=n.flags.max*s:r.ret=s),null;if(M===t&&n.flags.GroupIndex){var s=ae(0,n.val,r);return r.group[n.flags.GroupIndex]=s,r.ret=s,null}return n.val},ie=function(e,n,r){var t=n.type;if(x===t){var a,l=[],u=0,s=n.val.length;for(u=0;s>u&&(a=n.val[u],l.push(a),G===a.type&&0===a.flags.min||b===a.type&&(a.flags.MatchStart||a.flags.MatchEnd));u++);return l.length?l:null}return n.val},pe=function(e,n,r){if(null!=r.ret)return-1===r.ret?e=-1:e+=r.ret,e;if(-1===e)return e;if(n===+n)return e+=n;if(b===n.type&&n.flags.MatchEnd)return r.stop=1,e;var t=n.type;return k===t||O===t||N===t||I===t||b===t&&!n.flags.MatchStart&&!n.flags.MatchEnd?e+=n.flags.BackReference?r.group[n.flags.GroupIndex]||0:1:E===t&&(e+=n.val.length),e},fe=function(e,n,t){if(null!=t.ret)return e+=t.ret;if(r(n))return e+=n;if(b===n.type&&n.flags.MatchEnd)return t.stop=1,e;var a=n.type,l=null;if(k===a)l=n.val;else if(O===a){var u=[n.val[0],n.val[1]];N!==u[0].type&&I!==u[0].type||(u[0]=u[0].flags.Char),N!==u[1].type&&I!==u[1].type||(u[1]=u[1].flags.Char),l=$(u)}else if(N===a||I===a)l=[n.flags.Char];else if(b!==a||n.flags.MatchStart||n.flags.MatchEnd)E===a&&(l=n.val);else{var s=n.val;if(n.flags.BackReference)return e+=t.group[v](s)?t.group[s]:"";l="D"===s?[Q(!1)]:"W"===s?[K(!1)]:"S"===s?[J(!1)]:"d"===s?[Q()]:"w"===s?[K()]:"s"===s?[J()]:"."===s&&n.flags.MatchAnyChar?[ee()]:["\\"+s]}return l&&(e+=E===a?t.isCaseInsensitive?te(l):l:ne(t.isCaseInsensitive?te(l,!0):l,!t.node||!t.node.flags.NegativeMatch)),e},ce=function(e,n,t){if(null!=t.ret)return t.ret.src&&(e.src+=t.ret.src),t.ret.group&&(e.group=a(t.ret.group,e.group)),e;if(r(n))return e.src+=n,e;var l=n.type;if(k===l)e.src+=t.escaped?R(n.val.join(""),d,1):n.val.join("");else if(O===l){var u=[n.val[0],n.val[1]];t.escaped?(N===u[0].type?u[0]="\\u"+w(u[0].flags.Code,4):I===u[0].type?u[0]="\\x"+w(u[0].flags.Code,2):u[0]=R(u[0],d,1),N===u[1].type?u[1]="\\u"+w(u[1].flags.Code,4):I===u[1].type?u[1]="\\x"+w(u[1].flags.Code,2):u[1]=R(u[1],d,1)):(N!==u[0].type&&I!==u[0].type||(u[0]=u[0].flags.Char),N!==u[1].type&&I!==u[1].type||(u[1]=u[1].flags.Char)),e.src+=u[0]+"-"+u[1]}else N===l?e.src+=t.escaped?"\\u"+w(n.flags.Code,4):n.flags.Char:I===l?e.src+=t.escaped?"\\x"+w(n.flags.Code,2):n.flags.Char:b===l?n.flags.BackReference?e.src+="\\"+n.val:e.src+=n.flags.MatchStart||n.flags.MatchEnd?""+n.val:"\\"+n.val:E===l&&(e.src+=t.escaped?R(n.val,d):n.val);return e},ge=function(e,n,r){if(null!=r.ret)return e.positive=z(e.positive,r.ret.positive),e.negative=z(e.negative,r.ret.negative),e;if(b===n.type&&n.flags.MatchEnd)return r.stop=1,e;var t=n.type,a=r.node&&S===r.node.type,l=a&&r.node.flags.NegativeMatch,u=l?"negative":"positive";if(k===t)e[u]=z(e[u],n.val);else if(O===t){var s=[n.val[0],n.val[1]];N!==s[0].type&&I!==s[0].type||(s[0]=s[0].flags.Char),N!==s[1].type&&I!==s[1].type||(s[1]=s[1].flags.Char),e[u]=z(e[u],$(s))}else if(N===t||I===t)e[u][n.flags.Char]=1;else if(b!==t||n.flags.BackReference||n.flags.MatchStart||n.flags.MatchEnd)E===t&&(e.positive[n.val[c](0)]=1);else{var o=n.val;"D"===o?e[l?"positive":"negative"]["\\d"]=1:"W"===o?e[l?"positive":"negative"]["\\w"]=1:"S"===o?e[l?"positive":"negative"]["\\s"]=1:e[u]["\\"+o]=1}return e},he=function(e){var n=!1;return e.length>2&&"x"===e[c](0)&&V(U,e,1,2,2)?[n=e.slice(0,3),n.slice(1)]:!1},ve=function(e){var n=!1;return e.length>4&&"u"===e[c](0)&&V(U,e,1,4,4)?[n=e.slice(0,5),n.slice(1)]:!1},de=function(e){var n,r=e.length,t=0,a=!1,l=!1;return r>2&&"{"===e[c](t)?(a=["","",null],t++,(n=_(D,e,t))&&(t+=n),(n=H(P,e,t))?(a[1]=e.slice(t,t+n),t+=n,(n=_(D,e,t))&&(t+=n),r>t&&","===e[c](t)&&(t+=1,l=!0),(n=_(D,e,t))&&(t+=n),(n=H(P,e,t))&&(a[2]=e.slice(t,t+n),t+=n),(n=_(D,e,t))&&(t+=n),r>t&&"}"===e[c](t)?(t++,a[0]=e.slice(0,t),l||(a[2]=a[1]),a):!1):!1):!1},me=function(e){var n,r,t,a,l,s,o,i,p=[],g=[],h=[],m={},x=!1,C=!1;for("^"===e.re[c](e.pos)&&(m.NegativeMatch=1,e.pos++),t=e.len;e.pos<t;)if(o=!1,i=!1,s=null,a=r,r=e.re[c](e.pos++),C=d===r,C&&(r=e.re[c](e.pos++)),C&&("u"===r?(s=ve(e.re.substr(e.pos-1)),e.pos+=s[0].length-1,r=u(N,s[0],{Char:f(parseInt(s[1],16)),Code:s[1]}),o=!0,i=!1):"x"===r&&(s=he(e.re.substr(e.pos-1)),e.pos+=s[0].length-1,r=u(I,s[0],{Char:f(parseInt(s[1],16)),Code:s[1]}),o=!0,i=!0)),x)g.length&&(h=h.concat(g),g=[]),l[1]=r,x=!1,p.push(u(O,l));else if(C)o?(g.length&&(h=h.concat(g),g=[]),p.push(r)):y[v](r)&&"/"!==r?(g.length&&(h=h.concat(g),g=[]),n={},n[y[r]]=1,p.push(u(b,r,n))):g.push(r);else{if("]"===r)return g.length&&(h=h.concat(g),g=[]),h.length&&p.push(u(k,h)),u(S,p,m);"-"===r?(l=[a,""],a instanceof u?p.pop():g.pop(),x=!0):g.push(r)}return g.length&&(h=h.concat(g),g=[]),h.length&&p.push(u(k,h)),u(S,p,m)},ye=function Ge(e){var n,r,t,a,l,s,o,i="",p=0,g=[],h=[],S={},k=!1;if(e.inGroup>0){if(l=e.re.substr(e.pos,2),s=e.re.substr(e.pos,3),o=1,"?P="===s){for(S.BackReference=1,S.GroupName="",e.pos+=3,n=e.len;e.pos<n&&(r=e.re[c](e.pos++),")"!==r);)S.GroupName+=r;return S.GroupIndex=e.group[v](S.GroupName)?e.group[S.GroupName]:null,u(b,String(S.GroupIndex),S)}if("?#"===l){for(S.Comment=1,e.pos+=2,i="",n=e.len;e.pos<n&&(r=e.re[c](e.pos++),")"!==r);)i+=r;return u(A,i)}if("?:"===l)S.NotCaptured=1,e.pos+=2,o=0;else if("?="===l)S.LookAhead=1,e.pos+=2,o=0;else if("?!"===l)S.NegativeLookAhead=1,e.pos+=2,o=0;else if("?<="===s)S.LookBehind=1,e.pos+=3,o=0;else if("?<!"===s)S.NegativeLookBehind=1,e.pos+=3,o=0;else if("?<"===l||"?P<"===s)for(S.NamedGroup=1,S.GroupName="",e.pos+="?<"===l?2:3,n=e.len;e.pos<n&&(r=e.re[c](e.pos++),">"!==r);)S.GroupName+=r;++e.index,o&&(++e.groupIndex,S.GroupIndex=e.groupIndex,e.group[S.GroupIndex]=S.GroupIndex,S.GroupName&&(e.group[S.GroupName]=S.GroupIndex))}for(n=e.len;e.pos<n;)if(r=e.re[c](e.pos++),k=d===r,k&&(r=e.re[c](e.pos++)),k)if("u"===r)p&&(h.push(u(E,i)),i="",p=0),t=ve(e.re.substr(e.pos-1)),e.pos+=t[0].length-1,h.push(u(N,t[0],{Char:f(parseInt(t[1],16)),Code:t[1]}));else if("x"===r)p&&(h.push(u(E,i)),i="",p=0),t=he(e.re.substr(e.pos-1)),e.pos+=t[0].length-1,h.push(u(I,t[0],{Char:f(parseInt(t[1],16)),Code:t[1]}));else if(y[v](r)&&"/"!==r)p&&(h.push(u(E,i)),i="",p=0),a={},a[y[r]]=1,h.push(u(b,r,a));else if(r>="1"&&"9">=r){for(p&&(h.push(u(E,i)),i="",p=0),i=r;e.pos<n&&(r=e.re[c](e.pos),r>="0"&&"9">=r);)i+=r,e.pos++;a={},a.BackReference=1,a.GroupIndex=parseInt(i,10),h.push(u(b,i,a)),i=""}else i+=r,p+=1;else{if(e.inGroup>0&&")"===r)return p&&(h.push(u(E,i)),i="",p=0),g.length?(g.push(u(x,h)),h=[],a={},a[m["|"]]=1,u(M,u(C,g,a),S)):u(M,u(x,h),S);if("|"===r)p&&(h.push(u(E,i)),i="",p=0),g.push(u(x,h)),h=[];else if("["===r)p&&(h.push(u(E,i)),i="",p=0),h.push(me(e));else if("("===r)p&&(h.push(u(E,i)),i="",p=0),e.inGroup+=1,h.push(Ge(e)),e.inGroup-=1;else if("{"===r){p&&(h.push(u(E,i)),i="",p=0),t=de(e.re.substr(e.pos-1)),e.pos+=t[0].length-1,a={val:t[0],MatchMinimum:t[1],MatchMaximum:t[2]||"unlimited",min:parseInt(t[1],10),max:t[2]?parseInt(t[2],10):-1},a[m[r]]=1,e.pos<n&&"?"===e.re[c](e.pos)?(a.isGreedy=0,e.pos++):a.isGreedy=1;var O=h.pop();E===O.type&&O.val.length>1&&(h.push(u(E,O.val.slice(0,-1))),O.val=O.val.slice(-1)),h.push(u(G,O,a))}else if("*"===r||"+"===r||"?"===r){p&&(h.push(u(E,i)),i="",p=0),a={},a[m[r]]=1,a.min="+"===r?1:0,a.max="?"===r?1:-1,e.pos<n&&"?"===e.re[c](e.pos)?(a.isGreedy=0,e.pos++):a.isGreedy=1;var O=h.pop();E===O.type&&O.val.length>1&&(h.push(u(E,O.val.slice(0,-1))),O.val=O.val.slice(-1)),h.push(u(G,O,a))}else m[v](r)?(p&&(h.push(u(E,i)),i="",p=0),a={},a[m[r]]=1,h.push(u(b,r,a))):(i+=r,p+=1)}return p&&(h.push(u(E,i)),i="",p=0),g.length?(g.push(u(x,h)),h=[],a={},S[m["|"]]=1,u(C,g,a)):u(x,h)},xe=function Ne(e,n){return this instanceof Ne?void(e&&this.input(e,n)):new Ne(e,n)};return xe.VERSION=s,xe.Node=u,xe.getCharRange=$,xe[o]={constructor:xe,ast:null,re:null,fl:null,src:null,grp:null,min:null,max:null,ch:null,dispose:function(){var e=this;return e.ast=null,e.re=null,e.fl=null,e.src=null,e.grp=null,e.min=null,e.max=null,e.ch=null,e},reset:function(){var e=this;return e.ast=null,e.src=null,e.grp=null,e.min=null,e.max=null,e.ch=null,e},input:function(e,n){var r=this;if(!arguments.length)return r.re;if(e){n=!1===n?!1:n||"/";var t,a,l={};if(e=e.toString(),t=e.length,n){for(;t>0&&(a=e[c](t-1),n!==a);)l[a]=1,t--;e=t>0?n===e[c](0)&&n===e[c](t-1)?e.slice(1,t-1):e.slice(0,t):""}r.re!==e&&r.reset(),r.re=e,r.fl=l}return r},analyze:function(){var e=this;if(null!=e.re&&null===e.ast){var n=new l(e.re);e.ast=ye(n),n.dispose()}return e},synthesize:function(e){var n,r,t=this;return null==t.re?t:(null===t.ast&&(t.analyze(),t.src=null,t.grp=null),null===t.src&&(n={map:le,reduce:ce,escaped:!1!==e,group:{}},r=ae({src:"",group:{}},t.ast,n),t.src=r.src,t.grp=r.group),t)},source:function(){var e=this;return null==e.re?null:(null===e.src&&e.synthesize(),e.src)},groups:function(e){var n=this;return null==n.re?null:(null===n.grp&&n.synthesize(),!0===e?sel.grp:a(n.grp))},compile:function(e){var n,r=this;return null==r.re?null:(e=e||r.fl||{},n=new RegExp(r.source(),(e.g||e.G?"g":"")+(e.i||e.I?"i":"")+(e.m||e.M?"m":"")+(e.y||e.Y?"y":"")),n.$group=r.groups(),n)},tree:function(e){var n=this;return null==n.re?null:(null===n.ast&&n.analyze(),!0===e?n.ast.toObject():n.ast)},sample:function(e,n){var r,t=this;if(null==t.re)return null;if(null===t.ast&&t.analyze(),r={map:ue,reduce:fe,maxLength:0|e||1,isCaseInsensitive:null!=t.fl.i,group:{}},n=0|n||1,n>1){for(var a=new Array(n),l=0;n>l;l++)a[l]=ae("",t.ast,r);return a}return ae("",t.ast,r)},minimum:function(){var e,n=this;return null==n.re?0:(null===n.ast&&(n.analyze(),n.min=null),null===n.min&&(e={map:se,reduce:pe,group:{}},n.min=0|ae(0,n.ast,e)),n.min)},maximum:function(){var e,n=this;return null==n.re?0:(null===n.ast&&(n.analyze(),n.max=null),null===n.max&&(e={map:oe,reduce:pe,group:{}},n.max=ae(0,n.ast,e)),n.max)},peek:function(){var e,n,r,t,l,u,s,o=this;if(null==o.re)return null;null===o.ast&&(o.analyze(),o.ch=null),null===o.ch&&(e={map:ie,reduce:ge,group:{}},o.ch=ae({positive:{},negative:{}},o.ast,e)),r={positive:a(o.ch.positive),negative:a(o.ch.negative)},n=null!=o.fl.i;for(t in r){s={},u=r[t];for(l in u)"\\d"===l?(delete u[l],s=z(s,$("0","9"))):"\\s"===l?(delete u[l],s=z(s,["\f","\n","\r","	","\x0B"," ","\u2028","\u2029"])):"\\w"===l?(delete u[l],s=z(s,["_"].concat($("0","9")).concat($("a","z")).concat($("A","Z")))):"\\."===l?(delete u[l],s[m["."]]=1):"\\"!==l[c](0)&&n?(s[l.toLowerCase()]=1,s[l.toUpperCase()]=1):"\\"===l[c](0)&&delete u[l];r[t]=z(u,s)}return r}},xe[o].set=xe[o].input,RegExp[o].$group=null,RegExp[o].group=function(e){return e=e||0,this.$group&&this.$group.hasOwnProperty(e)?this.$group[e]:e},xe});