/**
*  minislider.js
*  Optimized responsive mini slider (up to 12 slides) for Desktop and Mobile
*  @VERSION: 1.1.0
*  https://github.com/foo123/minislider
*/
!function(e){"use strict";var w=Math,P=Array.prototype.forEach,t=/^\s+|\s+$/g,r=String.prototype.trim?function(e){return e.trim()}:function(e){return e.replace(t,"")};function o(){if(null==o.passiveSupported){var e={};try{Object.defineProperty(e,"passive",{get:function(){return!(o.passiveSupported=!0)}}),window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch(e){o.passiveSupported=!1}}return o.passiveSupported}function E(e,t,r,n){e.attachEvent?e.attachEvent("on"+t,r):e.addEventListener(t,r,o()?n:"object"==typeof n?!!n.capture:!!n)}function $(e,t,r,n){e.detachEvent?e.detachEvent("on"+t,r):e.removeEventListener(t,r,o()?n:"object"==typeof n?!!n.capture:!!n)}function T(e,t){e.classList?e.classList.add(t):-1===(" "+e.className+" ").indexOf(" "+t+" ")&&(e.className=""===e.className?t:e.className+" "+t)}function q(e,t){e.classList?e.classList.remove(t):e.className=r((" "+e.className+" ").replace(" "+t+" "," "))}function u(e,t,r){e.style.setProperty?e.style.setProperty(t,r):e.style[t]=r}function D(e,t,r){return 3<=arguments.length?(e.setAttribute(t,r),r):e.getAttribute(t)}function i(e){return("function"==typeof window.getComputedStyle?window.getComputedStyle(e,null):e.currentStyle)||{}}function L(e){return e&&+D(e,"data-slides")||0}function x(e){return e&&+D(e,"data-slide")||0}function A(e,t){return t=t||i(e.parentNode),parseInt(t.getPropertyValue("--slides-per-area"))||1}function l(e,t){return t=t||i(e.parentNode),parseFloat(t.getPropertyValue("--swipe"))||400}function j(e,t){e&&(e.style.left=t)}function O(e,t,r){var n;e&&(e=(n=(e=e)?e.parentNode.querySelector(".bullets"):null)&&n.parentNode===e.parentNode?n:null)&&(P.call(e.children,function(e){q(e,"current-slide")}),n=r*w.floor(t/r),t=e.querySelector('[data-slide="'+n+'"]'))&&T(t,"current-slide")}function V(e,t,r){if(e){l=(u=e)?u.parentNode.querySelectorAll(".arrow"):[],c=[null,null],l[1]&&l[1].parentNode===u.parentNode&&(c[1]=l[1]),l[0]&&l[0].parentNode===u.parentNode&&(c[0]=l[0]);for(var n,o=c,i=L(e),a=r*w.floor(t/r),s=0;s<2;++s)o[s]&&("prev"===(n=D(o[s],"data-slide"))?(0<=a-1?q:T)(o[s],"disabled"):"next"===n&&(a+r<i?q:T)(o[s],"disabled"))}var u,l,c}function I(e,t,r,n,o){e&&(clearTimeout(e.$minislider.timer),n=(n||0)*l(e),T(e,"swipe"),u(e,"transition-duration",String(n)+"ms"),j(e,String(100*-w.floor(t/r))+"%"),setTimeout(function(){Y(e),o&&o(e)},10+n))}function X(e,t,r,n,o){var i,a,s;e&&(clearTimeout(e.$minislider.timer),n=(1-(n||0))*l(e),a=t,s=r,(i=e)&&D(i,"data-slide",s*w.floor((a||0)/s)),O(e,t,r),V(e,t,r),T(e,"swipe"),u(e,"transition-duration",String(n)+"ms"),j(e,String(100*-w.floor(t/r))+"%"),setTimeout(function(){Y(e),o&&o(e)},10+n))}function Y(n){var e,t;n&&n.$minislider&&(clearTimeout(n.$minislider.timer),n.$minislider.timer=setTimeout(function(){var e,t,r;n.$minislider&&(t=n,r=r||i(t.parentNode),parseInt(r.getPropertyValue("--auto-play"))?(t=L(n),r=x(n),r=(e=A(n))*w.floor(r/e),X(n,r+e<t?r+e:0,e,0)):Y(n))},(e=n,t=t||i(e.parentNode),parseFloat(t.getPropertyValue("--delay"))||2e3)))}function k(r){var n=this;if(!(n instanceof k))return new k(r);function t(){v=!1}var i,a,s,u,l,c,p,d,f=1,m=!1,v=!1,g=function(e){a=(e.touches&&e.touches.length?e.touches[0]:e).pageX,u=(e.touches&&e.touches.length?e.touches[0]:e).pageY;var t=a-i,r=u-s;m&&w.abs(r)>=w.abs(t)||(e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),r=x(l),e=f*w.floor(r/f),(t<0&&e+f<c||0<t&&0<=e-1)&&j(l,String(-w.floor(r/f)*p+t)+"px"))},o=function e(t){clearTimeout(d),m?($(document,"touchmove",g,{passive:!1,capture:!1}),$(document,"touchend",e,{passive:!1,capture:!1}),$(document,"touchcancel",e,{passive:!1,capture:!1})):($(document,"mousemove",g,{passive:!1,capture:!1}),$(document,"mouseup",e,{passive:!1,capture:!1}));var r=a-i,n=u-s,o=x(l);l=(m&&w.abs(n)>=w.abs(r)?r?I(l,o,f,w.abs(r)/p):Y(l):(v||(t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation()),n=f*w.floor(o/f),r<0?(r=w.abs(r),n+f<c&&(16<=r?X(l,n+f,f,r/p):I(l,n,f,r/p))):0<r?(r=w.abs(r),0<=n-1&&(16<=r?X(l,n-f,f,r/p):I(l,n,f,r/p))):I(l,n,f,w.abs(r)/p)),null)},h=function(e){(l=e.target.closest(".slider"))&&(clearTimeout(l.$minislider.timer),(p=l.parentNode.clientWidth)<=0?l=null:(c=L(l),f=A(l),q(l,"swipe"),clearTimeout(d),v=!1,e.target.closest("a")&&(v=!0,d=setTimeout(t,120)),e.touches&&e.touches.length?(m=!0,a=i=e.touches[0].pageX,u=s=e.touches[0].pageY,E(document,"touchmove",g,{passive:!1,capture:!1}),E(document,"touchend",o,{passive:!1,capture:!1}),E(document,"touchcancel",o,{passive:!1,capture:!1})):(m=!1,a=i=e.pageX,u=s=e.pageY,E(document,"mousemove",g,{passive:!1,capture:!1}),E(document,"mouseup",o,{passive:!1,capture:!1}),e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation())))},y=function(e){var t,r,n,o,i,a=e.target.closest("a");a&&(a.closest(".slide")?v||(e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation()):("prev"===(e=D(a,"data-slide"))?(r=L(t=a.parentNode.querySelector(".slider")),n=x(t),0<=(i=(o=A(t))*w.floor(n/o))-1&&X(t,i-o,o,0)):"next"===e&&(r=L(t=a.parentNode.querySelector(".slider")),n=x(t),(i=(o=A(t))*w.floor(n/o))+o<r)&&X(t,i+o,o,0),(a=a.closest(".bullets"))&&(r=L(t=a.parentNode.querySelector(".slider")),n=+e||0,0<=(i=(o=A(t))*w.floor(n/o)))&&i<r&&X(t,i,o,0)))},S=function(e){E(e,"mousedown",h,{passive:!1,capture:!1}),E(e,"touchstart",h,{passive:!1,capture:!1}),E(e,"click",y,{passive:!1,capture:!1}),T(e,"minislider-js");var t,r,e=e.querySelector(".slider");e&&(e.$minislider={timer:null},(r=e)&&!r.hasAttribute("data-slides")&&D(r,"data-slides",String(r.children.length)),r=x(e),t=A(e),j(e,String(100*-w.floor(r/t))+"%"),O(e,r,t),V(e,r,t),Y(e))},N=function(e){q(e,"minislider-js"),$(e,"mousedown",h,{passive:!1,capture:!1}),$(e,"touchstart",h,{passive:!1,capture:!1}),$(e,"click",y,{passive:!1,capture:!1});e=e.querySelector(".slider");e&&e.$minislider&&(e.$minislider=null)},b=!1;r=Array.prototype.slice.call(r||[]),n.start=function(){return b||(b=!0,P.call(r,S)),n},n.stop=function(){return b&&(P.call(r,N),b=!1),n},n.add=function(e){return-1===r.indexOf(e)&&(b&&S(e),r.push(e)),n},n.remove=function(e){var t=r.indexOf(e);return-1!==t&&(b&&N(e),r.splice(t,1)),n},n.dispose=function(){return n.stop(),r=[],n}}k.prototype={constructor:k,dispose:null,start:null,stop:null,add:null,remove:null},k.VERSION="1.1.0",e.Element&&(e.Element.prototype.$minislider=null),e.minislider=k}("undefined"!=typeof self?self:window);