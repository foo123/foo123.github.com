/**
*
*   AceGrammar
*   @version: 4.0.0
*
*   Transform a grammar specification in JSON format, into an ACE syntax-highlight parser mode
*   https://github.com/foo123/ace-grammar
*   https://github.com/foo123/editor-grammar
*
**/!function(e,t,n){"use strict";var r;"object"==typeof module&&module.exports?module.exports=n.call(e,{}):"undefined"!=typeof System&&"function"==typeof System.register&&"function"==typeof System["import"]?System.register(t,[],function(r){r(t,n.call(e,{}))}):"function"==typeof define&&define.amd&&"function"==typeof require&&"function"==typeof require.specified&&require.specified(t)?define(t,["require","exports","module"],function(){return n.call(e,{})}):t in e||(e[t]=r=n.call(e,{}))&&"function"==typeof define&&define.amd&&define(function(){return r})}(this,"AceGrammar",function(e){"use strict";function t(e){var t=0;return null===e?t=wn:!0===e||!1===e||e instanceof Boolean?t=Sn:un===e?t=xn:(t=Nn[hn.call(e)]||vn,t=_n===t||e instanceof Number?isNaN(e)?On:isFinite(e)?_n:Mn:qn===t||e instanceof String?1===e.length?En:qn:Dn===t||e instanceof Array?Dn:Fn===t||e instanceof RegExp?Fn:Rn===t||e instanceof Date?Rn:jn===t||e instanceof Function?jn:Tn===t?Tn:vn),t}function n(e,t,n,r){var o,i,l,s,a,u,c=e.length;if(arguments.length<4&&(r=c-1),0>r&&(r+=c),arguments.length<3&&(n=0),n>r)return[];if(n===r)return[t(e[n],n,n,r)];for(l=r-n+1,s=15&l,a=1&s,u=new Array(l),a&&(u[0]=t(e[n],n,n,r)),o=a;s>o;o+=2)i=n+o,u[o]=t(e[i],i,n,r),u[o+1]=t(e[i+1],i+1,n,r);for(o=s;l>o;o+=16)i=n+o,u[o]=t(e[i],i,n,r),u[o+1]=t(e[i+1],i+1,n,r),u[o+2]=t(e[i+2],i+2,n,r),u[o+3]=t(e[i+3],i+3,n,r),u[o+4]=t(e[i+4],i+4,n,r),u[o+5]=t(e[i+5],i+5,n,r),u[o+6]=t(e[i+6],i+6,n,r),u[o+7]=t(e[i+7],i+7,n,r),u[o+8]=t(e[i+8],i+8,n,r),u[o+9]=t(e[i+9],i+9,n,r),u[o+10]=t(e[i+10],i+10,n,r),u[o+11]=t(e[i+11],i+11,n,r),u[o+12]=t(e[i+12],i+12,n,r),u[o+13]=t(e[i+13],i+13,n,r),u[o+14]=t(e[i+14],i+14,n,r),u[o+15]=t(e[i+15],i+15,n,r);return u}function r(e,t,n,r,o){var i,l,s,a,u,c=e.length,p=n;if(arguments.length<5&&(o=c-1),0>o&&(o+=c),arguments.length<4&&(r=0),r>o)return p;if(r===o)return t(p,e[r],r);for(s=o-r+1,a=15&s,u=1&a,u&&(p=t(p,e[r],r)),i=u;a>i;i+=2)l=r+i,p=t(t(p,e[l],l),e[l+1],l+1);for(i=a;s>i;i+=16)l=r+i,p=t(t(t(t(t(t(t(t(t(t(t(t(t(t(t(t(p,e[l],l),e[l+1],l+1),e[l+2],l+2),e[l+3],l+3),e[l+4],l+4),e[l+5],l+5),e[l+6],l+6),e[l+7],l+7),e[l+8],l+8),e[l+9],l+9),e[l+10],l+10),e[l+11],l+11),e[l+12],l+12),e[l+13],l+13),e[l+14],l+14),e[l+15],l+15);return p}function o(e,t,n,r){if(t>n)return r;if(t===n)return e(t,r,t,n),r;var o,i,l=n-t+1,s=15&l,a=1&s;for(a&&e(t,r,t,n),o=a;s>o;o+=2)i=t+o,e(i,r,t,n),e(++i,r,t,n);for(o=s;l>o;o+=16)i=t+o,e(i,r,t,n),e(++i,r,t,n),e(++i,r,t,n),e(++i,r,t,n),e(++i,r,t,n),e(++i,r,t,n),e(++i,r,t,n),e(++i,r,t,n),e(++i,r,t,n),e(++i,r,t,n),e(++i,r,t,n),e(++i,r,t,n),e(++i,r,t,n),e(++i,r,t,n),e(++i,r,t,n),e(++i,r,t,n);return r}function i(e,n){var r,o,l,s,a=t(e),u=0;if(_n===t(n)?n>0?(u=n,n=!0):n=!1:n=!1!==n,Tn===a){o={};for(l in e)e[pn](l)&&e[fn](l)&&(r=t(e[l]),o[l]=Tn===r?n?i(e[l],u>0?u-1:n):e[l]:Dn===r?n?i(e[l],u>0?u-1:n):e[l].slice():Rn===r?new Date(e[l]):qn&r?e[l].slice():_n&r?0+e[l]:e[l])}else if(Dn===a)for(s=e.length,o=new Array(s),l=0;s>l;l++)r=t(e[l]),o[l]=Tn===r?n?i(e[l],u>0?u-1:n):e[l]:Dn===r?n?i(e[l],u>0?u-1:n):e[l].slice():Rn===r?new Date(e[l]):qn&r?e[l].slice():_n&r?0+e[l]:e[l];else o=Rn===a?new Date(e):qn&a?e.slice():_n&a?0+e:e;return o}function l(){var e,n,r,o,s,a,u,c,p,f,m=arguments,h=m.length;if(1>h)return null;for(n=i(m[0]),r=1;h>r;r++)if(e=m[r])for(o in e)if(e[pn](o)&&e[fn](o))if(n[pn](o)&&n[fn](o)){if(p=t(n[o]),f=t(e[o]),Tn===p&&Tn===f)n[o]=l(n[o],e[o]);else if(Dn===p&&Dn===f){if(u=n[o],c=e[o],a=c.length,!a)continue;if(u.length)for(s=0;a>s;s++)0>u.indexOf(c[s])&&u.push(c[s]);else n[o]=c.slice()}}else n[o]=i(e[o]);return n}function s(){return!0}function a(e,n){return n||Dn!==t(e)?[e]:e}function u(e,n){return e=a(e),(n||Dn!==t(e[0]))&&(e=[e]),e}function c(e,n){return qn&t(n)&&qn&t(e)&&n.length&&n.length<=e.length&&n===e.substr(0,n.length)}function p(e,t,n){return n?e[t]=un:delete e[t],e}function f(e){return(e||"id_")+ ++Yn}function m(e){return(e||"uuid")+"_"+ ++Yn+"_"+(new Date).getTime()}function h(){var e,n,r,o,i,l,s=arguments,a=s.length;for(e=s[0]||{},i=1;a>i;i++)if(n=s[i],Tn===t(n))for(o in n)n[pn](o)&&n[fn](o)&&(r=n[o],l=t(r),e[o]=_n&l?0+r:Rn&l?new Date(r):An&l?r.slice():r);return e}function g(e,t){var n,r=arguments.length,o="constructor";return 0===r?(e=Object,t={}):1===r?(t=e||{},e=Object):(e=e||Object,t=t||{}),t[pn](o)||(t[o]=function(){}),n=t[o],delete t[o],n[cn]=h(gn(e[cn]),t),n[cn][o]=n,n}function d(e){return e.replace(Hn,"\\$1")}function k(e,t){return new RegExp(e,t||"")}function $(e,t,n,r){var o,i,l,s,a=e.pos,u=e.length,c="",p=!!n;if(p){for(r=!!r,i=!1,s=0;u>a&&(o=e[bn](a++),t!==o||i);)l=n===o,i=!i&&l,r?(l&&s++,(!l||2&s)&&(c+=o,s=0)):c+=o;2&s&&(c+=n)}else for(;u>a&&(o=e[bn](a++),t!==o);)c+=o;return e.pos=a,c}function b(e,n,r,o){var i,l,s,a,u,c=!0===r?0:1,p=o?"\\":"$",f=o?92:36;for(qn&t(n)&&(o&&(n=d(n)),n=[n,n,n],c=0),l=e.length,u="",i=0;l>i;)s=e[bn](i),l>i+1&&p===s?(a=e.charCodeAt(i+1),f===a?(u+=p,i+=2):a>=48&&57>=a?(u+=n[c+a-48]||"",i+=2):(u+=s,i+=1)):(u+=s,i+=1);return u}function y(e,n,r,o){if(!e||(_n|Fn)&t(e))return e;var i,l=n?n.length||0:0,s="";if(qn&t(o)?s=o:o&&(s=Qn),l&&n===e.substr(0,l)){var a,u,c,i,p,f=e.substr(l),m=f[bn](0),h="";for(i=f.length;i--&&(p=f[bn](i),m!==p);)"i"===p.toLowerCase()&&(h="i");return a=f.substring(1,i),u="^("+a+")",r[u]||(c=k(u,h),r[u]=c),r[u]}return s?(u="^("+d(e)+")"+s,r[u]||(c=k(u,h),r[u]=c),r[u]):e}function v(e,r,o){var i,l="";return qn&t(r)?l=r:r&&(l=Qn),i=n(e.sort(Bn),d).join("|"),[k("^("+i+")"+l,o?"i":""),1]}function x(e,n,r,o){var i=t(n);if(_n===i)return n;if(o[e])return o[e];r=r||0;var l,s=0;return n&&n.isCharList&&(s=1,p(n,"isCharList")),l=wn===i?new C(qt,e,n,wn,r):En===i?new C(qt,e,n,En,r):In&i?new C(qt,e,n,Fn,r):qn&i?new C(qt,e,n,s?Ln:qn,r):n,o[e]=l}function w(e,n,r,o,i,l,s,u){if(s[e])return s[e];var p,f,m,h,g,d,k,$=0,b=0,_=1,M=qn&t(o)?!0:!!o;if(p=a(n),m=p.length,1===m)k=x(e,y(p[0],r,l,o),0,s);else if(m>1){for(h=(m>>>1)+1,f=0;h>=f;f++)g=t(p[f]),d=t(p[m-1-f]),(En!==g||En!==d)&&(_=0),Dn&g||Dn&d?$=1:(Fn&g||Fn&d||c(p[f],r)||c(p[m-1-f],r))&&(b=1);if(_&&!M)p=p.slice().join(""),p.isCharList=1,k=x(e,p,0,s);else if(!M||$||b)if($||b){for(f=0;m>f;f++)p[f]=Dn&t(p[f])?w(e+"_"+f,p[f],r,o,i,l,s):x(e+"_"+f,y(p[f],r,l),f,s);k=m>1?new C(Et,e,p):p[0]}else{for(u&&(u.keywords=a(n).slice()),p=p.sort(Bn),f=0;m>f;f++)p[f]=x(e+"_"+f,y(p[f],r,l),f,s);k=m>1?new C(Et,e,p):p[0]}else u&&(u.keywords=a(n).slice()),k=x(e,v(p,o,i),0,s)}return s[e]=k}function _(e,n,r,i,l){if(l[e])return l[e];var s=u(n),a=[],p=[];return o(function(n){var o,u,f,m;o=x(e+"_0_"+n,y(s[n][0],r,i),n,l),s[n].length>1?(f=c(s[n][1],r),m=f&&Vn.test(s[n][1]),Fn!==o.ptype||qn!==t(s[n][1])||!m&&f?u=x(e+"_1_"+n,y(s[n][1],r,i),n,l):m?(u=new String(s[n][1]),u.regex_pattern=r):u=s[n][1]):u=o,a.push(o),p.push(u)},0,s.length-1),l[e]=new C(Lt,e,[a,p])}function M(e,t){var n=u(e.tokens.slice());o(function(e){var r=n[e][0],o=n[e].length>1?n[e][1]:n[e][0],i=n[e].length>2?n[e][2]:"";null===o?(t.line=t.line||[],t.line.push(r)):(t.block=t.block||[],t.block.push([r,o,i]))},0,n.length-1)}function O(e,t,r,o){var i=e.meta||r,l=!(!e.caseInsesitive&&!e.ci),s=n(t,function(e){return{word:e,meta:i,ci:l}});return o.autocomplete=(o.autocomplete||[]).concat(s),s}function S(e){e.Lex||(e.Lex={}),e.Syntax||(e.Syntax={});var n,r,o,i,s,a,u,c,f,m,h,g=e.Lex,d=e.Syntax,k=[g,d],$=k.length;for(h=0;$>h;){m=k[h++];for(o in m)m[pn](o)&&(n=o.split(":"),r=n[1]&&Un(n[1]).length?Un(n[1]):null,n=Un(n[0]),n.length||(n=o,r=null),n!==o&&(m[n]=m[o],p(m,o),r&&(r=r[$n](),i=m[n],s=t(i),Tn===s?m[n].type||(m[n].type=r):(m[n]={type:r},"error"===r?(m[n].type="action",m[n].error=i):"nop"===r?(m[n].type="action",m[n].nop=!0):"group"===r?(m[n].type="sequence",m[n].tokens=i):"action"===r&&qn===s?m[n][i]=!0:m[n].tokens=i))),g===m&&(zn&t(m[n])&&(m[n]={type:"simple",tokens:m[n]}),i=m[n],i.type&&(c=i.type=i.type[$n](),"line-block"===c?(i.type="block",i.multiline=!1,i.escape=!1):"escaped-line-block"===c?(i.type="block",i.multiline=!1,i.escape="\\"):"escaped-block"===c&&(i.type="block",i.multiline=!0,i.escape="\\"))))}m=g;for(n in m)if(m[pn](n))for(i=m[n];i.extend;)a=i.extend,p(i,"extend"),u=g[a],u&&(zn&t(u)&&(u=g[a]={type:"simple",tokens:u}),i=l(u,i));m=g;for(n in m)m[pn](n)&&(i=m[n],i.type?(c=i.type=i.type[$n](),"line-block"===c?(i.type="block",i.multiline=!1,i.escape=!1):"escaped-line-block"===c?(i.type="block",i.multiline=!1,i.escape="\\"):"escaped-block"===c&&(i.type="block",i.multiline=!0,i.escape="\\")):i["escaped-line-block"]?(i.type="block",i.multiline=!1,i.escape||(i.escape="\\"),i.tokens=i["escaped-line-block"],p(i,"escaped-line-block")):i["escaped-block"]?(i.type="block",i.multiline=!0,i.escape||(i.escape="\\"),i.tokens=i["escaped-block"],p(i,"escaped-block")):i["line-block"]?(i.type="block",i.multiline=!1,i.escape=!1,i.tokens=i["line-block"],p(i,"line-block")):i.comment?(i.type="comment",i.escape=!1,i.tokens=i.comment,p(i,"comment")):i.block?(i.type="block",i.tokens=i.block,p(i,"block")):i.simple?(i.type="simple",i.tokens=i.simple,p(i,"simple")):i.nop?(i.type="action",i.action=["nop",i.nop,!1],i.nop=!0):i.error?(i.type="action",i.action=["error",i.error,!!i["in-context"]],p(i,"error")):i[pn]("context")?(i.type="action",i.action=[i.context?"context-start":"context-end",i.context,!!i["in-context"]],p(i,"context")):i.indent?(i.type="action",i.action=["indent",i.indent,!!i["in-context"]],p(i,"indent")):i.outdent?(i.type="action",i.action=["outdent",i.outdent,!!i["in-context"]],p(i,"outdent")):i.unique?(i.type="action",i.action=["unique",qn&t(i.unique)?["_DEFAULT_",i.unique]:i.unique,!!i["in-context"]],p(i,"unique")):i.push?(i.type="action",i.action=["push",i.push,!!i["in-context"]],p(i,"push")):i[pn]("pop")?(i.type="action",i.action=["pop",i.pop,!!i["in-context"]],p(i,"pop")):i.type="simple","action"===i.type?i.ci=!(!i.caseInsesitive&&!i.ci):"block"===i.type||"comment"===i.type?(i.multiline=i[pn]("multiline")?!!i.multiline:!0,qn&t(i.escape)||(i.escape=!1)):"simple"===i.type&&(i.meta=i.autocomplete&&qn&t(i.meta)?i.meta:null,i.ci=!(!i.caseInsesitive&&!i.ci)));m=d;for(n in m)m[pn](n)&&(i=m[n],Tn!==t(i)||i.type?i.type&&(c=i.type=i.type[$n](),"group"===c&&i.match?(s=t(i.match),qn&s?(f=i.match[$n](),"alternation"===f||"either"===f?(i.type="alternation",p(i,"match")):"sequence"===f||"all"===f?(i.type="sequence",p(i,"match")):"zeroorone"===f?(i.type="zeroOrOne",p(i,"match")):"zeroormore"===f?(i.type="zeroOrMore",p(i,"match")):"oneormore"===f?(i.type="oneOrMore",p(i,"match")):(i.type="sequence",p(i,"match"))):Dn&s&&(i.type="repeat",i.repeat=i.match,p(i,"match"))):"either"===c?i.type="alternation":"all"===c?i.type="sequence":"lookahead"===c?i.type="positiveLookahead":"grammar"===c&&(i.type="subgrammar"),"subgrammar"!==i.type||i.tokens||(i.tokens=n)):i.ngram||i["n-gram"]?(i.type="ngram",i.tokens=i.ngram||i["n-gram"],i["n-gram"]?p(i,"n-gram"):p(i,"ngram")):i.sequence||i.all?(i.type="sequence",i.tokens=i.sequence||i.all,i.all?p(i,"all"):p(i,"sequence")):i.alternation||i.either?(i.type="alternation",i.tokens=i.alternation||i.either,i.either?p(i,"either"):p(i,"alternation")):i.zeroOrOne?(i.type="zeroOrOne",i.tokens=i.zeroOrOne,p(i,"zeroOrOne")):i.zeroOrMore?(i.type="zeroOrMore",i.tokens=i.zeroOrMore,p(i,"zeroOrMore")):i.oneOrMore?(i.type="oneOrMore",i.tokens=i.oneOrMore,p(i,"oneOrMore")):i.positiveLookahead||i.lookahead?(i.type="positiveLookahead",i.tokens=i.positiveLookahead||i.lookahead,i.lookahead?p(i,"lookahead"):p(i,"positiveLookahead")):i.negativeLookahead?(i.type="negativeLookahead",i.tokens=i.negativeLookahead,p(i,"negativeLookahead")):(i.subgrammar||i.grammar)&&(i.type="subgrammar",i.tokens=i.subgrammar||i.grammar,i.subgrammar?p(i,"subgrammar"):p(i,"grammar")));return e}function q(e,n,r){if(r=r||{},n=n||[],!e||!e.length)return n;var o,i,l,s,a,u,c;for(o=0,i=e.length;i>o;o++)if(a=e[o])if(It===a.type)if(a.autocompletions)for(l=0,s=a.autocompletions.length;s>l;l++)c=a.autocompletions[l],r[pn]("w_"+c.word)||(n.push(c),r["w_"+c.word]=1);else qn===a.token.ptype&&qn&t(a.token.pattern)&&a.token.pattern.length>1&&(r[pn]("w_"+a.token.pattern)||(n.push({word:""+a.token.pattern,meta:a.name,ci:!!a.ci}),r["w_"+a.token.pattern]=1));else if(Pt===a.type)q(a.token,n,r);else if(Jt&a.type){l=0,s=a.token.length;do q([u=a.token[l++]],n,r);while(s>l&&(Bt&u.type&&1>u.min||Dt===u.type))}else Bt&a.type&&q([a.token[0]],n,r);return n}function E(e,n,r,o){for(var i;qn&t(i=n[e]||r[e]);)e=i;return o?e:n[e]||r[e]||e}function L(e,t){return e.length>1?o(t?function(t,n){var r=n[n.length-1],o=e[t];r===o||n.push(o)}:function(t,n){var r=n[n.length-1],o=e[t];Zn.test(o)&&Zn.test(r)&&r===o||n.push(o)},1,e.length-1,[e[0]]):e}function D(e,r,o){var l,s,a,u,c,p,f,m,h,g,b,y,v,x,w,_=!1;if(w=e.modifier?e.modifier:null,m=new String(Un(e)),m.pos=0,1===m.length)y=""+e,r[y]||o[y]||(r[y]={type:"simple",tokens:e}),e=y;else{for(l=[],s=[],a="",v=[];m.pos<m.length;)if(h=m[bn](m.pos++),Kn.test(h))if(a.length&&(_?(s.length&&(b=s[s.length-1],y=b+"."+a,p=r[y]||o[y],p||(f=E(b,r,o),o[y]=qn&t(f)?new String(f):i(f),o[y].modifier=a),s[s.length-1]=y),_=!1):"0"===a?(r[sn]||(r[sn]={type:"simple",tokens:0}),s.push(sn)):"^^"===a?(r[tn]||(r[tn]={type:"simple",tokens:Tt}),s.push(tn)):"^^1"===a?(r[nn]||(r[nn]={type:"simple",tokens:jt}),s.push(nn)):"^"===a?(r[rn]||(r[rn]={type:"simple",tokens:Rt}),s.push(rn)):"$"===a?(r[on]||(r[on]={type:"simple",tokens:Ft}),s.push(on)):(r[a]||o[a]||(r[a]={type:"simple",tokens:a}),s.push(a)),a=""),"."===h)s.length&&m.pos<m.length&&!Kn.test(m[bn](m.pos))?_=!0:a+=h;else if('"'===h||"'"===h)u=$(m,h,"\\",!0),u.length?(y=""+u,r[y]||(r[y]={type:"simple",tokens:u}),s.push(y)):(r[an]||(r[an]={type:"simple",tokens:""}),s.push(an));else if("["===h)u=$(m,"]","\\",!0),y="["+u+"]",r[y]||(r[y]={type:"simple",tokens:k("^(["+("^"===u[bn](0)?"^"+d(u.slice(1)):d(u))+"])")}),s.push(y);else{if("]"===h){a+=h;continue}if("/"===h)u=$(m,h,"\\",!1),g="",u.length&&(m.pos<m.length&&"i"===m[bn](m.pos)&&(m.pos++,g="i"),y="/"+u+"/"+g,r[y]||(r[y]={type:"simple",tokens:k("^("+u+")",g)}),s.push(y));else if("*"===h||"+"===h||"?"===h)s.length?(b=s[s.length-1],y=""+b+h,o[y]||(o[y]={type:"*"===h?"zeroOrMore":"+"===h?"oneOrMore":"zeroOrOne",tokens:[b]}),s[s.length-1]=y):a+=h;else if("{"===h)s.length?(c=$(m,"}",!1),c=n(c.split(","),Un),c[0]=c[0].length?parseInt(c[0],10)||0:0,0>c[0]&&(c[0]=0),2>c.length?c.push(c[0]):c[1]=c[1].length?parseInt(c[1],10)||yn:yn,0>c[1]&&(c[1]=0),b=s[s.length-1],y=""+b+["{",c[0],",",isFinite(c[1])?c[1]:"","}"].join(""),o[y]||(o[y]={type:"repeat",repeat:[c[0],c[1]],tokens:[b]}),s[s.length-1]=y):a+=h;else{if("}"===h){a+=h;continue}"&"===h||"!"===h?s.length?(b=s[s.length-1],y=""+b+h,o[y]||(o[y]={type:"!"===h?"negativeLookahead":"positiveLookahead",tokens:[b]}),s[s.length-1]=y):a+=h:"|"===h?(_=!1,s=L(s),s.length>1?(y=""+s.join(" "),o[y]||(o[y]={type:"sequence",tokens:s}),l.push(y)):s.length?l.push(s[0]):a+=h,s=[]):"("===h?(v.push([s,l,a]),s=[],l=[],a=""):")"===h&&(s=L(s),s.length>1?(y=""+s.join(" "),o[y]||(o[y]={type:"sequence",tokens:s}),l.push(y)):s.length&&l.push(s[0]),s=[],l=L(l,1),l.length>1?(y=""+l.join(" | "),o[y]||(o[y]={type:"alternation",tokens:l})):l.length&&(y=l[0]),l=[],x=v.pop(),s=x[0],l=x[1],a=x[2],b=y,y="("+b+")",o[y]||(o[y]=i(E(b,r,o))),s.push(y))}}else a+=h;a.length&&(_?(s.length&&(b=s[s.length-1],y=b+"."+a,p=r[y]||o[y],p||(f=E(b,r,o),o[y]=qn&t(f)?new String(f):i(f),o[y].modifier=a),s[s.length-1]=y),_=!1):"0"===a?(r[sn]||(r[sn]={type:"simple",tokens:0}),s.push(sn)):"^^"===a?(r[tn]||(r[tn]={type:"simple",tokens:Tt}),s.push(tn)):"^^1"===a?(r[nn]||(r[nn]={type:"simple",tokens:jt}),s.push(nn)):"^"===a?(r[rn]||(r[rn]={type:"simple",tokens:Rt}),s.push(rn)):"$"===a?(r[on]||(r[on]={type:"simple",tokens:Ft}),s.push(on)):(r[a]||o[a]||(r[a]={type:"simple",tokens:a}),s.push(a))),a="",s=L(s),s.length>1?(y=""+s.join(" "),o[y]||(o[y]={type:"sequence",tokens:s}),l.push(y)):s.length&&l.push(s[0]),s=[],l=L(l,1),l.length>1?(y=""+l.join(" | "),o[y]||(o[y]={type:"alternation",tokens:l}),e=y):l.length&&(e=l[0]),l=[]}return w&&(r[e]||o[e])&&((r[e]||o[e]).modifier=w),e}function T(e,i,l,s,c,p,f,m,h,g,d){var k,$,b,y,v,x,S,q=null,L=null,j=null;if(Tt===e||jt===e||Rt===e||Ft===e)return new I(e,Tt===e?tn:jt===e?$T_FBNL$:Rt===e?rn:on,e,L);if(!1===e||0===e)return new I(Ct,sn,0,L);if(""===e)return new I(At,an,"",L);if(null===e)return new I(It,ln,wn,L,j);if(Dn&t(e)&&(b=e,e="NGRAM_"+b.join("_"),s[e]||(s[e]={type:"ngram",tokens:b})),e=""+e,m[e])return m[e];if(v=E(e,l,s),qn&t(v)&&(v=D(v,l,s),v=l[v]||s[v]||null),!v)return null;if(k=v.type?en[v.type[$n]().replace(Wn,"")]||It:It,L=v.msg||null,j=v.modifier||null,$=v.tokens,It&k){if(Tt===$||jt===$||Rt===$||Ft===$||!1===$||0===$)return q=new I($||Ct,e,$||0,L),m[e]=q,q;if(""===$)return q=new I(At,e,"",L),m[e]=q,q;if(null===$)return q=new I(It,e,wn,L,j),m[e]=q,q;if(!$)return null}if(Dt&k)v[pn]("action")?"nop"===v.action[0]?v.action[0]=bt:"error"===v.action[0]?v.action[0]=yt:"context-start"===v.action[0]?v.action[0]=xt:"context-end"===v.action[0]?v.action[0]=wt:"push"===v.action[0]?v.action[0]=_t:"pop"===v.action[0]?v.action[0]=Mt:"unique"===v.action[0]?v.action[0]=vt:"indent"===v.action[0]?v.action[0]=Ot:"outdent"===v.action[0]&&(v.action[0]=St):v[pn]("nop")?v.action=[bt,v.nop,!!v["in-context"]]:v[pn]("error")?v.action=[yt,v.error,!!v["in-context"]]:v[pn]("context")?v.action=[v.context?xt:wt,v.context,!!v["in-context"]]:v[pn]("context-start")?v.action=[xt,v["context-start"],!!v["in-context"]]:v[pn]("context-end")?v.action=[wt,v["context-end"],!!v["in-context"]]:v[pn]("push")?v.action=[_t,v.push,!!v["in-context"]]:v[pn]("pop")?v.action=[Mt,v.pop,!!v["in-context"]]:v[pn]("unique")?v.action=[vt,qn&t(v.unique)?["_DEFAULT_",v.unique]:v.unique,!!v["in-context"]]:v[pn]("indent")?v.action=[Ot,v.indent,!!v["in-context"]]:v[pn]("outdent")&&(v.action=[St,v.outdent,!!v["in-context"]]),v.nop&&(v.action[0]=bt),q=new I(Dt,e,v.action.slice(),L,j),q.ci=!!v.caseInsensitive||v.ci,m[e]=q;else if($=a($),It&k){S=v.autocomplete?O(v,An&t(v.autocomplete)?a(v.autocomplete):$,e,d):null;var F={};if(x="undefined"!=typeof v.combine?v.combine:Dn&t(v.tokens)?!0:!1,q=new I(It,e,w(e,$.slice(),i,x,!(!v.caseInsensitive&&!v.ci),p,f,F),L,j,null,S),F.keywords&&(q.keywords=F.keywords.join("|")),m[e]=q,null!=v.except){var R,C,A=a(v.except),z=A.length,P=[];for(R=0;z>R;R++)A[R]&&(C=T(A[R],i,l,s,c,p,f,m,h,g,d),C&&P.push(C));P.length&&(q.except=P)}}else zt&k?(Nt===k&&M(v,g),q=new I(k,e,_(e,$.slice(),i,p,f),L),q.empty=v[pn]("empty")?!!v.empty:!0,q.mline=v[pn]("multiline")?!!v.multiline:!0,q.esc=v[pn]("escape")?v.escape:!1,q.inter=!!c[e+".inside"],Nt===k&&v.interleave&&h.push(N(q)),j&&(q.modifier=j),m[e]=q):Xt&k&&(Zt===k?m[e]=new I(Zt,e,$,L,j):Vt===k?(y=u($),q=n(y,function(t,n){return new I(Vt,e+"_NGRAM_"+n,null,L,j)}),m[e]=q,o(function(e){q[e].token=a(r(y[e],function(e,t){return e.concat(T(t,i,l,s,c,p,f,m,h,g,d))},[]))},0,y.length-1)):(Kt===k||Qt===k?q=new I(k,e,null,L,j):Bt&k&&Dn&t(v.repeat)?(q=new I(Bt,e,null,L,j),q.min=v.repeat[0],q.max=v.repeat[1]):Gt===k?(q=new I(Gt,e,null,L,j),q.min=0,q.max=1):Wt===k?(q=new I(Wt,e,null,L,j),q.min=0,q.max=yn):Yt===k?(q=new I(Yt,e,null,L,j),q.min=1,q.max=yn):q=Pt===k?new I(Pt,e,null,L,j):new I(Ut,e,null,L,j),m[e]=q,q.token=a(r($,function(e,t){return e.concat(T(t,i,l,s,c,p,f,m,h,g,d))},[]))));return m[e]}function j(e,t){var n,r,o=e.Style,i=e.Lex,l=e.Syntax,s=[],a={};for(n in o)o[pn](n)&&(r=i[n]||l[n],!r||"block"!=r.type&&"comment"!==r.type||(t&&(o[n+".inside"]||o[n])?(n=o[n+".inside"]||o[n],a[pn](n)||(s.push(n),a[n]=1)):t||a[pn](n)||(s.push(n),a[n]=1)));return s}function F(e){var n={};return e.Lex=e.Lex||{},e.Syntax=e.Syntax||{},e=S(e),e.Parser&&e.Parser.length&&o(function r(i,l){var s,a,u,c=l[i];n[c]||(Dn&t(c)&&(s=c,c="NGRAM_"+s.join("_"),e.Syntax[c]||(e.Syntax[c]={type:"ngram",tokens:s})),a=E(c,e.Lex,e.Syntax),qn&t(a)&&(a=D(a,e.Lex,e.Syntax),a=e.Lex[a]||e.Syntax[a]||null),a&&(n[c]=a,u=a.type?en[a.type[$n]().replace(Wn,"")]||It:It,Xt&u&&o(r,0,a.tokens.length-1,a.tokens)))},0,e.Parser.length-1,e.Parser),e}function R(e){var n,o,l,s,a,u,c,p,f,m,h,g,d,k;return e.__parsed?e:(n=e.RegExpID||null,l=e.Extra?i(e.Extra):{},s=e.Style?i(e.Style):{},a=null,u=null,c=e.Lex?i(e.Lex):{},p=e.Syntax?i(e.Syntax):{},f={},m={},h={},d={},k={},g=[],o=e.Parser?i(e.Parser):[],e=S({Style:s,Fold:a,Match:u,Lex:c,Syntax:p,$parser:null,$interleaved:null,$comments:null,$autocomplete:null,$extra:l,__parsed:0}),e.$parser=r(o,function(e,r){var o=T(r,n,c,p,s,f,m,h,g,d,k)||null;return o&&(Dn&t(o)?e=e.concat(o):e.push(o)),e},[]),e.$interleaved=g&&g.length?g:null,e.$comments=d,e.$autocomplete=k&&k.autocomplete&&k.autocomplete.length?k.autocomplete:null,e.__parsed=1,e)}function C(e,n,r,o,i){var l,s,a=this;l=a.type=e,a.name=n,a.pattern=r,s=a.ptype=o||qn,a.key=i||0,Et===l?a.key=!1!==i:Lt===l?a.pattern[0]=new C(Et,n+"_Start",r[0],null,!1):wn===s?a.pattern=null:Fn===s&&(a.pattern=Fn&t(r)?[r,0]:[r[0],r[1]||0])}function A(e,n,r,o){var i,l,s,a,u,c,p,f,m,h,g,d=e,k=d.type,$=d.pattern,v=d.key;if(Lt===k){if(i=d.name,s=$[0],a=$[1],c=A(s,n,r,o))return u=a[c[0]],f=t(u),m=s.pattern[c[0]].ptype,Fn===m&&Cn&f&&(u.regex_pattern?(p=b(u,c[1],0,1),u=new C(qt,i+"_End",y(p,u.regex_pattern,{}),Fn)):(p=_n&f?c[1][u+1]:b(u,c[1]),u=new C(qt,i+"_End",p,p.length>1?qn:En))),u}else if(Et===k){for(h=0,g=$.length;g>h;h++)if(p=A($[h],n,r,o))return v?[h,p[1]]:p}else{if(l=d.ptype,wn===l)return!1!==r&&n.end(),[v,""];if(Fn===l){if(p=n.slice(n.pos).match($[0]),p&&0===p.index)return!1!==r&&n.mov(p[$[1]||0].length),[v,$[1]>0?p[$[1]]:p]}else if(Ln===l){if(!0===o){p=-1;var x,w;for(g=$.length-1;g>=0;g--)x=n.indexOf($[bn](g),n.pos),x>-1&&(-1===p||p>x)&&(p=x,w=$[bn](g));if(p>-1)return!1!==r&&(n.pos=p+1),[v,w]}else if(p=n[bn](n.pos)||null,p&&-1<$.indexOf(p))return!1!==r&&n.mov(1),[v,p]}else if(En===l){if(!0===o){if(p=n.indexOf($,n.pos),p>-1)return!1!==r&&(n.pos=p+1),[v,$]}else if(p=n[bn](n.pos)||null,$===p)return!1!==r&&n.mov(1),[v,p]}else if(qn===l)if(g=$.length,!0===o){if(p=n.indexOf($,n.pos),p>-1)return!1!==r&&(n.pos=p+g),[v,$]}else if($===n.substr(n.pos,g))return!1!==r&&n.mov(g),[v,$]}return!1}function I(e,t,n,r,o,i,l,s){var a=this;a.type=e,a.name=t,a.token=n,a.modifier=o||null,a.except=i||null,a.autocompletions=l||null,a.keywords=s||null,a.pos=null,a.msg=r||null,a.$msg=null,a.status=0,a.empty=!1,a.ci=!1,a.mline=!0,a.esc=!1,a.inter=!1,a.found=0,a.min=0,a.max=1,a.i0=0,a.$id=null}function z(){var e=this;e.T=0,e.id=null,e.type=null,e.match=null,e.str="",e.pos=null,e.block=null}function N(e,t,n,r){var o=new I(e.type,e.name,e.token,e.msg,e.modifier,e.except,e.autocompletions,e.keywords);return o.empty=e.empty,o.ci=e.ci,o.mline=e.mline,o.esc=e.esc,o.inter=e.inter,o.found=e.found,o.min=e.min,o.max=e.max,o.i0=e.i0,t&&(o.status|=ht),n&&(o.modifier=n),r&&(o.$id=r),o}function P(e){var t=e.name;return e.$msg?e.$msg:e.status&ht?'Token "'+t+'"'+(e.keywords?": "+e.keywords:"")+" Expected":'Syntax Error: "'+t+'"'}function U(e,t,n,r,o,i,l){e.status&ft&&(e.err[t+"_"+n+"_"+r+"_"+o+"_"+(i?i.name:"ERROR")]=[t,n,r,o,l||P(i)])}function B(e,t,n){return t<e.length?e.splice(t,0,n):e.push(n),e}function G(e,t,n,r){var o,i,l,s,a=e.stack,u=0,c=1/0,p=-1;if(i=t.pos,t.spc(),l=t.pos,o=a.length,t.pos<t.length){for(;o>u&&(s=a[o-u-1],s.$id===r.$id);){for(;!(W(s,t,e,n)||(t.pos=s.pos>t.pos?s.pos:t.pos+1,a.length=o,t.pos>=t.length)););a.length=o,t.pos<t.length&&c>t.pos?(c=t.pos,p=o-u):c===t.pos&&o-u>p&&(c=t.pos,p=o-u),t.pos=l,u++}c<t.length?(t.pos=c,a.length=p):t.end()}return l>=i&&t.pos===l}function W(e,t,n,r){if(!e)return!1;var o=e.type,i=Xt&o?Q:zt&o?K:Dt&o?Y:H;return i(e,t,n,r)}function Y(e,n,r,o){var i,l,s,a,u,c,p,f,m,h,g,d,k,$,y,v,x=e,w=x.token||null,_=x.ci,M=x.name,O=!(r.status&ft);if(x.status=0,x.$msg=null,O||!w||!o||!o.pos)return!0;if(v=!!(zt&o.T),bt===w[0]||v&&!o.block)return!0;if(i=w[0],l=w[1],k=w[2],u=x.msg,c=r.queu,p=r.symb,f=r.ctx,v?(y=o.block.match||o.block.str,m=o.block.pos[0][0],h=o.block.pos[0][1],g=o.block.pos[0][2],d=o.block.pos[0][3]):(y=o.match||o.str,m=o.pos[0],h=o.pos[1],g=o.pos[2],d=o.pos[3]),yt===i)return!u&&qn&t(l)&&(u=l),x.$msg=u?b(u,y,!0):'Error "'+M+'"',U(r,m,h,g,d,x,P(x)),x.status|=gt,!1;if(wt===i)f.length&&f.shift();else if(xt===i)f.unshift({symb:{},queu:[]});else if(Mt===i){if(k){if(!f.length)return!0;c=f[0].queu}if(l){if(l=b(l,y),_&&(l=l[$n]()),!c.length||l!==c[0][0])return c.length?(x.$msg=u?b(u,[c[0][0],l],!0):'Tokens do not match "'+c[0][0]+'","'+l+'"',$=P(x),U(r,c[0][1],c[0][2],c[0][3],c[0][4],x,$),U(r,m,h,g,d,x,$),c.shift()):(x.$msg=u?b(u,["",l],!0):'Token does not match "'+l+'"',$=P(x),U(r,m,h,g,d,x,$)),x.status|=gt,!1;c.shift()}else c.shift()}else if(_t===i&&l){if(k){if(!f.length)return!0;c=f[0].queu}l=b(l,y),_&&(l=l[$n]()),x.$msg=u?b(u,l,!0):'Token does not match "'+l+'"',c.unshift([l,m,h,g,d,P(x)])}else if(vt===i){if(k){if(!f.length)return!0;p=f[0].symb}if(s=l[1],a=l[0],s=b(s,y,!0),_&&(s=s[$n]()),p[pn](a)||(p[a]={}),p[a][pn](s))return x.$msg=u?b(u,s,!0):'Duplicate "'+s+'"',$=P(x),U(r,p[a][s][0],p[a][s][1],p[a][s][2],p[a][s][3],x,$),U(r,m,h,g,d,x,$),x.status|=gt,!1;p[a][s]=[m,h,g,d]}return!0}function H(e,t,n,r,o){var i,l,s=e,a=s.token,u=s.modifier,c=s.type,p=s.name,f=s.except,m=n.line,h=t.pos,g=null,d=!1;if(s.status&=kt,s.$msg=o?null:s.msg||null,s.pos=t.pos,f&&!o){l=Z(n,t);for(var k=0,$=f.length;$>k;k++)if(i=f[k],s!==i&&It===i.type&&H(i,t,n,r,1))return s.pos=i.pos,Z(n,t,l),!1}return Tt===c?d=0===n.line:jt===c?d=n.bline+1===n.line:Rt===c?d=t.sol():Ft===c?(t.spc(),t.eol()?d=p:(s.pos=t.pos,t.bck(h))):Ct===c?(s.status=0,d=!0):At===c?(s.status&ht&&t.spc()&&!t.eol()?(s.pos=t.pos,t.bck(h),s.status|=gt):d=!0,s.status&=dt):wn===a?(t.end(),d=u||p):(g=A(a,t))&&(g=g[1],d=u||p),o?d:(!1!==d&&(r.T=c,r.id=p,r.type=d,r.str=t.sel(h,t.pos),r.match=g,r.pos=[m,h,m,t.pos]),!d&&s.status&&s.$msg&&(s.$msg=b(s.$msg,p,!0)),d)}function K(e,t,n,r){var o,i,l,s,a,u,c,p,f,m,h,g,d,k,$,y,v,x,w,_,M,O,S=e,q=S.name,E=S.type,L=S.modifier,D=S.token,T=S.mline,j=S.inter,F=j?q+".inside":q,R=S.esc,C=!!R,I="",z="",P="",U="",G=S.$id||q,Y=n.stack,H=n.outer,K=H&&H[2],Q=H&&H[1];if(S.status&=kt,S.$msg=S.msg||null,S.pos=t.pos,_=n.line,M=t.pos,Nt===E&&(S.status&=dt),$=S.status&ht,l=0,s=0,n.block&&n.block.name===q?(s=1,l=1,k=F,o=n.block.end,p=n.block.sp,m=n.block.ip,f=n.block.ep,I=n.block.s,z=n.block.i):!n.block&&(o=A(D,t))&&(s=1,k=q,v=t.pos,p=[_,M],m=[[_,v],[_,v]],f=[_,v],I=t.sel(M,v),z="",U="",n.block={name:q,end:o,sp:p,ip:m,ep:f,s:I,i:z,e:U}),s){if(w=Y.length,i=wn===o.ptype,y=i||S.empty,j){if(i&&l&&t.sol())return S.status&=dt,n.block=null,!1;if(!l)return v=t.pos,r.T=E,r.id=q,r.type=L||k,r.str=t.sel(M,v),r.match=null,r.pos=[_,M,_,v],B(Y,w,N(S,$,0,G)),L||k}if(v=t.pos,a=Q?i&&t.eol():A(o,t),c=T,u=0,a)k=i?F:q,U=t.sel(v,t.pos);else if(x=t.pos,g=!1,Q||C||Ln!==o.ptype&&En!==o.ptype&&qn!==o.ptype){for(;!t.eol();){if(Q){if(W(Q,t,K,r)){if(t.pos>x){i&&(a=1);break}return!0}if(i){d=t.nxt(1),P+=d;continue}}if(v=t.pos,!g&&A(o,t)){j&&t.pos>v&&v>x?(k=F,t.bck(v),u=1):(k=q,a=1),U=t.sel(v,t.pos);break}d=t.nxt(1),P+=d,g=C&&!g&&R===d,v=t.pos}i&&t.eol()&&(a=1)}else(O=A(o,t,!0,!0))?j&&t.pos>v+O[1].length?(k=F,t.mov(-O[1].length),u=1,P=t.sel(v,t.pos)):(k=q,a=1,P=t.sel(v,t.pos-O[1].length),U=O[1]):(t.end(),k=F,u=1,P=t.sel(v,t.pos));return c=T||C&&g,z+=P,m[1]=[_,v],f=[_,t.pos],a&&!y&&m[0][0]===m[1][0]&&m[0][1]===m[1][1]?(n.block=null,!1):(a||!c&&!u?n.block=null:(n.block.ip=m,n.block.ep=f,n.block.i=z,n.block.e=U,B(Y,w,N(S,$,0,G))),r.T=E,r.id=q,r.type=L||k,r.str=t.sel(M,t.pos),r.match=null,r.pos=[_,M,f[0],f[1]],S.pos=t.pos,n.block||(h=I+z+U,r.block={str:h,match:[h,z,I,U],part:[h,I,z,U],pos:[[p[0],p[1],f[0],f[1]],[p[0],p[1],m[0][0],m[0][1]],[m[0][0],m[0][1],m[1][0],m[1][1]],[m[1][0],m[1][1],f[0],f[1]]]}),L||k)}return S.status&&S.$msg&&(S.$msg=b(S.$msg,q,!0)),!1}function Q(e,t,n,r){var o,i,l,s,a,u,c,p,m,h,g,d,k,$,b,y,v=e,x=v.type,w=(v.name,v.token),_=w.length,M=v.modifier;if(v.status&=kt,v.$msg=v.msg||null,d=n.stack,p=t.pos,m=d.length,v.pos=t.pos,u=0,c=0,Zt===x){v.status&=kt;var O=new String(w[0]),S=d.length?d[d.length-1]:null;return O.subgrammar=1,O.next=S?new I(Kt,S.name,[S]):null,O.required=S?S.status&ht:0,O}if(Pt===x){for($=f(),v.status|=ht,k=[],y=Z(n,t),g=0,h=g;_>h;h++){if(o=N(w[h],1,M,$),i=W(o,t,n,r),v.pos=o.pos,o.status&ht&&(u++,k.push(P(o))),!1!==i)return i;o.status&gt&&(c++,Z(n,t,y))}return u>0?v.status|=ht:v.status&=dt,_===c&&u>0?v.status|=gt:v.status&=kt,v.status&&!v.$msg&&k.length&&(v.$msg=k.join(" | ")),!1}if(Jt&x){b=!!(x&Ut),$=v.$id||f(),b?v.status|=ht:v.status&=dt,y=Z(n,t),g=0;do o=N(w[g++],b,M,$),i=W(o,t,n,r);while(_>g&&(!0===i&&Ht&o.type||!1===i&&!(o.status&ht)));if(v.pos=o.pos,!1!==i){if(!0!==i||Ct!==o.type)for(h=_-1;h>=g;h--)B(d,m+_-h-1,N(w[h],1,M,$));return i.subgrammar&&_>g&&(i.next=new I(Kt,w[g].name,[w[g]]),i.required=w[g].status&ht),i}return o.status&gt?(b?v.status|=gt:v.status&=kt,Z(n,t,y)):b&&o.status&ht&&(v.status|=gt),v.status&&!v.$msg&&(v.$msg=P(o)),!1}if(Ht&x)return Zt&w[0].type?!0:(y=Z(n,t,null,!1),i=W(N(w[0],0),t,n,r),Z(n,t,y),Qt===x?!1===i:!1!==i);for($=v.$id||f(),l=v.found,s=v.min,a=v.max,v.status=0,k=[],y=Z(n,t),h=0;_>h;h++){if(o=N(w[h],1,M,$),i=W(o,t,n,r),v.pos=o.pos,!1!==i){if(++l,a>=l)return v.found=l,B(d,m,N(v,0,0,f())),v.found=0,i;break}o.status&ht&&(u++,k.push(P(o))),o.status&gt&&Z(n,t,y)}return s>l&&(v.status|=ht),(l>a||s>l&&u>0)&&(v.status|=gt),v.status&&!v.$msg&&k.length&&(v.$msg=k.join(" | ")),!1}function V(e,t){var n=this;n.id=e?m("state"):"state",t instanceof V?(n.line=t.line,n.bline=t.bline,n.status=t.status,n.stack=t.stack.slice(),n.token=t.token,n.block=t.block,n.outer=t.outer?[t.outer[0],t.outer[1],new V(e,t.outer[2])]:null,n.status&ft?(n.queu=t.queu,n.symb=t.symb,n.ctx=t.ctx,n.err=t.err):(n.queu=null,n.symb=null,n.ctx=null,n.err=null),n.$eol$=t.$eol$,n.$blank$=t.$blank$):(n.line=-1,n.bline=-1,n.status=t||0,n.stack=[],n.token=null,n.block=null,n.outer=null,n.status&ft?(n.queu=[],n.symb={},n.ctx=[],n.err={}):(n.queu=null,n.symb=null,n.ctx=null,n.err=null),n.$eol$=!0,n.$blank$=!0),n.toString=function(){return n.id+"_"+n.line+"_"+n.bline+"_"+(n.block?n.block.name:"0")}}function Z(e,t,n,r){return n?(e.status=n[0],e.block=n[1],e.outer=n[2],e.stack.length>n[3]&&(e.stack.length=n[3]),t&&t.pos>n[4]&&t.bck(n[4]),void 0):(n=[e.status,e.block,e.outer,e.stack.length,t?t.pos:1/0],!1===r&&(e.status=0),n)}function J(e){e.id=null,e.line=null,e.bline=null,e.status=null,e.stack=null,e.token=null,e.block=null,e.outer=null,e.queu=null,e.symb=null,e.ctx=null,e.err=null}function X(e,t,n){var r=new String(e);return r.start=t||0,r.pos=n||0,r.sol=function(){return 0===r.pos},r.eol=function(){return r.pos>=r.length},r.end=function(){return r.pos=r.length,r},r.mov=function(e){return r.pos=0>e?dn(0,r.pos+e):kn(r.length,r.pos+e),r},r.bck=function(e){return r.pos=dn(0,e),r},r.sft=function(){return r.start=r.pos,r},r.nxt=function(e,t){var n,o,i="";if(!0===e){for(t=t||X.$NONSPC$;r.pos<r.length&&t.test(n=r[bn](r.pos++));)i+=n;return i.length?i:null}for(e=e||1,o=0;o++<e&&r.pos<r.length;)i+=r[bn](r.pos++);return i},r.cur=function(e){var t=r.slice(r.start,r.pos);return e&&(r.start=r.pos),t},r.sel=function(e,t){return r.slice(e,t)},r.spc=function(e,t){var n;return(n=r.slice(r.pos).match(t||X.$SPC$))?(!1!==e&&r.mov(n[0].length),n[0]):void 0},r}function et(e,t,n,r,o){var i,l,s;for(null==t&&(t=e.search(X.$NONSPC$),-1==t&&(t=e.length)),i=r||0,l=o||0;;){if(s=e.indexOf("	",i),0>s||s>=t)return l+(t-i);l+=s-i,l+=n-l%n,i=s+1}}function tt(e,r){return An&t(e)&&(e=k("\\b("+n(a(e).sort(Bn),d).join("|")+")\\b")),!1===r?function(t){return!t||!e.test(t)}:function(t){return!!t&&e.test(t)}}function nt(e,t,n){for(;;){n.lastIndex=e.col;var r=n.exec(e.text);if(!r){if(e.next()){e.text=e.line(e.row);continue}return}{if(t(e.token(e.row,r.index+1)))return e.col=r.index+r[0].length,r;e.col=r.index+1}}}function rt(e,t,n,r,o,i){for(var l,s,a;;){if(l=e.text.indexOf(o,e.col),-1===l){if(e.next()){e.text=e.line(e.row);continue}return}if(t(e.token(e.row,l+1)))return s=e.text.lastIndexOf(i,l),a=s>-1&&!X.$NOTEMPTY$.test(e.text.slice(s+1,l)),e.col=l+1,a?"autoclosed":"regular";e.col=l+1}}function ot(e,t,n,r,o,i,l,s,a,u){if(-1===e){var c,p,f,m,h,g,d,k,$=1,b=t.first(),y=(i.length,l.length,!1===o);e:for(c=n;c>=b;--c)for(p=t.line(c),f=p.length,m=c===n?r-1:f;;){if(0>m)break;if(h=p.lastIndexOf(i,m),g=p.lastIndexOf(l,m),0>h&&0>g)break;
if(m=dn(h,g),y||u||t.token(c,m+1)==o)if(m===g)++$;else if(0===--$){d=c,k=m;break e}--m}return null==d||a&&d===n&&k===r?!1:[d,k,n,r]}var c,p,f,m,h,g,v,x,$=1,w=t.last(),y=(i.length,l.length,!1===o);e:for(c=n;w>=c;++c)for(p=t.line(c),f=p.length,m=c===n?r:0;;){if(m>=f)break;if(h=p.indexOf(i,m),g=p.indexOf(l,m),0>h&&0>g)break;if(0>h&&(h=f),0>g&&(g=f),m=kn(h,g),y||u||t.token(c,m+1)==o)if(m===h)++$;else if(0===--$){v=c,x=m;break e}++m}return null==v||a&&n===v&&x===r?!1:[n,r,v,x]}function it(e){var t=e?e.data:null;t&&t.load&&t.ace_worker_base&&(importScripts(t.ace_worker_base),ace.define("ace/grammar_worker",["require","exports","module","ace/worker/mirror"],function(e,t){var n=e("./worker/mirror").Mirror;t.AceGrammarWorker=g(n,{constructor:function(e){var t=this;n.call(t,e),t.setTimeout(300)},$parser:null,init_parser:function(e,t){var n=this,r=Object.keys(e.subgrammars);if(n.$parser=new ar(R(e.grammar),null,!1),r&&r.length)for(var o=0,i=r.length;i>o;o++)n.$parser.subparser(r[o],new ar(R(e.subgrammars[r[o]]),null,!1));n.sender.callback(1,t)},onUpdate:function(){var e,t,n,r,o,i=this,l=i.sender,s=i.$parser;if(!s)return void l.emit("ace_grammar_worker_ok",null);if(e=i.doc.getValue(),!e||!e.length)return void l.emit("ace_grammar_worker_ok",null);if(t=s.parse(e,ft),!t)return void l.emit("ace_grammar_worker_ok",null);o=[];for(n in t)t[pn](n)&&(r=t[n],o.push({row:r[0],column:r[1],text:r[4]||"Syntax Error",type:"error",raw:r[4]||"Syntax Error",range:[r[0],r[1],r[2],r[3]]}));o.length?l.emit("ace_grammar_worker_error",o):l.emit("ace_grammar_worker_ok",null)}})}))}function lt(e,t){e[t]||(e[t]=[]);var n,r=e[t];if(r&&r.length)for(n=0;n<r.length;n++)e.removeMarker(r[n]);r.length=0}function st(e,t,n,r){var o,i,l,s=t.length;for(lt(e,n),l=e[n],o=0;s>o;o++)i=t[o],i.range&&(l.push(e.addMarker(new r(i.range[0],i.range[1],i.range[2],i.range[3]),"ace_error-marker","text",0)),p(i,"range"))}function at(e,t){lt(e,t),e.clearAnnotations()}function ut(e,t,n,r){st(e,t,n,r),e.setAnnotations(t)}function ct(e,t,n){n=n||sr;var r=n.require("ace/range").Range,o=n.require("ace/worker/worker_client").WorkerClient,i=g(o,{constructor:function(e,t,r,o){var i=this,l=n.require,s=n.config;if(i.$sendDeltaQueue=i.$sendDeltaQueue.bind(i),i.changeListener=i.changeListener.bind(i),i.onMessage=i.onMessage.bind(i),l.nameToUrl&&!l.toUrl&&(l.toUrl=l.nameToUrl),!o)if(s.get("packaged")||!l.toUrl)o=o||s.moduleUrl(t,"worker");else{var a=i.$normalizePath;o=o||a(l.toUrl("ace/worker/worker.js",null,"_"));var u={};e.forEach(function(e){u[e]=a(l.toUrl(e,null,"_").replace(/(\.js)?(\?.*)?$/,""))})}try{i.$worker=new Worker(o)}catch(c){if(!(c instanceof window.DOMException))throw c;var p=i.$workerBlob(o),f=window.URL||window.webkitURL,m=f.createObjectURL(p);i.$worker=new Worker(m),f.revokeObjectURL(m)}i.$worker.postMessage({load:!0,ace_worker_base:or.base+"/"+s.moduleUrl("ace/worker/json")+ir}),i.$worker.postMessage({init:!0,tlns:u,module:t,classname:r}),i.callbackId=1,i.callbacks={},i.$worker.onmessage=i.onMessage}}),l=n.require("ace/mode/folding/fold_mode").FoldMode,s=g(l,{constructor:function(e){var t=this;l.call(t),t.$mode=e,t.$folds={}},getFoldWidget:function(e,t,n){var r,o,i,l,s=this;return s.$mode.supportCodeFolding?(r=s.$folds,(o=s.$mode.folder(e,t,n))?r[o[0]]=r[o[2]]=o:(o=r[n])&&(n===o[0]?(delete r[n],o===r[o[2]]&&delete r[o[2]]):n===o[2]&&(i=o[0],(l=s.$mode.folder(e,t,i))?(r[l[0]]=r[l[2]]=l,o===r[i]&&delete r[i],o===r[n]&&delete r[n]):(o===r[i]&&delete r[i],o===r[n]&&delete r[n]))),o=r[n]?"markbeginend"===t?n===o[2]&&o[0]!==o[2]?"end":"start":n===o[0]?"start":"":""):""},getFoldWidgetRange:function(e,t,n){if(this.$mode.supportCodeFolding){var o=this.$folds[n];return o?new r(o[0],o[1],o[2],o[3]):void 0}}}),a=n.require("ace/mode/text").Mode,u=g(a,{constructor:function(e){var n=this;a.call(n),n.$id=m("ace_grammar_mode"),n.$grammar=e,n.$parser=new ur.Parser(R(e),t),n.$parser.Mode=n,n.$tokenizer=n.$parser,n.lineCommentStart=n.$parser.LC,n.blockComment=n.$parser.BC,n.$markers$=n.$id+"$markers$",n.foldType="fold_"+n.$id,n.foldingRules=new s(n),n.matchType="match_"+n.$id,n.matcher.clear=function(e){e.$bracketHighlight&&(e.removeMarker(e.$bracketHighlight),e.$bracketHighlight=null);var t=e[n.matchType];if(e[n.matchType]=null,t&&t.length)for(var r=0,o=t.length;o>r;r++)e.removeMarker(t[r])}},supportGrammarAnnotations:!1,createWorker:function(e){var t=this,n=t.$markers$;if(!t.supportGrammarAnnotations)return at(e,n),null;var o=new i(["ace"],"ace/grammar_worker","AceGrammarWorker",or.file+ir);return o.attachToDocument(e.getDocument()),o.call("init_parser",[{grammar:t.$grammar,subgrammars:t.getSubgrammars()}],function(){o.on("ace_grammar_worker_error",function(t){var o=t.data;ut(e,o,n,r)}),o.on("ace_grammar_worker_ok",function(){at(e,n)})}),o.on("terminate",function(){at(e,n)}),o},supportAutoCompletion:!0,autocompleter:function c(e,t,r,o){var i=this;return i.supportAutoCompletion?e.parser.autocomplete(e.state,t,r,o,c.options||{},n):[]},getKeywords:function(){return[]},supportCodeFolding:!0,folder:function(e,t,r){var o=this,i=e.getState(r),l=i&&i.parser||o.$parser,s=l.fold(e,r,n);return s?(s.start=!0,s.end=!1,s):void 0},supportCodeMatching:!0,matcher:function p(e,t){var o=this;return!1===t?(e.$highlightBrackets$&&(e.$highlightBrackets=e.$highlightBrackets$,e.$highlightBrackets$=null),o):(e.$highlightBrackets$||(e.$highlightBrackets$=e.$highlightBrackets),e.$highlightBrackets=function(){if(o.supportCodeMatching){var e=this;p.clear(e.session),e.$highlightPending||(e.$highlightPending=!0,setTimeout(function(){e.$highlightPending=!1;var t,i,l=e.getSelection();l.isBackwards()?(t=l.lead,i=l.anchor):(t=l.anchor,i=l.lead);var s=e.session.getTokenAt(i.row,i.column-1),a=s&&s.mode?s.mode.parser:o.$parser,u=a.match(e.session,i.row,i.column,n);null!=u&&(e.session[o.matchType]=!1===u?l.isEmpty()?[e.session.addMarker(new r(i.row,i.column-1,i.row,i.column),"ace_error-marker","text")]:[e.session.addMarker(new r(t.row,t.column,i.row,i.column),"ace_error-marker","text")]:!1===u.match?[e.session.addMarker(new r(u[0],u[1],u[2],u[3]),"ace_error-marker","text")]:[e.session.addMarker(new r(u[0],u[1],u[2],u[3]),"ace_selection","text"),e.session.addMarker(new r(u[4],u[5],u[6],u[7]),"ace_selection","text")])},50))}},o)},getSubgrammars:function(){for(var e=this,t=e.$parser,n=Object.keys(t.$subgrammars),r={},o=0,i=n.length;i>o;o++)r[n[o]]=t.$subgrammars[n[o]].Mode.$grammar;return r},submode:function(e,t){var n=this;return n.$parser.subparser(e,t.$parser),n},dispose:function(){var e=this;e.$parser&&e.$parser.dispose(),e.$tokenizer=e.$parser=e.$grammar=e.autocompleter=e.getCompletions=e.foldingRules=e.folder=e.matcher=null}});return u.prototype.getCompletions=u.prototype.autocompleter,new u(e)}var pt=1,ft=2,mt=32,ht=4,gt=8,dt=~ht,kt=~gt,$t=ht|gt,bt=0,yt=4,vt=8,xt=16,wt=17,_t=32,Mt=33,Ot=128,St=129,qt=2,Et=4,Lt=8,Dt=4,Tt=8,jt=9,Ft=16,Rt=32,Ct=128,At=256,It=512,zt=1024,Nt=1025,Pt=2048,Ut=4096,Bt=8192,Gt=8193,Wt=8194,Yt=8195,Ht=16384,Kt=Ht,Qt=16385,Vt=32768,Zt=65536,Jt=Ut|Vt,Xt=Pt|Ut|Bt|Ht|Vt|Zt,en={action:Dt,simple:It,block:zt,comment:Nt,subgrammar:Zt,alternation:Pt,sequence:Ut,repeat:Bt,zeroorone:Gt,zeroormore:Wt,oneormore:Yt,positivelookahead:Kt,negativelookahead:Qt,ngram:Vt},tn="$|SOF|$",nn="$|NONBLANK|$",rn="$|SOL|$",on="$|EOL|$",ln="$|ENDLINE|$",sn="$|EMPTY|$",an="$|NONSPACE|$",un=void 0,cn="prototype",pn="hasOwnProperty",fn="propertyIsEnumerable",mn=Object[cn],hn=mn.toString,gn=Object.create,dn=Math.max,kn=Math.min,$n="toLowerCase",bn="charAt",yn=1/0,vn=4,xn=8,wn=16,_n=32,Mn=33,On=34,Sn=64,qn=128,En=129,Ln=130,Dn=256,Tn=512,jn=1024,Fn=2048,Rn=4096,Cn=qn|_n,An=qn|Dn,In=Fn|Dn,zn=qn|Dn|Fn,Nn={"[object Number]":_n,"[object String]":qn,"[object Array]":Dn,"[object RegExp]":Fn,"[object Date]":Rn,"[object Function]":jn,"[object Object]":Tn},Pn=/^\s+|\s+$/g,Un=String[cn].trim?function(e){return e.trim()}:function(e){return e.replace(Pn,"")},Bn=function(e,t){return t.length-e.length},Gn=/\r\n|\r|\n/g,Wn=/[\-_]/g,Yn=0,Hn=/([.*+?^${}()|[\]\/\\\-])/g,Kn=/^([.!&\[\]{}()*+?\/|'"]|\s)/,Qn="(\\s|\\W|$)",Vn=/(\\\\)*?\\\d/,Zn=/[*+]$/;X.$SPC$=/^[\s\u00a0]+/,X.$NONSPC$=/[^\s\u00a0]/,X.$NOTEMPTY$=/\S/,X.$SPACE$=/^\s*/;var Jn=g({constructor:function(e,t,n){var r=this;r.$grammar=e,r.$DEF=t||null,r.$ERR=n||null,r.DEF=r.$DEF,r.ERR=r.$ERR,r.$folders=[],r.$matchers=[],r.$subgrammars={}},$grammar:null,$subgrammars:null,$folders:null,$matchers:null,$n$:"name",$t$:"type",$v$:"token",$DEF:null,$ERR:null,DEF:null,ERR:null,dispose:function(){var e=this;return e.$grammar=e.$subgrammars=null,e.$folders=e.$matchers=null,e.$n$=e.$t$=e.$v$=null,e.$DEF=e.$ERR=e.DEF=e.ERR=null,e},token:function(e,t,n){var r,o,i,l,s,a,u,c,p,f,m,h,g,d,k,$,b,y,v=this,x=v.$grammar,w=x.Style,_=v.DEF,M=v.ERR,O={},S=v.$n$,q=v.$t$,E=v.$v$,L=x.$interleaved,D=x.$parser,T=D.length,j=L?L.length:0,F=t.outer,R=F&&F[2],C=F&&F[1];if(e.sol()&&(t.$eol$&&(t.$blank$&&(t.bline=t.line),t.$eol$=!1,t.line++),t.$blank$=t.bline+1===t.line),t.$actionerr$=!1,t.token=null,l=t.stack,s=t.line,a=e.pos,m=!1,g=!0,h=!1,d=!1,F&&v===F[0]){if(O[S]=null,O[q]=_,O[E]=null,C){if(i=new z,W(C,e,R,i))return t.outer=null,{parser:v,state:R};for(e.nxt(1);!e.eol();){if(W(C,e,R,i)){if(e.pos>a)break;return t.outer=null,{parser:v,state:R}}e.nxt(1)}}else e.spc(),e.eol()?d=!0:e.end();return O[E]=e.cur(1),t.$eol$=e.eol(),t.$blank$=t.$blank$&&(d||t.$eol$),O}if(l.length&&Ft===l[l.length-1].type&&e.sol()&&l.pop(),(!l.length||At!==l[l.length-1].type&&null==t.block)&&e.spc()){if(l.length&&Zt===l[l.length-1].type)return e.bck(a),r=l.pop(),m=W(r,e,t,i),k=""+m,v.$subgrammars[k]?($=v.$subgrammars[k],b=new V(1,n[k]?n[k]:t.status),R=t):($=v,b=new V,R=t),b.outer=[v,m.next,R],{parser:$,state:b,toInner:k};g=!1,d=!0}if(O[S]=null,O[q]=_,O[E]=null,g)for(i=new z,u=0;g&&(l.length||T>u)&&!e.eol();){if(p=e.pos,f=l.length,C){if(e.spc(),W(C,e,R,i))return e.pos>p?(O[E]=e.cur(1),t.$eol$=e.eol(),t.$blank$=t.$blank$&&!0,O):(t.outer=null,{parser:F[0],state:R,fromInner:t});e.bck(p)}if(y=!1,j&&!t.block)for(c=0;j>c;c++)if(r=L[c],m=W(r,e,t,i),!1!==m){y=!0;break}if(g&&!y){if(!l.length&&u>=T)break;r=l.length?l.pop():D[u++],m=W(r,e,t,i)}if(!1===m){if(r.status&$t){t.token=r,d=G(t,e,i,r)||d,h=!0,g=!1;break}}else{if(m.subgrammar)return k=""+m,v.$subgrammars[k]?($=v.$subgrammars[k],b=new V(1,n[k]?n[k]:t.status),R=t):($=v,b=new V,R=t),b.outer=[v,m.next,R],{parser:$,state:b,toInner:k};if(l.length>1&&e.eol()&&zt&l[l.length-1].type&&t.block&&t.block.name===l[l.length-1].name)for(c=l.length-2;c>=0&&Dt===l[c].type;)o=l[c--],Y(o,e,t,i),o.status&gt&&(t.$actionerr$=!0);else if(l.length&&Dt===l[l.length-1].type)for(;l.length&&Dt===l[l.length-1].type;)o=l.pop(),Y(o,e,t,i),o.status&gt&&(t.$actionerr$=!0);if(!0!==m){g=!1;break}}}return g&&e.nxt(1),O[E]=e.cur(1),!1!==m?(m=w[m]||_,O[S]=r.name):h?(m=M,t.status&ft&&U(t,s,a,s,e.pos,r)):m=_,O[q]=m,t.$eol$=e.eol(),t.$blank$=t.$blank$&&(d||t.$eol$),O},get:function(e,t){for(var n=t.parser.token(e,t.state,t.inner);n&&n.parser;)n.fromInner&&t.parser!==n.parser&&(t.state.err=n.fromInner.err,t.name&&(t.inner[t.name]=n.fromInner)),n.state.err=t.state.err,n.state.line=t.state.line,n.state.bline=t.state.bline,n.state.$blank$=t.state.$blank$,n.state.$eol$=t.state.$eol$,n.state.$full_parse$=t.state.$full_parse$,t.state=n.state,t.parser=n.parser,t.name=n.toInner,n=t.parser.get(e,t);return n},tokenize:function(e,t){var n=[];if(e.eol())t.state.line++,t.state.$blank$&&t.state.bline++;else for(;!e.eol();)n.push(t.parser.get(e,t));return n},parse:function(e,t){var n,r,i,l,s,a,u=(e||"").split(Gn),c=u.length,p=null;if(t=t||pt,i=!!(t&ft),l=!!(t&pt),r={parser:this,state:new V(0,t),inner:{}},r.state.$full_parse$=!0,o(function(e){u[e]+="\n"},0,c-2),l?p=o(t&mt?function(e,t){t._=t._.concat(r.parser.tokenize(X(u[e]),r,e))}:function(e,t){t._.push(r.parser.tokenize(X(u[e]),r,e))},0,c-1,{_:[]})._:o(function(e){var t=X(u[e]);if(t.eol())r.state.line++,r.state.$blank$&&r.state.bline++;else for(;!t.eol();)r.parser.get(t,r)},0,c-1),n=r.state,i&&n.queu&&n.queu.length)for(;n.queu.length;)s=n.queu.shift(),U(n,s[1],s[2],s[3],s[4],null,s[5]);return a=l&&i?{tokens:p,errors:n.err}:l?p:n.err,J(n),r=n=null,a},autocompletion:function(e,t){var n,r,o,i=e.stack,l={},s=q([e.token],[],l);for(t=t||0,n=i.length-1;n>=0;n--)if(r=i[n],o=r.type,Bt&o){if(s=q([r],s,l),0<r.min&&t<s.length)break}else if((It===o||Pt===o||Jt&o)&&(s=q([r],s,l),t<s.length))break;return s},subparser:function(e,t){var n=this;return!1===t?n.$subgrammars[pn](e)&&delete n.$subgrammars[e]:t&&(n.$subgrammars[e]=t),n},iterator:function(){},validate:function(){},autocomplete:function(){},indent:function(){},fold:function(){},match:function(){}}),Xn={Pattern:function(){return function(){}},Indented:function(e){return e=e||X.$NOTEMPTY$,function(t){var n,r,o,i,l,s,a,u,c,p=t.row;if(n=t.line(p),e.test(n)){for(r=t.indentation(n),s=null,l=n.length,u=p+1,c=t.last();c>=u;++u)if(o=t.line(u),i=t.indentation(o),i>r)s=u,a=o.length;else if(e.test(o))break;return s?[p,l,s,a]:void 0}}},Delimited:function(e,t,n,r){return e&&t&&e.length&&t.length?(n=n||s,function(o){var i,l,s,a,u,c,p=o.row,f=o.col;for(i=o.line(p),s=f,a=0;;){var u=0>=s?-1:i.lastIndexOf(e,s-1);if(-1!==u){if(1===a&&f>u)return;if(n(c=o.token(p,u+1))){l=u+e.length;break}s=u-1}else{if(1===a)return;a=1,s=i.length}}return ot(1,o,p,l,c,e,t,n,!0,r)}):function(){}},MarkedUp:function(e,t,n,r,o){return e=e||s,t=t||"<",n=n||">",r=r||"/",o=o||k(d(t)+"("+d(r)+"?)([a-zA-Z_\\-][a-zA-Z0-9_\\-:]*)","g"),function(i){i.col=0,i.min=i.first(),i.max=i.last(),i.text=i.line(i.row);for(var l,s,a,u,c,p,f,m,h,g=i.row;;){if(l=nt(i,e,o,t,n,r),!l||i.row!==g||!(s=rt(i,e,o,t,n,r)))return;if(!l[1]&&"autoclosed"!==s)for(a=[i.row,i.col],c=l[2],u=null,p=[];;){if(f=nt(i,e,o,t,n,r),g=i.row,m=i.col-(f?f[0].length:0),!f||!(s=rt(i,e,o,t,n,r)))return!1;if("autoclosed"!==s)if(f[1]){for(h=p.length-1;h>=0;--h)if(p[h]===f[2]){p.length=h;break}if(0>h&&(!c||c===f[2]))return[a[0],a[1],g,m]}else p.push(f[2])}}}}},er={Pattern:function(){return function(){}},Delimited:function(e,t,n,r){return e&&t&&e.length&&t.length?(n=n||s,function(o){var i,l=o.col,s=o.row,a=o.line(s),u=!1,c=e.length,p=t.length;return l>=c&&(1===c&&e===a.charAt(l-1)||e===a.slice(l-c,l))?(i=ot(1,o,s,l,u,e,t,n,!1,r),i?(i=[i[0],i[1]-c,i[0],i[1],i[2],i[3],i[2],i[3]+p],i.match="end"):(i=[s,l-c,s,l],i.match=!1),i):l>=p&&(1===p&&t===a.charAt(l-1)||t===a.slice(l-p,l))?(i=ot(-1,o,s,l-p,u,e,t,n,!1,r),i?(i=[i[0],i[1],i[0],i[1]+c,i[2],i[3],i[2],i[3]+p],i.match="start"):(i=[s,l-p,s,l],i.match=!1),i):void 0}):function(){}},MarkedUp:function(){return function(){}}},tr=!("undefined"==typeof global||"[object global]"!==hn.call(global)),nr=!(tr||"undefined"==typeof navigator),rr=!!(nr&&"function"==typeof importScripts&&navigator instanceof WorkerNavigator),or=function(e,t,n){var r,o=null,i=null,l=null;return e?(o=__filename,i=__dirname,l=__dirname):n?(o=self.location.href,i=o.split("/").slice(0,-1).join("/")):t&&(l=document.location.href.split("#")[0].split("?")[0].split("/").slice(0,-1).join("/"),(r=document.getElementsByTagName("script"))&&r.length&&(o=r[r.length-1].src,i=o.split("/").slice(0,-1).join("/"))),{path:i,file:o,base:l}}(tr,nr,rr),ir="?nocache="+m("nonce")+"_"+~~(1e3*Math.random()),lr=function(){return(this.name||"")+"==>"+this.state.toString()},sr="undefined"!=typeof ace?ace:{require:function(){return{}},config:{}},ar=g(Jn,{constructor:function cr(e,n,r){var i,l=this,a=null,u=null;if(Jn.call(l,e,"text","invalid"),l.$v$="value",l.DEF=n||l.$DEF,l.ERR=e.Style.error||l.$ERR,l.LC=e.$comments.line||null,l.BC=e.$comments.block?{start:e.$comments.block[0][0],end:e.$comments.block[0][1]}:null,!1!==r){if(e.$comments.block&&e.$comments.block.length){i=cr.Type("comment");for(var c=0,p=e.$comments.block.length;p>c;c++)l.$folders.push(cr.Fold.Delimited(e.$comments.block[c][0],e.$comments.block[c][1],i,"comment"))}e.Fold&&qn&t(e.Fold)?a=e.Fold[$n]():e.$extra.fold&&(a=e.$extra.fold[$n]()),u=e.Match&&qn&t(e.Match)?e.Match[$n]():e.$extra.match?e.$extra.match[$n]():a;var f=j(e,1);i=f.length?cr.Type(f,!1):s,a&&(a=a.split("+"),o(function(e,t){var n,r=Un(t[e]);"braces"===r?l.$folders.push(cr.Fold.Delimited("{","}",i)):"brackets"===r?l.$folders.push(cr.Fold.Delimited("[","]",i)):"parens"===r||"parentheses"===r?l.$folders.push(cr.Fold.Delimited("(",")",i)):"brace"===r||"cstyle"===r||"c"===r?(l.$folders.push(cr.Fold.Delimited("{","}",i)),l.$folders.push(cr.Fold.Delimited("[","]",i))):"indent"===r||"indentation"===r?l.$folders.push(cr.Fold.Indented()):"tags"===r||"markup"===r||"html"===r||"xml"===r?(l.$folders.push(cr.Fold.Delimited("<![CDATA[","]]>",cr.Type(["comment","tag"],!1))),l.$folders.push(cr.Fold.MarkedUp(cr.Type("tag"),"<",">","/"))):-1<(n=r.indexOf(","))&&l.$folders.push(cr.Fold.Delimited(r.slice(0,n),r.slice(n+1),i))},0,a.length-1,a)),u&&(u=u.split("+"),o(function(e,t){var n,r=Un(t[e]);"braces"===r?l.$matchers.push(cr.Match.Delimited("{","}")):"brackets"===r?l.$matchers.push(cr.Match.Delimited("[","]")):"parens"===r||"parentheses"===r?l.$matchers.push(cr.Match.Delimited("(",")")):"brace"===r||"cstyle"===r||"c"===r?(l.$matchers.push(cr.Match.Delimited("{","}")),l.$matchers.push(cr.Match.Delimited("[","]")),l.$matchers.push(cr.Match.Delimited("(",")"))):"tags"===r||"markup"===r||"html"===r||"xml"===r?l.$matchers.push(cr.Match.MarkedUp(cr.Type("tag"),"<",">","/")):-1<(n=r.indexOf(","))&&l.$matchers.push(cr.Match.Delimited(r.slice(0,n),r.slice(n+1)))},0,u.length-1,u))}},LC:null,BC:null,dispose:function(){var e=this;return e.LC=e.BC=null,Jn[cn].dispose.call(e)},tokenize:function(e,t){var n,r=[];if(e.eol())t.state.line++,t.state.$blank$&&t.state.bline++;else for(;!e.eol();)n=t.parser.get(e,t),n.mode=t,r.push(n);return r},getLineTokens:function(e,t,n){var r,o=this;return r=t?{parser:t.parser,state:new V(1,t.state),inner:t.inner,name:t.name,toString:lr}:{parser:o,state:new V(1),inner:{},name:null,toString:lr},{tokens:r.parser.tokenize(X(e),r,n),state:r}},autocomplete:function(e,t,n,o,i){var l=this,s=[];if(l.$grammar.$autocomplete){i=i||{};var a=i[pn]("caseInsesitiveMatch")?!!i.caseInsesitiveMatch:!1,u=i[pn]("prefixMatch")?!!i.prefixMatch:!0,c=i[pn]("inContext")?!!i.inContext:!1,p=o,f=p[$n](),m=p.length,h=!1,g=1e3,d=function(e,t){var n,r,o,i,l,s,c,d=t.word,k=d.length;return m?k>=m&&(n=t.meta,r=!!d.ci,c=a||r,c?(l=d[$n](),s=f):(l=d,s=p),(i=l.indexOf(s))>=0&&(!u||0===i)&&(o=c?d.indexOf(p):i,e.push({name:d,value:d,meta:n,score:1e3-10*(k-m)-5*(0>o?i+3:o)}))):e.push({name:d,value:d,meta:t.meta,score:h?1e3-10*k:g--}),e};c?(h=!1,s=r(l.autocompletion(e),d,s),s.length||(h=!0,s=r(l.$grammar.$autocomplete,d,s))):(h=!0,s=r(l.$grammar.$autocomplete,d,s))}return s},iterator:function(e){var t=e.getTabSize();return{row:0,col:0,min:0,max:0,line:function(t){return e.getLine(t)},first:function(){return 0},last:function(){return e.getLength()-1},next:function(){var e=this;if(!(e.row>=e.max))return e.col=0,e.row++,!0},prev:function(){var e=this;if(!(e.row<=e.min))return e.col=0,e.row--,!0},indentation:function(e){return et(e,null,t)},state:function(t){var n=e.getState(t);return n.state||n},token:function(t,n){return e.getTokenAt(t,n).type},tokens:function(t){return e.getTokens(t)}}},fold:function(e,t,n){var r,o,i,l=this,s=l.$folders,a=s.length;if(a)for(o=l.iterator(e,n),o.row=t,o.col=0,r=0;a>r;r++)if((i=s[r](o))||!1===i)return i},match:function(e,t,n,r){var o,i,l,s=this,a=s.$matchers,u=a.length;if(u)for(i=s.iterator(e,r),i.row=t,i.col=n||0,o=0;u>o;o++)if((l=a[o](i))||!1===l)return l}});ar.Type=tt,ar.Fold=Xn,ar.Match=er,rr&&(onmessage=it);var ur=e.AceGrammar={VERSION:"4.0.0",clone:i,extend:l,pre_process:F,parse:R,getMode:ct,Parser:ar};return e.AceGrammar});