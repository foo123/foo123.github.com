/**
*
*   AceGrammar
*   @version: 4.0.0
*
*   Transform a grammar specification in JSON format, into an ACE syntax-highlight parser mode
*   https://github.com/foo123/ace-grammar
*   https://github.com/foo123/editor-grammar
*
**/!function(e,t,n){"use strict";"object"==typeof module&&module.exports?(module.$deps=module.$deps||{})&&(module.exports=module.$deps[t]=n.call(e)):"function"==typeof define&&define.amd&&"function"==typeof require&&"function"==typeof require.specified&&require.specified(t)?define(t,["module"],function(t){return n.moduleUri=t.uri,n.call(e)}):t in e||(e[t]=n.call(e)||1)&&"function"==typeof define&&define.amd&&define(function(){return e[t]})}(this,"AceGrammar",function(){"use strict";function e(e){var t=0;return null===e?t=xt:!0===e||!1===e||e instanceof Boolean?t=Ot:it===e?t=yt:(t=zt[mt.call(e)]||vt,t=wt===t||e instanceof Number?isNaN(e)?Mt:isFinite(e)?wt:_t:St===t||e instanceof String?1===e.length?qt:St:Lt===t||e instanceof Array?Lt:jt===t||e instanceof RegExp?jt:Ft===t||e instanceof Date?Ft:Dt===t||e instanceof Function?Dt:Tt===t?Tt:vt),t}function t(e,t,n,r){var o,s,a,l,i,u,c=e.length;if(arguments.length<4&&(r=c-1),0>r&&(r+=c),arguments.length<3&&(n=0),n>r)return[];if(n===r)return[t(e[n],n,n,r)];for(a=r-n+1,l=15&a,i=1&l,u=new Array(a),i&&(u[0]=t(e[n],n,n,r)),o=i;l>o;o+=2)s=n+o,u[o]=t(e[s],s,n,r),u[o+1]=t(e[s+1],s+1,n,r);for(o=l;a>o;o+=16)s=n+o,u[o]=t(e[s],s,n,r),u[o+1]=t(e[s+1],s+1,n,r),u[o+2]=t(e[s+2],s+2,n,r),u[o+3]=t(e[s+3],s+3,n,r),u[o+4]=t(e[s+4],s+4,n,r),u[o+5]=t(e[s+5],s+5,n,r),u[o+6]=t(e[s+6],s+6,n,r),u[o+7]=t(e[s+7],s+7,n,r),u[o+8]=t(e[s+8],s+8,n,r),u[o+9]=t(e[s+9],s+9,n,r),u[o+10]=t(e[s+10],s+10,n,r),u[o+11]=t(e[s+11],s+11,n,r),u[o+12]=t(e[s+12],s+12,n,r),u[o+13]=t(e[s+13],s+13,n,r),u[o+14]=t(e[s+14],s+14,n,r),u[o+15]=t(e[s+15],s+15,n,r);return u}function n(e,t,n,r,o){var s,a,l,i,u,c=e.length,p=n;if(arguments.length<5&&(o=c-1),0>o&&(o+=c),arguments.length<4&&(r=0),r>o)return p;if(r===o)return t(p,e[r],r);for(l=o-r+1,i=15&l,u=1&i,u&&(p=t(p,e[r],r)),s=u;i>s;s+=2)a=r+s,p=t(t(p,e[a],a),e[a+1],a+1);for(s=i;l>s;s+=16)a=r+s,p=t(t(t(t(t(t(t(t(t(t(t(t(t(t(t(t(p,e[a],a),e[a+1],a+1),e[a+2],a+2),e[a+3],a+3),e[a+4],a+4),e[a+5],a+5),e[a+6],a+6),e[a+7],a+7),e[a+8],a+8),e[a+9],a+9),e[a+10],a+10),e[a+11],a+11),e[a+12],a+12),e[a+13],a+13),e[a+14],a+14),e[a+15],a+15);return p}function r(e,t,n,r){if(t>n)return r;if(t===n)return e(t,r,t,n),r;var o,s,a=n-t+1,l=15&a,i=1&l;for(i&&e(t,r,t,n),o=i;l>o;o+=2)s=t+o,e(s,r,t,n),e(++s,r,t,n);for(o=l;a>o;o+=16)s=t+o,e(s,r,t,n),e(++s,r,t,n),e(++s,r,t,n),e(++s,r,t,n),e(++s,r,t,n),e(++s,r,t,n),e(++s,r,t,n),e(++s,r,t,n),e(++s,r,t,n),e(++s,r,t,n),e(++s,r,t,n),e(++s,r,t,n),e(++s,r,t,n),e(++s,r,t,n),e(++s,r,t,n),e(++s,r,t,n);return r}function o(t,n){var r,s,a,l,i=e(t),u=0;if(wt===e(n)?n>0?(u=n,n=!0):n=!1:n=!1!==n,Tt===i){s={};for(a in t)t[ct](a)&&t[pt](a)&&(r=e(t[a]),Tt===r?s[a]=n?o(t[a],u>0?u-1:n):t[a]:Lt===r?s[a]=n?o(t[a],u>0?u-1:n):t[a].slice():Ft===r?s[a]=new Date(t[a]):St&r?s[a]=t[a].slice():wt&r?s[a]=0+t[a]:s[a]=t[a])}else if(Lt===i)for(l=t.length,s=new Array(l),a=0;l>a;a++)r=e(t[a]),Tt===r?s[a]=n?o(t[a],u>0?u-1:n):t[a]:Lt===r?s[a]=n?o(t[a],u>0?u-1:n):t[a].slice():Ft===r?s[a]=new Date(t[a]):St&r?s[a]=t[a].slice():wt&r?s[a]=0+t[a]:s[a]=t[a];else s=Ft===i?new Date(t):St&i?t.slice():wt&i?0+t:t;return s}function s(){var t,n,r,a,l,i,u,c,p,f,m=arguments,h=m.length;if(1>h)return null;for(n=o(m[0]),r=1;h>r;r++)if(t=m[r])for(a in t)if(t[ct](a)&&t[pt](a))if(n[ct](a)&&n[pt](a)){if(p=e(n[a]),f=e(t[a]),Tt===p&&Tt===f)n[a]=s(n[a],t[a]);else if(Lt===p&&Lt===f){if(u=n[a],c=t[a],i=c.length,!i)continue;if(u.length)for(l=0;i>l;l++)0>u.indexOf(c[l])&&u.push(c[l]);else n[a]=c.slice()}}else n[a]=o(t[a]);return n}function a(){return!0}function l(t,n){return n||Lt!==e(t)?[t]:t}function i(t,n){return t=l(t),(n||Lt!==e(t[0]))&&(t=[t]),t}function u(t,n){return St&e(n)&&St&e(t)&&n.length&&n.length<=t.length&&n===t.substr(0,n.length)}function c(e,t,n){return n?e[t]=it:delete e[t],e}function p(e){return(e||"id_")+ ++Gt}function f(e){return(e||"uuid")+"_"+ ++Gt+"_"+(new Date).getTime()}function m(){var t,n,r,o,s,a,l=arguments,i=l.length;for(t=l[0]||{},s=1;i>s;s++)if(n=l[s],Tt===e(n))for(o in n)n[ct](o)&&n[pt](o)&&(r=n[o],a=e(r),wt&a?t[o]=0+r:Ft&a?t[o]=new Date(r):Ct&a?t[o]=r.slice():t[o]=r);return t}function h(e,t){var n,r=arguments.length,o="constructor";return 0===r?(e=Object,t={}):1===r?(t=e||{},e=Object):(e=e||Object,t=t||{}),t[ct](o)||(t[o]=function(){}),n=t[o],delete t[o],n[ut]=m(ht(e[ut]),t),n[ut][o]=n,n}function g(e){return e.replace(Yt,"\\$1")}function k(e,t){return new RegExp(e,t||"")}function d(e,t,n,r){var o,s,a,l,i=e.pos,u=e.length,c="",p=!!n;if(p){for(r=!!r,s=!1,l=0;u>i&&(o=e[$t](i++),t!==o||s);)a=n===o,s=!s&&a,r?(a&&l++,(!a||2&l)&&(c+=o,l=0)):c+=o;2&l&&(c+=n)}else for(;u>i&&(o=e[$t](i++),t!==o);)c+=o;return e.pos=i,c}function $(t,n,r,o){var s,a,l,i,u,c=!0===r?0:1,p=o?"\\":"$",f=o?92:36;for(St&e(n)&&(o&&(n=g(n)),n=[n,n,n],c=0),a=t.length,u="",s=0;a>s;)l=t[$t](s),a>s+1&&p===l?(i=t.charCodeAt(s+1),f===i?(u+=p,s+=2):i>=48&&57>=i?(u+=n[c+i-48]||"",s+=2):(u+=l,s+=1)):(u+=l,s+=1);return u}function b(t,n,r,o){if(!t||(wt|jt)&e(t))return t;var s,a=n?n.length||0:0,l="";if(St&e(o)?l=o:o&&(l=Kt),a&&n===t.substr(0,a)){var i,u,c,s,p,f=t.substr(a),m=f[$t](0),h="";for(s=f.length;s--&&(p=f[$t](s),m!==p);)"i"===p.toLowerCase()&&(h="i");return i=f.substring(1,s),u="^("+i+")",r[u]||(c=k(u,h),r[u]=c),r[u]}return l?(u="^("+g(t)+")"+l,r[u]||(c=k(u,h),r[u]=c),r[u]):t}function v(n,r,o){var s,a="";return St&e(r)?a=r:r&&(a=Kt),s=t(n.sort(Ut),g).join("|"),[k("^("+s+")"+a,o?"i":""),1]}function y(t,n,r,o){var s=e(n);if(wt===s)return n;if(o[t])return o[t];r=r||0;var a,l=0;return n&&n.isCharList&&(l=1,c(n,"isCharList")),a=xt===s?new R(qe,t,n,xt,r):qt===s?new R(qe,t,n,qt,r):At&s?new R(qe,t,n,jt,r):St&s?new R(qe,t,n,l?Et:St,r):n,o[t]=a}function x(t,n,r,o,s,a,i,c){if(i[t])return i[t];var p,f,m,h,g,k,d,$=0,w=0,_=1,M=St&e(o)?!0:!!o;if(p=l(n),m=p.length,1===m)d=y(t,b(p[0],r,a,o),0,i);else if(m>1){for(h=(m>>>1)+1,f=0;h>=f;f++)g=e(p[f]),k=e(p[m-1-f]),qt===g&&qt===k||(_=0),Lt&g||Lt&k?$=1:(jt&g||jt&k||u(p[f],r)||u(p[m-1-f],r))&&(w=1);if(_&&!M)p=p.slice().join(""),p.isCharList=1,d=y(t,p,0,i);else if(!M||$||w)if($||w){for(f=0;m>f;f++)Lt&e(p[f])?p[f]=x(t+"_"+f,p[f],r,o,s,a,i):p[f]=y(t+"_"+f,b(p[f],r,a),f,i);d=m>1?new R(Ee,t,p):p[0]}else{for(c&&(c.keywords=l(n).slice()),p=p.sort(Ut),f=0;m>f;f++)p[f]=y(t+"_"+f,b(p[f],r,a),f,i);d=m>1?new R(Ee,t,p):p[0]}else c&&(c.keywords=l(n).slice()),d=y(t,v(p,o,s),0,i)}return i[t]=d}function w(t,n,o,s,a){if(a[t])return a[t];var l=i(n),c=[],p=[];return r(function(n){var r,i,f,m;r=y(t+"_0_"+n,b(l[n][0],o,s),n,a),l[n].length>1?(f=u(l[n][1],o),m=f&&Qt.test(l[n][1]),jt!==r.ptype||St!==e(l[n][1])||!m&&f?i=y(t+"_1_"+n,b(l[n][1],o,s),n,a):m?(i=new String(l[n][1]),i.regex_pattern=o):i=l[n][1]):i=r,c.push(r),p.push(i)},0,l.length-1),a[t]=new R(Le,t,[c,p])}function _(e,t){var n=i(e.tokens.slice());r(function(e){var r=n[e][0],o=n[e].length>1?n[e][1]:n[e][0],s=n[e].length>2?n[e][2]:"";null===o?(t.line=t.line||[],t.line.push(r)):(t.block=t.block||[],t.block.push([r,o,s]))},0,n.length-1)}function M(e,n,r,o){var s=e.meta||r,a=!(!e.caseInsesitive&&!e.ci),l=t(n,function(e){return{word:e,meta:s,ci:a}});return o.autocomplete=(o.autocomplete||[]).concat(l),l}function O(t){t.Lex||(t.Lex={}),t.Syntax||(t.Syntax={});var n,r,o,a,l,i,u,p,f,m,h,g=t.Lex,k=t.Syntax,d=[g,k],$=d.length;for(h=0;$>h;){m=d[h++];for(o in m)m[ct](o)&&(n=o.split(":"),r=n[1]&&Pt(n[1]).length?Pt(n[1]):null,n=Pt(n[0]),n.length||(n=o,r=null),n!==o&&(m[n]=m[o],c(m,o),r&&(r=r[dt](),a=m[n],l=e(a),Tt===l?m[n].type||(m[n].type=r):(m[n]={type:r},"error"===r?(m[n].type="action",m[n].error=a):"nop"===r?(m[n].type="action",m[n].nop=!0):"group"===r?(m[n].type="sequence",m[n].tokens=a):"action"===r&&St===l?m[n][a]=!0:m[n].tokens=a))),g===m&&(It&e(m[n])&&(m[n]={type:"simple",tokens:m[n]}),a=m[n],a.type&&(p=a.type=a.type[dt](),"line-block"===p?(a.type="block",a.multiline=!1,a.escape=!1):"escaped-line-block"===p?(a.type="block",a.multiline=!1,a.escape="\\"):"escaped-block"===p&&(a.type="block",a.multiline=!0,a.escape="\\"))))}m=g;for(n in m)if(m[ct](n))for(a=m[n];a.extend;)i=a.extend,c(a,"extend"),u=g[i],u&&(It&e(u)&&(u=g[i]={type:"simple",tokens:u}),a=s(u,a));m=g;for(n in m)m[ct](n)&&(a=m[n],a.type?(p=a.type=a.type[dt](),"line-block"===p?(a.type="block",a.multiline=!1,a.escape=!1):"escaped-line-block"===p?(a.type="block",a.multiline=!1,a.escape="\\"):"escaped-block"===p&&(a.type="block",a.multiline=!0,a.escape="\\")):a["escaped-line-block"]?(a.type="block",a.multiline=!1,a.escape||(a.escape="\\"),a.tokens=a["escaped-line-block"],c(a,"escaped-line-block")):a["escaped-block"]?(a.type="block",a.multiline=!0,a.escape||(a.escape="\\"),a.tokens=a["escaped-block"],c(a,"escaped-block")):a["line-block"]?(a.type="block",a.multiline=!1,a.escape=!1,a.tokens=a["line-block"],c(a,"line-block")):a.comment?(a.type="comment",a.escape=!1,a.tokens=a.comment,c(a,"comment")):a.block?(a.type="block",a.tokens=a.block,c(a,"block")):a.simple?(a.type="simple",a.tokens=a.simple,c(a,"simple")):a.nop?(a.type="action",a.action=["nop",a.nop,!1],a.nop=!0):a.error?(a.type="action",a.action=["error",a.error,!!a["in-context"]],c(a,"error")):a[ct]("context")?(a.type="action",a.action=[a.context?"context-start":"context-end",a.context,!!a["in-context"]],c(a,"context")):a.indent?(a.type="action",a.action=["indent",a.indent,!!a["in-context"]],c(a,"indent")):a.outdent?(a.type="action",a.action=["outdent",a.outdent,!!a["in-context"]],c(a,"outdent")):a.unique?(a.type="action",a.action=["unique",St&e(a.unique)?["_DEFAULT_",a.unique]:a.unique,!!a["in-context"]],c(a,"unique")):a.push?(a.type="action",a.action=["push",a.push,!!a["in-context"]],c(a,"push")):a[ct]("pop")?(a.type="action",a.action=["pop",a.pop,!!a["in-context"]],c(a,"pop")):a.type="simple","action"===a.type?a.ci=!(!a.caseInsesitive&&!a.ci):"block"===a.type||"comment"===a.type?(a.multiline=a[ct]("multiline")?!!a.multiline:!0,St&e(a.escape)||(a.escape=!1)):"simple"===a.type&&(a.meta=a.autocomplete&&St&e(a.meta)?a.meta:null,a.ci=!(!a.caseInsesitive&&!a.ci)));m=k;for(n in m)m[ct](n)&&(a=m[n],Tt!==e(a)||a.type?a.type&&(p=a.type=a.type[dt](),"group"===p&&a.match?(l=e(a.match),St&l?(f=a.match[dt](),"alternation"===f||"either"===f?(a.type="alternation",c(a,"match")):"sequence"===f||"all"===f?(a.type="sequence",c(a,"match")):"zeroorone"===f?(a.type="zeroOrOne",c(a,"match")):"zeroormore"===f?(a.type="zeroOrMore",c(a,"match")):"oneormore"===f?(a.type="oneOrMore",c(a,"match")):(a.type="sequence",c(a,"match"))):Lt&l&&(a.type="repeat",a.repeat=a.match,c(a,"match"))):"either"===p?a.type="alternation":"all"===p?a.type="sequence":"lookahead"===p?a.type="positiveLookahead":"grammar"===p&&(a.type="subgrammar"),"subgrammar"!==a.type||a.tokens||(a.tokens=n)):a.ngram||a["n-gram"]?(a.type="ngram",a.tokens=a.ngram||a["n-gram"],a["n-gram"]?c(a,"n-gram"):c(a,"ngram")):a.sequence||a.all?(a.type="sequence",a.tokens=a.sequence||a.all,a.all?c(a,"all"):c(a,"sequence")):a.alternation||a.either?(a.type="alternation",a.tokens=a.alternation||a.either,a.either?c(a,"either"):c(a,"alternation")):a.zeroOrOne?(a.type="zeroOrOne",a.tokens=a.zeroOrOne,c(a,"zeroOrOne")):a.zeroOrMore?(a.type="zeroOrMore",a.tokens=a.zeroOrMore,c(a,"zeroOrMore")):a.oneOrMore?(a.type="oneOrMore",a.tokens=a.oneOrMore,c(a,"oneOrMore")):a.positiveLookahead||a.lookahead?(a.type="positiveLookahead",a.tokens=a.positiveLookahead||a.lookahead,a.lookahead?c(a,"lookahead"):c(a,"positiveLookahead")):a.negativeLookahead?(a.type="negativeLookahead",a.tokens=a.negativeLookahead,c(a,"negativeLookahead")):(a.subgrammar||a.grammar)&&(a.type="subgrammar",a.tokens=a.subgrammar||a.grammar,a.subgrammar?c(a,"subgrammar"):c(a,"grammar")));return t}function S(t,n,r){if(r=r||{},n=n||[],!t||!t.length)return n;var o,s,a,l,i,u,c;for(o=0,s=t.length;s>o;o++)if(i=t[o])if(Ie===i.type)if(i.autocompletions)for(a=0,l=i.autocompletions.length;l>a;a++)c=i.autocompletions[a],r[ct]("w_"+c.word)||(n.push(c),r["w_"+c.word]=1);else St===i.token.ptype&&St&e(i.token.pattern)&&i.token.pattern.length>1&&(r[ct]("w_"+i.token.pattern)||(n.push({word:""+i.token.pattern,meta:i.name,ci:!!i.ci}),r["w_"+i.token.pattern]=1));else if(Pe===i.type)S(i.token,n,r);else if(Je&i.type){a=0,l=i.token.length;do S([u=i.token[a++]],n,r);while(l>a&&(Be&u.type&&1>u.min||Te===u.type))}else Be&i.type&&S([i.token[0]],n,r);return n}function q(t,n,r,o){for(var s;St&e(s=n[t]||r[t]);)t=s;return o?t:n[t]||r[t]||t}function E(e,t){return e.length>1?r(t?function(t,n){var r=n[n.length-1],o=e[t];r===o||n.push(o)}:function(t,n){var r=n[n.length-1],o=e[t];Vt.test(o)&&Vt.test(r)&&r===o||n.push(o)},1,e.length-1,[e[0]]):e}function L(n,r,s){var a,l,i,u,c,p,f,m,h,$,b,v,y,x,w,_=!1;if(w=n.modifier?n.modifier:null,m=new String(Pt(n)),m.pos=0,1===m.length)v=""+n,r[v]||s[v]||(r[v]={type:"simple",tokens:n}),n=v;else{for(a=[],l=[],i="",y=[];m.pos<m.length;)if(h=m[$t](m.pos++),Ht.test(h))if(i.length&&(_?(l.length&&(b=l[l.length-1],v=b+"."+i,p=r[v]||s[v],p||(f=q(b,r,s),s[v]=St&e(f)?new String(f):o(f),s[v].modifier=i),l[l.length-1]=v),_=!1):"0"===i?(r[at]||(r[at]={type:"simple",tokens:0}),l.push(at)):"^^"===i?(r[tt]||(r[tt]={type:"simple",tokens:De}),l.push(tt)):"^^1"===i?(r[nt]||(r[nt]={type:"simple",tokens:je}),l.push(nt)):"^"===i?(r[rt]||(r[rt]={type:"simple",tokens:Re}),l.push(rt)):"$"===i?(r[ot]||(r[ot]={type:"simple",tokens:Fe}),l.push(ot)):(r[i]||s[i]||(r[i]={type:"simple",tokens:i}),l.push(i)),i=""),"."===h)l.length&&m.pos<m.length&&!Ht.test(m[$t](m.pos))?_=!0:i+=h;else if('"'===h||"'"===h)u=d(m,h,"\\",!0),u.length?(v=""+u,r[v]||(r[v]={type:"simple",tokens:u}),l.push(v)):(r[lt]||(r[lt]={type:"simple",tokens:""}),l.push(lt));else if("["===h)u=d(m,"]","\\",!0),v="["+u+"]",r[v]||(r[v]={type:"simple",tokens:k("^(["+("^"===u[$t](0)?"^"+g(u.slice(1)):g(u))+"])")}),l.push(v);else{if("]"===h){i+=h;continue}if("/"===h)u=d(m,h,"\\",!1),$="",u.length&&(m.pos<m.length&&"i"===m[$t](m.pos)&&(m.pos++,$="i"),v="/"+u+"/"+$,r[v]||(r[v]={type:"simple",tokens:k("^("+u+")",$)}),l.push(v));else if("*"===h||"+"===h||"?"===h)l.length?(b=l[l.length-1],v=""+b+h,s[v]||(s[v]={type:"*"===h?"zeroOrMore":"+"===h?"oneOrMore":"zeroOrOne",tokens:[b]}),l[l.length-1]=v):i+=h;else if("{"===h)l.length?(c=d(m,"}",!1),c=t(c.split(","),Pt),c[0].length?c[0]=parseInt(c[0],10)||0:c[0]=0,0>c[0]&&(c[0]=0),2>c.length?c.push(c[0]):c[1].length?c[1]=parseInt(c[1],10)||bt:c[1]=bt,0>c[1]&&(c[1]=0),b=l[l.length-1],v=""+b+["{",c[0],",",isFinite(c[1])?c[1]:"","}"].join(""),s[v]||(s[v]={type:"repeat",repeat:[c[0],c[1]],tokens:[b]}),l[l.length-1]=v):i+=h;else{if("}"===h){i+=h;continue}"&"===h||"!"===h?l.length?(b=l[l.length-1],v=""+b+h,s[v]||(s[v]={type:"!"===h?"negativeLookahead":"positiveLookahead",tokens:[b]}),l[l.length-1]=v):i+=h:"|"===h?(_=!1,l=E(l),l.length>1?(v=""+l.join(" "),s[v]||(s[v]={type:"sequence",tokens:l}),a.push(v)):l.length?a.push(l[0]):i+=h,l=[]):"("===h?(y.push([l,a,i]),l=[],a=[],i=""):")"===h&&(l=E(l),l.length>1?(v=""+l.join(" "),s[v]||(s[v]={type:"sequence",tokens:l}),a.push(v)):l.length&&a.push(l[0]),l=[],a=E(a,1),a.length>1?(v=""+a.join(" | "),s[v]||(s[v]={type:"alternation",tokens:a})):a.length&&(v=a[0]),a=[],x=y.pop(),l=x[0],a=x[1],i=x[2],b=v,v="("+b+")",s[v]||(s[v]=o(q(b,r,s))),l.push(v))}}else i+=h;i.length&&(_?(l.length&&(b=l[l.length-1],v=b+"."+i,p=r[v]||s[v],p||(f=q(b,r,s),s[v]=St&e(f)?new String(f):o(f),s[v].modifier=i),l[l.length-1]=v),_=!1):"0"===i?(r[at]||(r[at]={type:"simple",tokens:0}),l.push(at)):"^^"===i?(r[tt]||(r[tt]={type:"simple",tokens:De}),l.push(tt)):"^^1"===i?(r[nt]||(r[nt]={type:"simple",tokens:je}),l.push(nt)):"^"===i?(r[rt]||(r[rt]={type:"simple",tokens:Re}),l.push(rt)):"$"===i?(r[ot]||(r[ot]={type:"simple",tokens:Fe}),l.push(ot)):(r[i]||s[i]||(r[i]={type:"simple",tokens:i}),l.push(i))),i="",l=E(l),l.length>1?(v=""+l.join(" "),s[v]||(s[v]={type:"sequence",tokens:l}),a.push(v)):l.length&&a.push(l[0]),l=[],a=E(a,1),a.length>1?(v=""+a.join(" | "),s[v]||(s[v]={type:"alternation",tokens:a}),n=v):a.length&&(n=a[0]),a=[]}return w&&(r[n]||s[n])&&((r[n]||s[n]).modifier=w),n}function T(o,s,a,u,c,p,f,m,h,g,k){var d,$,b,v,y,O,S,E=null,D=null,j=null;if(De===o||je===o||Re===o||Fe===o)return new I(o,De===o?tt:je===o?$T_FBNL$:Re===o?rt:ot,o,D);if(!1===o||0===o)return new I(Ce,at,0,D);if(""===o)return new I(Ae,lt,"",D);if(null===o)return new I(Ie,st,xt,D,j);if(Lt&e(o)&&(b=o,o="NGRAM_"+b.join("_"),u[o]||(u[o]={type:"ngram",tokens:b})),o=""+o,m[o])return m[o];if(y=q(o,a,u),St&e(y)&&(y=L(y,a,u),y=a[y]||u[y]||null),!y)return null;if(d=y.type?et[y.type[dt]().replace(Wt,"")]||Ie:Ie,D=y.msg||null,j=y.modifier||null,$=y.tokens,Ie&d){if(De===$||je===$||Re===$||Fe===$||!1===$||0===$)return E=new I($||Ce,o,$||0,D),m[o]=E,E;if(""===$)return E=new I(Ae,o,"",D),m[o]=E,E;if(null===$)return E=new I(Ie,o,xt,D,j),m[o]=E,E;if(!$)return null}if(Te&d)y[ct]("action")?"nop"===y.action[0]?y.action[0]=be:"error"===y.action[0]?y.action[0]=ve:"context-start"===y.action[0]?y.action[0]=xe:"context-end"===y.action[0]?y.action[0]=we:"push"===y.action[0]?y.action[0]=_e:"pop"===y.action[0]?y.action[0]=Me:"unique"===y.action[0]?y.action[0]=ye:"indent"===y.action[0]?y.action[0]=Oe:"outdent"===y.action[0]&&(y.action[0]=Se):y[ct]("nop")?y.action=[be,y.nop,!!y["in-context"]]:y[ct]("error")?y.action=[ve,y.error,!!y["in-context"]]:y[ct]("context")?y.action=[y.context?xe:we,y.context,!!y["in-context"]]:y[ct]("context-start")?y.action=[xe,y["context-start"],!!y["in-context"]]:y[ct]("context-end")?y.action=[we,y["context-end"],!!y["in-context"]]:y[ct]("push")?y.action=[_e,y.push,!!y["in-context"]]:y[ct]("pop")?y.action=[Me,y.pop,!!y["in-context"]]:y[ct]("unique")?y.action=[ye,St&e(y.unique)?["_DEFAULT_",y.unique]:y.unique,!!y["in-context"]]:y[ct]("indent")?y.action=[Oe,y.indent,!!y["in-context"]]:y[ct]("outdent")&&(y.action=[Se,y.outdent,!!y["in-context"]]),y.nop&&(y.action[0]=be),E=new I(Te,o,y.action.slice(),D,j),E.ci=!!y.caseInsensitive||y.ci,m[o]=E;else if($=l($),Ie&d){S=y.autocomplete?M(y,Ct&e(y.autocomplete)?l(y.autocomplete):$,o,k):null;var F={};if(O="undefined"!=typeof y.combine?y.combine:!!(Lt&e(y.tokens)),E=new I(Ie,o,x(o,$.slice(),s,O,!(!y.caseInsensitive&&!y.ci),p,f,F),D,j,null,S),F.keywords&&(E.keywords=F.keywords.join("|")),m[o]=E,null!=y.except){var R,C,A=l(y.except),z=A.length,P=[];for(R=0;z>R;R++)A[R]&&(C=T(A[R],s,a,u,c,p,f,m,h,g,k),C&&P.push(C));P.length&&(E.except=P)}}else ze&d?(Ne===d&&_(y,g),E=new I(d,o,w(o,$.slice(),s,p,f),D),E.empty=y[ct]("empty")?!!y.empty:!0,E.mline=y[ct]("multiline")?!!y.multiline:!0,E.esc=y[ct]("escape")?y.escape:!1,E.inter=!!c[o+".inside"],Ne===d&&y.interleave&&h.push(N(E)),j&&(E.modifier=j),m[o]=E):Xe&d&&(Ze===d?m[o]=new I(Ze,o,$,D,j):Ve===d?(v=i($),E=t(v,function(e,t){return new I(Ve,o+"_NGRAM_"+t,null,D,j)}),m[o]=E,r(function(e){E[e].token=l(n(v[e],function(e,t){return e.concat(T(t,s,a,u,c,p,f,m,h,g,k))},[]))},0,v.length-1)):(Ke===d||Qe===d?E=new I(d,o,null,D,j):Be&d&&Lt&e(y.repeat)?(E=new I(Be,o,null,D,j),E.min=y.repeat[0],E.max=y.repeat[1]):We===d?(E=new I(We,o,null,D,j),E.min=0,E.max=1):Ge===d?(E=new I(Ge,o,null,D,j),E.min=0,E.max=bt):Ye===d?(E=new I(Ye,o,null,D,j),E.min=1,E.max=bt):E=Pe===d?new I(Pe,o,null,D,j):new I(Ue,o,null,D,j),m[o]=E,E.token=l(n($,function(e,t){return e.concat(T(t,s,a,u,c,p,f,m,h,g,k))},[]))));return m[o]}function D(e,t){var n,r,o=e.Style,s=e.Lex,a=e.Syntax,l=[],i={};for(n in o)o[ct](n)&&(r=s[n]||a[n],!r||"block"!=r.type&&"comment"!==r.type||(t&&(o[n+".inside"]||o[n])?(n=o[n+".inside"]||o[n],i[ct](n)||(l.push(n),i[n]=1)):t||i[ct](n)||(l.push(n),i[n]=1)));return l}function j(t){var n={};return t.Lex=t.Lex||{},t.Syntax=t.Syntax||{},t=O(t),t.Parser&&t.Parser.length&&r(function o(s,a){var l,i,u,c=a[s];n[c]||(Lt&e(c)&&(l=c,c="NGRAM_"+l.join("_"),t.Syntax[c]||(t.Syntax[c]={type:"ngram",tokens:l})),i=q(c,t.Lex,t.Syntax),St&e(i)&&(i=L(i,t.Lex,t.Syntax),i=t.Lex[i]||t.Syntax[i]||null),i&&(n[c]=i,u=i.type?et[i.type[dt]().replace(Wt,"")]||Ie:Ie,Xe&u&&r(o,0,i.tokens.length-1,i.tokens)))},0,t.Parser.length-1,t.Parser),t}function F(t){var r,s,a,l,i,u,c,p,f,m,h,g,k,d;return t.__parsed?t:(r=t.RegExpID||null,a=t.Extra?o(t.Extra):{},l=t.Style?o(t.Style):{},i=null,u=null,c=t.Lex?o(t.Lex):{},p=t.Syntax?o(t.Syntax):{},f={},m={},h={},k={},d={},g=[],s=t.Parser?o(t.Parser):[],t=O({Style:l,Fold:i,Match:u,Lex:c,Syntax:p,$parser:null,$interleaved:null,$comments:null,$autocomplete:null,$extra:a,__parsed:0}),t.$parser=n(s,function(t,n){var o=T(n,r,c,p,l,f,m,h,g,k,d)||null;return o&&(Lt&e(o)?t=t.concat(o):t.push(o)),t},[]),t.$interleaved=g&&g.length?g:null,t.$comments=k,t.$autocomplete=d&&d.autocomplete&&d.autocomplete.length?d.autocomplete:null,t.__parsed=1,t)}function R(t,n,r,o,s){var a,l,i=this;a=i.type=t,i.name=n,i.pattern=r,l=i.ptype=o||St,i.key=s||0,Ee===a?i.key=!1!==s:Le===a?i.pattern[0]=new R(Ee,n+"_Start",r[0],null,!1):xt===l?i.pattern=null:jt===l&&(i.pattern=jt&e(r)?[r,0]:[r[0],r[1]||0])}function C(t,n,r,o){var s,a,l,i,u,c,p,f,m,h,g,k=t,d=k.type,v=k.pattern,y=k.key;if(Le===d){if(s=k.name,l=v[0],i=v[1],c=C(l,n,r,o))return u=i[c[0]],f=e(u),m=l.pattern[c[0]].ptype,jt===m&&Rt&f&&(u.regex_pattern?(p=$(u,c[1],0,1),u=new R(qe,s+"_End",b(p,u.regex_pattern,{}),jt)):(p=wt&f?c[1][u+1]:$(u,c[1]),u=new R(qe,s+"_End",p,p.length>1?St:qt))),u}else if(Ee===d){for(h=0,g=v.length;g>h;h++)if(p=C(v[h],n,r,o))return y?[h,p[1]]:p}else{if(a=k.ptype,xt===a)return!1!==r&&n.end(),[y,""];if(jt===a){if(p=n.slice(n.pos).match(v[0]),p&&0===p.index)return!1!==r&&n.mov(p[v[1]||0].length),[y,v[1]>0?p[v[1]]:p]}else if(Et===a){if(!0===o){p=-1;var x,w;for(g=v.length-1;g>=0;g--)x=n.indexOf(v[$t](g),n.pos),x>-1&&(-1===p||p>x)&&(p=x,w=v[$t](g));if(p>-1)return!1!==r&&(n.pos=p+1),[y,w]}else if(p=n[$t](n.pos)||null,p&&-1<v.indexOf(p))return!1!==r&&n.mov(1),[y,p]}else if(qt===a){if(!0===o){if(p=n.indexOf(v,n.pos),p>-1)return!1!==r&&(n.pos=p+1),[y,v]}else if(p=n[$t](n.pos)||null,v===p)return!1!==r&&n.mov(1),[y,p]}else if(St===a)if(g=v.length,!0===o){if(p=n.indexOf(v,n.pos),p>-1)return!1!==r&&(n.pos=p+g),[y,v]}else if(v===n.substr(n.pos,g))return!1!==r&&n.mov(g),[y,v]}return!1}function A(e,t){this.val=e||null,t?this.prev=t:this.prev=null}function I(e,t,n,r,o,s,a,l){var i=this;i.type=e,i.name=t,i.token=n,i.modifier=o||null,i.except=s||null,i.autocompletions=a||null,i.keywords=l||null,i.pos=null,i.msg=r||null,i.$msg=null,i.status=0,i.empty=!1,i.ci=!1,i.mline=!0,i.esc=!1,i.inter=!1,i.found=0,i.min=0,i.max=1,i.i0=0,i.$id=null}function z(){var e=this;e.T=0,e.id=null,e.type=null,e.match=null,e.str="",e.pos=null,e.block=null}function N(e,t,n,r){var o=new I(e.type,e.name,e.token,e.msg,e.modifier,e.except,e.autocompletions,e.keywords);return o.empty=e.empty,o.ci=e.ci,o.mline=e.mline,o.esc=e.esc,o.inter=e.inter,o.found=e.found,o.min=e.min,o.max=e.max,o.i0=e.i0,t&&(o.status|=he),n&&(o.modifier=n),r&&(o.$id=r),o}function P(e){var t=e.name;return e.$msg?e.$msg:e.status&he?'Token "'+t+'"'+(e.keywords?": "+e.keywords:"")+" Expected":'Syntax Error: "'+t+'"'}function U(e,t,n,r,o,s,a){e.status&fe&&(e.err[""+t+"_"+n+"_"+r+"_"+o+"_"+(s?s.name:"ERROR")]=[t,n,r,o,a||P(s)])}function B(e,t,n){if(e.stack===t)t=e.stack=new A(n,e.stack);else{for(var r=e.stack;r&&r.prev!==t;)r=r.prev;t=new A(n,t),r&&(r.prev=t)}return t}function W(e,t,n,r){var o,s,a,l,i,u=1/0,c=null,p=1/0;if(s=t.pos,t.spc(),a=t.pos,o=e.stack,t.pos<t.length){for(i=0;o&&(l=o.val,l.$id===r.$id);){for(;!(G(l,t,e,n)||(t.pos=l.pos>t.pos?l.pos:t.pos+1,e.stack=o,t.pos>=t.length)););e.stack=o,t.pos<t.length&&u>t.pos?(u=t.pos,c=o,p=i):u===t.pos&&p>i&&(u=t.pos,c=o,p=i),t.pos=a,o=o.prev,i++}u<t.length?(t.pos=u,e.stack=c):t.end()}return a>=s&&t.pos===a}function G(e,t,n,r){if(!e)return!1;var o=e.type,s=Xe&o?Q:ze&o?K:Te&o?Y:H;return s(e,t,n,r)}function Y(t,n,r,o){var s,a,l,i,u,c,p,f,m,h,g,k,d,b,v,y=t,x=y.token||null,w=y.ci,_=y.name,M=!(r.status&fe);if(y.status=0,y.$msg=null,M||!x||!o||!o.pos)return!0;if(v=!!(ze&o.T),be===x[0]||v&&!o.block)return!0;if(s=x[0],a=x[1],k=x[2],u=y.msg,v?(b=o.block.match||o.block.str,f=o.block.pos[0][0],m=o.block.pos[0][1],h=o.block.pos[0][2],g=o.block.pos[0][3]):(b=o.match||o.str,f=o.pos[0],m=o.pos[1],h=o.pos[2],g=o.pos[3]),ve===s)return!u&&St&e(a)&&(u=a),y.$msg=u?$(u,b,!0):'Error "'+_+'"',U(r,f,m,h,g,y,P(y)),y.status|=ge,!1;if(we===s)r.ctx=r.ctx?r.ctx.prev:null;else if(xe===s)r.ctx=new A({symb:{},queu:null},r.ctx);else if(Me===s){if(k){if(!r.ctx)return!0;c=r.ctx.val.queu}else c=r.queu;if(a){if(a=$(a,b),w&&(a=a[dt]()),!c||a!==c.val[0])return c?(y.$msg=u?$(u,[c.val[0],a],!0):'Tokens do not match "'+c.val[0]+'","'+a+'"',d=P(y),U(r,c.val[1],c.val[2],c.val[3],c.val[4],y,d),U(r,f,m,h,g,y,d),c=c.prev):(y.$msg=u?$(u,["",a],!0):'Token does not match "'+a+'"',d=P(y),U(r,f,m,h,g,y,d)),y.status|=ge,k?r.ctx&&(r.ctx.val.queu=c):r.queu=c,!1;c=c?c.prev:null}else c=c?c.prev:null;k?r.ctx&&(r.ctx.val.queu=c):r.queu=c}else if(_e===s&&a){if(k){if(!r.ctx)return!0;c=r.ctx.val.queu}else c=r.queu;a=$(a,b),w&&(a=a[dt]()),y.$msg=u?$(u,a,!0):'Token does not match "'+a+'"',c=new A([a,f,m,h,g,P(y)],c),k?r.ctx&&(r.ctx.val.queu=c):r.queu=c}else if(ye===s){if(k){if(!r.ctx)return!0;p=r.ctx.val.symb}else p=r.symb;if(l=a[1],i=a[0],l=$(l,b,!0),w&&(l=l[dt]()),p[ct](i)||(p[i]={}),p[i][ct](l))return y.$msg=u?$(u,l,!0):'Duplicate "'+l+'"',d=P(y),U(r,p[i][l][0],p[i][l][1],p[i][l][2],p[i][l][3],y,d),U(r,f,m,h,g,y,d),y.status|=ge,!1;p[i][l]=[f,m,h,g]}return!0}function H(e,t,n,r,o){var s,a,l=e,i=l.token,u=l.modifier,c=l.type,p=l.name,f=l.except,m=n.line,h=t.pos,g=null,k=!1;if(l.status&=de,l.$msg=o?null:l.msg||null,l.pos=t.pos,f&&!o){a=Z(n,t);for(var d=0,b=f.length;b>d;d++)if(s=f[d],l!==s&&Ie===s.type&&H(s,t,n,r,1))return l.pos=s.pos,Z(n,t,a),!1}return De===c?k=0===n.line:je===c?k=n.bline+1===n.line:Re===c?k=t.sol():Fe===c?(t.spc(),t.eol()?k=p:(l.pos=t.pos,t.bck(h))):Ce===c?(l.status=0,k=!0):Ae===c?(l.status&he&&t.spc()&&!t.eol()?(l.pos=t.pos,t.bck(h),l.status|=ge):k=!0,l.status&=ke):xt===i?(t.end(),k=u||p):(g=C(i,t))&&(g=g[1],k=u||p),o?k:(!1!==k&&(r.T=c,r.id=p,r.type=k,r.str=t.sel(h,t.pos),r.match=g,r.pos=[m,h,m,t.pos]),!k&&l.status&&l.$msg&&(l.$msg=$(l.$msg,p,!0)),k)}function K(e,t,n,r){var o,s,a,l,i,u,c,p,f,m,h,g,k,d,b,v,y,x,w,_,M,O,S=e,q=S.name,E=S.type,L=S.modifier,T=S.token,D=S.mline,j=S.inter,F=j?q+".inside":q,R=S.esc,A=!!R,I="",z="",P="",U="",W=S.$id||q,Y=n.outer,H=Y&&Y[2],K=Y&&Y[1];if(S.status&=de,S.$msg=S.msg||null,S.pos=t.pos,_=n.line,M=t.pos,Ne===E&&(S.status&=ke),b=S.status&he,a=0,l=0,n.block&&n.block.name===q?(l=1,a=1,d=F,o=n.block.end,p=n.block.sp,m=n.block.ip,f=n.block.ep,I=n.block.s,z=n.block.i):!n.block&&(o=C(T,t))&&(l=1,d=q,y=t.pos,p=[_,M],m=[[_,y],[_,y]],f=[_,y],I=t.sel(M,y),z="",U="",n.block={name:q,end:o,sp:p,ip:m,ep:f,s:I,i:z,e:U}),l){if(w=n.stack,s=xt===o.ptype,v=s||S.empty,j){if(s&&a&&t.sol())return S.status&=ke,n.block=null,!1;if(!a)return y=t.pos,r.T=E,r.id=q,r.type=L||d,r.str=t.sel(M,y),r.match=null,r.pos=[_,M,_,y],B(n,w,N(S,b,0,W)),L||d}if(y=t.pos,i=K?s&&t.eol():C(o,t),c=D,u=0,i)d=s?F:q,U=t.sel(y,t.pos);else if(x=t.pos,g=!1,K||A||Et!==o.ptype&&qt!==o.ptype&&St!==o.ptype){for(;!t.eol();){if(K){if(G(K,t,H,r)){if(t.pos>x){s&&(i=1);break}return!0}if(s){k=t.nxt(1),P+=k;continue}}if(y=t.pos,!g&&C(o,t)){j&&t.pos>y&&y>x?(d=F,t.bck(y),u=1):(d=q,i=1),U=t.sel(y,t.pos);break}k=t.nxt(1),P+=k,g=A&&!g&&R===k,y=t.pos}s&&t.eol()&&(i=1)}else(O=C(o,t,!0,!0))?j&&t.pos>y+O[1].length?(d=F,t.mov(-O[1].length),u=1,P=t.sel(y,t.pos)):(d=q,i=1,P=t.sel(y,t.pos-O[1].length),U=O[1]):(t.end(),d=F,u=1,P=t.sel(y,t.pos));return c=D||A&&g,z+=P,m[1]=[_,y],f=[_,t.pos],i&&!v&&m[0][0]===m[1][0]&&m[0][1]===m[1][1]?(n.block=null,!1):(i||!c&&!u?n.block=null:(n.block.ip=m,n.block.ep=f,n.block.i=z,n.block.e=U,B(n,w,N(S,b,0,W))),r.T=E,r.id=q,r.type=L||d,r.str=t.sel(M,t.pos),r.match=null,r.pos=[_,M,f[0],f[1]],S.pos=t.pos,n.block||(h=I+z+U,r.block={str:h,match:[h,z,I,U],part:[h,I,z,U],pos:[[p[0],p[1],f[0],f[1]],[p[0],p[1],m[0][0],m[0][1]],[m[0][0],m[0][1],m[1][0],m[1][1]],[m[1][0],m[1][1],f[0],f[1]]]}),L||d)}return S.status&&S.$msg&&(S.$msg=$(S.$msg,q,!0)),!1}function Q(e,t,n,r){var o,s,a,l,i,u,c,f,m,h,g,k,d,$,b,v=e,y=v.type,x=(v.name,v.token),w=x.length,_=v.modifier;if(v.status&=de,v.$msg=v.msg||null,f=t.pos,m=n.stack,v.pos=t.pos,u=0,c=0,Ze===y){v.status&=de;var M=new String(x[0]),O=n.stack?n.stack.val:null;return M.subgrammar=1,M.next=O?new I(Ke,O.name,[O]):null,M.required=O?O.status&he:0,M}if(Pe===y){for(d=p(),v.status|=he,k=[],b=Z(n,t),g=0,h=g;w>h;h++){if(o=N(x[h],1,_,d),s=G(o,t,n,r),v.pos=o.pos,o.status&he&&(u++,k.push(P(o))),!1!==s)return s;o.status&ge&&(c++,Z(n,t,b))}return u>0?v.status|=he:v.status&=ke,w===c&&u>0?v.status|=ge:v.status&=de,v.status&&!v.$msg&&k.length&&(v.$msg=k.join(" | ")),!1}if(Je&y){$=!!(y&Ue),d=v.$id||p(),$?v.status|=he:v.status&=ke,b=Z(n,t),g=0;do o=N(x[g++],$,_,d),s=G(o,t,n,r);while(w>g&&(!0===s&&He&o.type||!1===s&&!(o.status&he)));if(v.pos=o.pos,!1!==s){if(!0!==s||Ce!==o.type)for(h=w-1;h>=g;h--)m=B(n,m,N(x[h],1,_,d));return s.subgrammar&&w>g&&(s.next=new I(Ke,x[g].name,[x[g]]),s.required=x[g].status&he),s}return o.status&ge?($?v.status|=ge:v.status&=de,Z(n,t,b)):$&&o.status&he&&(v.status|=ge),v.status&&!v.$msg&&(v.$msg=P(o)),!1}if(He&y)return Ze&x[0].type?!0:(b=Z(n,t,null,!1),s=G(N(x[0],0),t,n,r),Z(n,t,b),Qe===y?!1===s:!1!==s);for(d=v.$id||p(),a=v.found,l=v.min,i=v.max,v.status=0,k=[],b=Z(n,t),h=0;w>h;h++){if(o=N(x[h],1,_,d),s=G(o,t,n,r),v.pos=o.pos,!1!==s){if(++a,i>=a)return v.found=a,B(n,m,N(v,0,0,p())),v.found=0,s;break}o.status&he&&(u++,k.push(P(o))),o.status&ge&&Z(n,t,b)}return l>a&&(v.status|=he),(a>i||l>a&&u>0)&&(v.status|=ge),v.status&&!v.$msg&&k.length&&(v.$msg=k.join(" | ")),!1}function V(e,t){var n=this;n.id=e?f("state"):"state",t instanceof V?(n.line=t.line,n.bline=t.bline,n.status=t.status,n.stack=t.stack,n.token=t.token,n.block=t.block,n.outer=t.outer?[t.outer[0],t.outer[1],new V(e,t.outer[2])]:null,n.status&fe?(n.queu=t.queu,n.symb=t.symb,n.ctx=t.ctx,n.err=t.err):(n.queu=null,n.symb=null,n.ctx=null,n.err=null),n.$eol$=t.$eol$,n.$blank$=t.$blank$):(n.line=-1,n.bline=-1,n.status=t||0,n.stack=null,n.token=null,n.block=null,n.outer=null,n.status&fe?(n.queu=[],n.symb={},n.ctx=null,n.err={}):(n.queu=null,n.symb=null,n.ctx=null,n.err=null),n.$eol$=!0,n.$blank$=!0),n.toString=function(){return n.id+"_"+n.line+"_"+n.bline+"_"+(n.block?n.block.name:"0")}}function Z(e,t,n,r){return n?(e.status=n[0],e.block=n[1],e.outer=n[2],e.stack=n[3],t&&t.pos>n[4]&&t.bck(n[4]),void 0):(n=[e.status,e.block,e.outer,e.stack,t?t.pos:1/0],!1===r&&(e.status=0),n)}function J(e){e.id=null,e.line=null,e.bline=null,e.status=null,e.stack=null,e.token=null,e.block=null,e.outer=null,e.queu=null,e.symb=null,e.ctx=null,e.err=null}function X(e,t,n){var r=new String(e);return r.start=t||0,r.pos=n||0,r.sol=function(){return 0===r.pos},r.eol=function(){return r.pos>=r.length},r.end=function(){return r.pos=r.length,r},r.mov=function(e){return r.pos=0>e?gt(0,r.pos+e):kt(r.length,r.pos+e),r},r.bck=function(e){return r.pos=gt(0,e),r},r.sft=function(){return r.start=r.pos,r},r.nxt=function(e,t){var n,o,s="";if(!0===e){for(t=t||X.$NONSPC$;r.pos<r.length&&t.test(n=r[$t](r.pos++));)s+=n;return s.length?s:null}for(e=e||1,o=0;o++<e&&r.pos<r.length;)s+=r[$t](r.pos++);return s},r.cur=function(e){var t=r.slice(r.start,r.pos);return e&&(r.start=r.pos),t},r.sel=function(e,t){return r.slice(e,t)},r.spc=function(e,t){var n;return(n=r.slice(r.pos).match(t||X.$SPC$))?(!1!==e&&r.mov(n[0].length),n[0]):void 0},r}function ee(e,t,n,r,o){var s,a,l;for(null==t&&(t=e.search(X.$NONSPC$),-1==t&&(t=e.length)),s=r||0,a=o||0;;){if(l=e.indexOf("	",s),0>l||l>=t)return a+(t-s);a+=l-s,a+=n-a%n,s=l+1}}function te(n,r){return Ct&e(n)&&(n=k("\\b("+t(l(n).sort(Ut),g).join("|")+")\\b")),!1===r?function(e){return!e||!n.test(e)}:function(e){return!!e&&n.test(e)}}function ne(e,t,n,r,o,s){for(;;){n.lastIndex=e.col;var a=n.exec(e.text);if(!a){if(e.next()){e.text=e.line(e.row);continue}return}{if(t(e.token(e.row,a.index+1)))return e.col=a.index+a[0].length,a;e.col=a.index+1}}}function re(e,t,n,r,o,s){for(var a,l,i;;){if(a=e.text.indexOf(o,e.col),-1===a){if(e.next()){e.text=e.line(e.row);continue}return}if(t(e.token(e.row,a+1)))return l=e.text.lastIndexOf(s,a),i=l>-1&&!X.$NOTEMPTY$.test(e.text.slice(l+1,a)),e.col=a+1,i?"autoclosed":"regular";e.col=a+1}}function oe(e,t,n,r,o,s,a,l,i,u){if(-1===e){var c,p,f,m,h,g,k,d,$=1,b=t.first(),v=(s.length,
a.length,!1===o);e:for(c=n;c>=b;--c)for(p=t.line(c),f=p.length,m=c===n?r-1:f;;){if(0>m)break;if(h=p.lastIndexOf(s,m),g=p.lastIndexOf(a,m),0>h&&0>g)break;if(m=gt(h,g),v||u||t.token(c,m+1)==o)if(m===g)++$;else if(0===--$){k=c,d=m;break e}--m}return null==k||i&&k===n&&d===r?!1:[k,d,n,r]}var c,p,f,m,h,g,y,x,$=1,w=t.last(),v=(s.length,a.length,!1===o);e:for(c=n;w>=c;++c)for(p=t.line(c),f=p.length,m=c===n?r:0;;){if(m>=f)break;if(h=p.indexOf(s,m),g=p.indexOf(a,m),0>h&&0>g)break;if(0>h&&(h=f),0>g&&(g=f),m=kt(h,g),v||u||t.token(c,m+1)==o)if(m===h)++$;else if(0===--$){y=c,x=m;break e}++m}return null==y||i&&n===y&&x===r?!1:[n,r,y,x]}function se(e){var t=e?e.data:null;t&&t.load&&t.ace_worker_base&&(importScripts(t.ace_worker_base),ace.define("ace/grammar_worker",["require","exports","module","ace/worker/mirror"],function(e,t,n){var r=e("./worker/mirror").Mirror;t.AceGrammarWorker=h(r,{constructor:function(e){var t=this;r.call(t,e),t.setTimeout(300)},$parser:null,init_parser:function(e,t){var n=this,r=Object.keys(e.subgrammars);if(n.$parser=new ln(F(e.grammar),null,!1),r&&r.length)for(var o=0,s=r.length;s>o;o++)n.$parser.subparser(r[o],new ln(F(e.subgrammars[r[o]]),null,!1));n.sender.callback(1,t)},onUpdate:function(){var e,t,n,r,o,s=this,a=s.sender,l=s.$parser;if(!l)return void a.emit("ace_grammar_worker_ok",null);if(e=s.doc.getValue(),!e||!e.length)return void a.emit("ace_grammar_worker_ok",null);if(t=l.parse(e,fe),!t)return void a.emit("ace_grammar_worker_ok",null);o=[];for(n in t)t[ct](n)&&(r=t[n],o.push({row:r[0],column:r[1],text:r[4]||"Syntax Error",type:"error",raw:r[4]||"Syntax Error",range:[r[0],r[1],r[2],r[3]]}));o.length?a.emit("ace_grammar_worker_error",o):a.emit("ace_grammar_worker_ok",null)}})}))}function ae(e,t){e[t]||(e[t]=[]);var n,r=e[t];if(r&&r.length)for(n=0;n<r.length;n++)e.removeMarker(r[n]);r.length=0}function le(e,t,n,r){var o,s,a,l=t.length;for(ae(e,n),a=e[n],o=0;l>o;o++)s=t[o],s.range&&(a.push(e.addMarker(new r(s.range[0],s.range[1],s.range[2],s.range[3]),"ace_error-marker","text",0)),c(s,"range"))}function ie(e,t){ae(e,t),e.clearAnnotations()}function ue(e,t,n,r){le(e,t,n,r),e.setAnnotations(t)}function ce(e,t,n){n=n||an;var r=n.require("ace/range").Range,o=n.require("ace/worker/worker_client").WorkerClient,s=h(o,{constructor:function(e,t,r,o){var s=this,a=n.require,l=n.config;if(s.$sendDeltaQueue=s.$sendDeltaQueue.bind(s),s.changeListener=s.changeListener.bind(s),s.onMessage=s.onMessage.bind(s),a.nameToUrl&&!a.toUrl&&(a.toUrl=a.nameToUrl),!o)if(l.get("packaged")||!a.toUrl)o=o||l.moduleUrl(t,"worker");else{var i=s.$normalizePath;o=o||i(a.toUrl("ace/worker/worker.js",null,"_"));var u={};e.forEach(function(e){u[e]=i(a.toUrl(e,null,"_").replace(/(\.js)?(\?.*)?$/,""))})}try{s.$worker=new Worker(o)}catch(c){if(!(c instanceof window.DOMException))throw c;var p=s.$workerBlob(o),f=window.URL||window.webkitURL,m=f.createObjectURL(p);s.$worker=new Worker(m),f.revokeObjectURL(m)}s.$worker.postMessage({load:!0,ace_worker_base:rn.base+"/"+l.moduleUrl("ace/worker/json")+on}),s.$worker.postMessage({init:!0,tlns:u,module:t,classname:r}),s.callbackId=1,s.callbacks={},s.$worker.onmessage=s.onMessage}}),a=n.require("ace/mode/folding/fold_mode").FoldMode,l=h(a,{constructor:function(e){var t=this;a.call(t),t.$mode=e,t.$folds={}},getFoldWidget:function(e,t,n){var r,o,s,a,l=this;return l.$mode.supportCodeFolding?(r=l.$folds,(o=l.$mode.folder(e,t,n))?r[o[0]]=r[o[2]]=o:(o=r[n])&&(n===o[0]?(delete r[n],o===r[o[2]]&&delete r[o[2]]):n===o[2]&&(s=o[0],(a=l.$mode.folder(e,t,s))?(r[a[0]]=r[a[2]]=a,o===r[s]&&delete r[s],o===r[n]&&delete r[n]):(o===r[s]&&delete r[s],o===r[n]&&delete r[n]))),o=r[n]?"markbeginend"===t?n===o[2]&&o[0]!==o[2]?"end":"start":n===o[0]?"start":"":""):""},getFoldWidgetRange:function(e,t,n,o){if(this.$mode.supportCodeFolding){var s=this.$folds[n];return s?new r(s[0],s[1],s[2],s[3]):void 0}}}),i=n.require("ace/mode/text").Mode,u=h(i,{constructor:function(e){var n=this;i.call(n),n.$id=f("ace_grammar_mode"),n.$grammar=e,n.$parser=new un.Parser(F(e),t),n.$parser.Mode=n,n.$tokenizer=n.$parser,n.lineCommentStart=n.$parser.LC,n.blockComment=n.$parser.BC,n.$markers$=n.$id+"$markers$",n.foldType="fold_"+n.$id,n.foldingRules=new l(n),n.matchType="match_"+n.$id,n.matcher.clear=function(e){e.$bracketHighlight&&(e.removeMarker(e.$bracketHighlight),e.$bracketHighlight=null);var t=e[n.matchType];if(e[n.matchType]=null,t&&t.length)for(var r=0,o=t.length;o>r;r++)e.removeMarker(t[r])}},supportGrammarAnnotations:!1,createWorker:function(e){var t=this,n=t.$markers$;if(!t.supportGrammarAnnotations)return ie(e,n),null;var o=new s(["ace"],"ace/grammar_worker","AceGrammarWorker",rn.file+on);return o.attachToDocument(e.getDocument()),o.call("init_parser",[{grammar:t.$grammar,subgrammars:t.getSubgrammars()}],function(){o.on("ace_grammar_worker_error",function(t){var o=t.data;ue(e,o,n,r)}),o.on("ace_grammar_worker_ok",function(){ie(e,n)})}),o.on("terminate",function(){ie(e,n)}),o},supportAutoCompletion:!0,autocompleter:function c(e,t,r,o){var s=this;return s.supportAutoCompletion?e.parser.autocomplete(e.state,t,r,o,c.options||{},n):[]},getKeywords:function(e){return[]},supportCodeFolding:!0,folder:function(e,t,r){var o=this,s=e.getState(r),a=s&&s.parser||o.$parser,l=a.fold(e,r,n);return l?(l.start=!0,l.end=!1,l):void 0},supportCodeMatching:!0,matcher:function p(e,t){var o=this;return!1===t?(e.$highlightBrackets$&&(e.$highlightBrackets=e.$highlightBrackets$,e.$highlightBrackets$=null),o):(e.$highlightBrackets$||(e.$highlightBrackets$=e.$highlightBrackets),e.$highlightBrackets=function(){if(o.supportCodeMatching){var e=this;p.clear(e.session),e.$highlightPending||(e.$highlightPending=!0,setTimeout(function(){e.$highlightPending=!1;var t,s,a=e.getSelection();a.isBackwards()?(t=a.lead,s=a.anchor):(t=a.anchor,s=a.lead);var l=e.session.getTokenAt(s.row,s.column-1),i=l&&l.mode?l.mode.parser:o.$parser,u=i.match(e.session,s.row,s.column,n);null!=u&&(!1===u?a.isEmpty()?e.session[o.matchType]=[e.session.addMarker(new r(s.row,s.column-1,s.row,s.column),"ace_error-marker","text")]:e.session[o.matchType]=[e.session.addMarker(new r(t.row,t.column,s.row,s.column),"ace_error-marker","text")]:!1===u.match?e.session[o.matchType]=[e.session.addMarker(new r(u[0],u[1],u[2],u[3]),"ace_error-marker","text")]:e.session[o.matchType]=[e.session.addMarker(new r(u[0],u[1],u[2],u[3]),"ace_selection","text"),e.session.addMarker(new r(u[4],u[5],u[6],u[7]),"ace_selection","text")])},50))}},o)},getSubgrammars:function(){for(var e=this,t=e.$parser,n=Object.keys(t.$subgrammars),r={},o=0,s=n.length;s>o;o++)r[n[o]]=t.$subgrammars[n[o]].Mode.$grammar;return r},submode:function(e,t){var n=this;return n.$parser.subparser(e,t.$parser),n},dispose:function(){var e=this;e.$parser&&e.$parser.dispose(),e.$tokenizer=e.$parser=e.$grammar=e.autocompleter=e.getCompletions=e.foldingRules=e.folder=e.matcher=null}});return u.prototype.getCompletions=u.prototype.autocompleter,new u(e)}var pe=1,fe=2,me=32,he=4,ge=8,ke=~he,de=~ge,$e=he|ge,be=0,ve=4,ye=8,xe=16,we=17,_e=32,Me=33,Oe=128,Se=129,qe=2,Ee=4,Le=8,Te=4,De=8,je=9,Fe=16,Re=32,Ce=128,Ae=256,Ie=512,ze=1024,Ne=1025,Pe=2048,Ue=4096,Be=8192,We=8193,Ge=8194,Ye=8195,He=16384,Ke=He,Qe=16385,Ve=32768,Ze=65536,Je=Ue|Ve,Xe=Pe|Ue|Be|He|Ve|Ze,et={action:Te,simple:Ie,block:ze,comment:Ne,subgrammar:Ze,alternation:Pe,sequence:Ue,repeat:Be,zeroorone:We,zeroormore:Ge,oneormore:Ye,positivelookahead:Ke,negativelookahead:Qe,ngram:Ve},tt="$|SOF|$",nt="$|NONBLANK|$",rt="$|SOL|$",ot="$|EOL|$",st="$|ENDLINE|$",at="$|EMPTY|$",lt="$|NONSPACE|$",it=void 0,ut="prototype",ct="hasOwnProperty",pt="propertyIsEnumerable",ft=Object[ut],mt=ft.toString,ht=Object.create,gt=Math.max,kt=Math.min,dt="toLowerCase",$t="charAt",bt=1/0,vt=4,yt=8,xt=16,wt=32,_t=33,Mt=34,Ot=64,St=128,qt=129,Et=130,Lt=256,Tt=512,Dt=1024,jt=2048,Ft=4096,Rt=St|wt,Ct=St|Lt,At=jt|Lt,It=St|Lt|jt,zt={"[object Number]":wt,"[object String]":St,"[object Array]":Lt,"[object RegExp]":jt,"[object Date]":Ft,"[object Function]":Dt,"[object Object]":Tt},Nt=/^\s+|\s+$/g,Pt=String[ut].trim?function(e){return e.trim()}:function(e){return e.replace(Nt,"")},Ut=function(e,t){return t.length-e.length},Bt=/\r\n|\r|\n/g,Wt=/[\-_]/g,Gt=0,Yt=/([.*+?^${}()|[\]\/\\\-])/g,Ht=/^([.!&\[\]{}()*+?\/|'"]|\s)/,Kt="(\\s|\\W|$)",Qt=/(\\\\)*?\\\d/,Vt=/[*+]$/;X.$SPC$=/^[\s\u00a0]+/,X.$NONSPC$=/[^\s\u00a0]/,X.$NOTEMPTY$=/\S/,X.$SPACE$=/^\s*/;var Zt=h({constructor:function(e,t,n){var r=this;r.$grammar=e,r.$DEF=t||null,r.$ERR=n||null,r.DEF=r.$DEF,r.ERR=r.$ERR,r.$folders=[],r.$matchers=[],r.$subgrammars={}},$grammar:null,$subgrammars:null,$folders:null,$matchers:null,$n$:"name",$t$:"type",$v$:"token",$DEF:null,$ERR:null,DEF:null,ERR:null,dispose:function(){var e=this;return e.$grammar=e.$subgrammars=null,e.$folders=e.$matchers=null,e.$n$=e.$t$=e.$v$=null,e.$DEF=e.$ERR=e.DEF=e.ERR=null,e},token:function(e,t,n){var r,o,s,a,l,i,u,c,p,f,m,h,g,k,d,$,b,v=this,y=v.$grammar,x=y.Style,w=v.DEF,_=v.ERR,M={},O=v.$n$,S=v.$t$,q=v.$v$,E=y.$interleaved,L=y.$parser,T=L.length,D=E?E.length:0,j=t.outer,F=j&&j[2],R=j&&j[1];if(e.sol()&&(t.$eol$&&(t.$blank$&&(t.bline=t.line),t.$eol$=!1,t.line++),t.$blank$=t.bline+1===t.line),t.$actionerr$=!1,t.token=null,a=t.line,l=e.pos,f=!1,h=!0,m=!1,g=!1,j&&v===j[0]){if(M[O]=null,M[S]=w,M[q]=null,R){if(s=new z,G(R,e,F,s))return t.outer=null,{parser:v,state:F};for(e.nxt(1);!e.eol();){if(G(R,e,F,s)){if(e.pos>l)break;return t.outer=null,{parser:v,state:F}}e.nxt(1)}}else e.spc(),e.eol()?g=!0:e.end();return M[q]=e.cur(1),t.$eol$=e.eol(),t.$blank$=t.$blank$&&(g||t.$eol$),M}if(t.stack&&Fe===t.stack.val.type&&e.sol()&&(t.stack=t.stack.prev),(!t.stack||Ae!==t.stack.val.type&&null==t.block)&&e.spc()){if(t.stack&&Ze===t.stack.val.type)return e.bck(l),r=t.stack.val,t.stack=t.stack.prev,f=G(r,e,t,s),k=""+f,v.$subgrammars[k]?(d=v.$subgrammars[k],$=new V(1,n[k]?n[k]:t.status),F=t):(d=v,$=new V,F=t),$.outer=[v,f.next,F],{parser:d,state:$,toInner:k};h=!1,g=!0}if(M[O]=null,M[S]=w,M[q]=null,h)for(s=new z,i=0;h&&(t.stack||T>i)&&!e.eol();){if(c=e.pos,p=t.stack,R){if(e.spc(),G(R,e,F,s))return e.pos>c?(M[q]=e.cur(1),t.$eol$=e.eol(),t.$blank$=t.$blank$&&!0,M):(t.outer=null,{parser:j[0],state:F,fromInner:t});e.bck(c)}if(b=!1,D&&!t.block)for(u=0;D>u;u++)if(r=E[u],f=G(r,e,t,s),!1!==f){b=!0;break}if(h&&!b){if(!t.stack&&i>=T)break;t.stack?(r=t.stack.val,t.stack=t.stack.prev):r=L[i++],f=G(r,e,t,s)}if(!1===f){if(r.status&$e){t.token=r,g=W(t,e,s,r)||g,m=!0,h=!1;break}}else{if(f.subgrammar)return k=""+f,v.$subgrammars[k]?(d=v.$subgrammars[k],$=new V(1,n[k]?n[k]:t.status),F=t):(d=v,$=new V,F=t),$.outer=[v,f.next,F],{parser:d,state:$,toInner:k};if(t.stack&&t.stack.prev&&e.eol()&&ze&t.stack.val.type&&t.block&&t.block.name===t.stack.val.name)for(u=t.stack.prev;u&&Te===u.val.type;)o=u,u=u.prev,Y(o,e,t,s),o.status&ge&&(t.$actionerr$=!0);else if(t.stack&&Te===t.stack.val.type)for(;t.stack&&Te===t.stack.val.type;)o=t.stack.val,t.stack=t.stack.prev,Y(o,e,t,s),o.status&ge&&(t.$actionerr$=!0);if(!0!==f){h=!1;break}}}return h&&e.nxt(1),M[q]=e.cur(1),!1!==f?(f=x[f]||w,M[O]=r.name):m?(f=_,t.status&fe&&U(t,a,l,a,e.pos,r)):f=w,M[S]=f,t.$eol$=e.eol(),t.$blank$=t.$blank$&&(g||t.$eol$),M},get:function(e,t){for(var n=t.parser.token(e,t.state,t.inner);n&&n.parser;)n.fromInner&&t.parser!==n.parser&&(t.state.err=n.fromInner.err,t.name&&(t.inner[t.name]=n.fromInner)),n.state.err=t.state.err,n.state.line=t.state.line,n.state.bline=t.state.bline,n.state.$blank$=t.state.$blank$,n.state.$eol$=t.state.$eol$,n.state.$full_parse$=t.state.$full_parse$,t.state=n.state,t.parser=n.parser,t.name=n.toInner,n=t.parser.get(e,t);return n},tokenize:function(e,t,n){var r=[];if(e.eol())t.state.line++,t.state.$blank$&&t.state.bline++;else for(;!e.eol();)r.push(t.parser.get(e,t));return r},parse:function(e,t){var n,o,s,a,l,i,u=(e||"").split(Bt),c=u.length,p=null;if(t=t||pe,s=!!(t&fe),a=!!(t&pe),o={parser:this,state:new V(0,t),inner:{}},o.state.$full_parse$=!0,r(function(e){u[e]+="\n"},0,c-2),a?p=r(t&me?function(e,t){t._=t._.concat(o.parser.tokenize(X(u[e]),o,e))}:function(e,t){t._.push(o.parser.tokenize(X(u[e]),o,e))},0,c-1,{_:[]})._:r(function(e){var t=X(u[e]);if(t.eol())o.state.line++,o.state.$blank$&&o.state.bline++;else for(;!t.eol();)o.parser.get(t,o)},0,c-1),n=o.state,s&&n.queu&&n.queu.length)for(;n.queu.length;)l=n.queu.shift(),U(n,l[1],l[2],l[3],l[4],null,l[5]);return i=a&&s?{tokens:p,errors:n.err}:a?p:n.err,J(n),o=n=null,i},autocompletion:function(e,t){var n,r,o=e.stack,s={},a=S([e.token],[],s);for(t=t||0;o;){if(n=o.val,r=n.type,Be&r){if(a=S([n],a,s),0<n.min&&t<a.length)break}else if((Ie===r||Pe===r||Je&r)&&(a=S([n],a,s),t<a.length))break;o=o.prev}return a},subparser:function(e,t){var n=this;return!1===t?n.$subgrammars[ct](e)&&delete n.$subgrammars[e]:t&&(n.$subgrammars[e]=t),n},iterator:function(){},validate:function(){},autocomplete:function(){},indent:function(){},fold:function(){},match:function(){}}),Jt={Pattern:function(e,t,n){return function(){}},Indented:function(e){return e=e||X.$NOTEMPTY$,function(t){var n,r,o,s,a,l,i,u,c,p=t.row;if(n=t.line(p),e.test(n)){for(r=t.indentation(n),l=null,a=n.length,u=p+1,c=t.last();c>=u;++u)if(o=t.line(u),s=t.indentation(o),s>r)l=u,i=o.length;else if(e.test(o))break;return l?[p,a,l,i]:void 0}}},Delimited:function(e,t,n,r){return e&&t&&e.length&&t.length?(n=n||a,function(o){var s,a,l,i,u,c,p=o.row,f=o.col;for(s=o.line(p),l=f,i=0;;){var u=0>=l?-1:s.lastIndexOf(e,l-1);if(-1!==u){if(1===i&&f>u)return;if(n(c=o.token(p,u+1))){a=u+e.length;break}l=u-1}else{if(1===i)return;i=1,l=s.length}}return oe(1,o,p,a,c,e,t,n,!0,r)}):function(){}},MarkedUp:function(e,t,n,r,o){return e=e||a,t=t||"<",n=n||">",r=r||"/",o=o||k(g(t)+"("+g(r)+"?)([a-zA-Z_\\-][a-zA-Z0-9_\\-:]*)","g"),function(s){s.col=0,s.min=s.first(),s.max=s.last(),s.text=s.line(s.row);for(var a,l,i,u,c,p,f,m,h,g=s.row;;){if(a=ne(s,e,o,t,n,r),!a||s.row!==g||!(l=re(s,e,o,t,n,r)))return;if(!a[1]&&"autoclosed"!==l)for(i=[s.row,s.col],c=a[2],u=null,p=[];;){if(f=ne(s,e,o,t,n,r),g=s.row,m=s.col-(f?f[0].length:0),!f||!(l=re(s,e,o,t,n,r)))return!1;if("autoclosed"!==l)if(f[1]){for(h=p.length-1;h>=0;--h)if(p[h]===f[2]){p.length=h;break}if(0>h&&(!c||c===f[2]))return[i[0],i[1],g,m]}else p.push(f[2])}}}}},Xt={Pattern:function(e,t,n){return function(){}},Delimited:function(e,t,n,r){return e&&t&&e.length&&t.length?(n=n||a,function(o){var s,a=o.col,l=o.row,i=o.line(l),u=!1,c=e.length,p=t.length;return a>=c&&(1===c&&e===i.charAt(a-1)||e===i.slice(a-c,a))?(s=oe(1,o,l,a,u,e,t,n,!1,r),s?(s=[s[0],s[1]-c,s[0],s[1],s[2],s[3],s[2],s[3]+p],s.match="end"):(s=[l,a-c,l,a],s.match=!1),s):a>=p&&(1===p&&t===i.charAt(a-1)||t===i.slice(a-p,a))?(s=oe(-1,o,l,a-p,u,e,t,n,!1,r),s?(s=[s[0],s[1],s[0],s[1]+c,s[2],s[3],s[2],s[3]+p],s.match="start"):(s=[l,a-p,l,a],s.match=!1),s):void 0}):function(){}},MarkedUp:function(e,t,n,r,o){return function(){}}},en=!("undefined"==typeof global||"[object global]"!==mt.call(global)),tn=!(en||"undefined"==typeof navigator),nn=!!(tn&&"function"==typeof importScripts&&navigator instanceof WorkerNavigator),rn=function(e,t,n){var r,o=null,s=null,a=null;return e?(o=__filename,s=__dirname,a=__dirname):n?(o=self.location.href,s=o.split("/").slice(0,-1).join("/")):t&&(a=document.location.href.split("#")[0].split("?")[0].split("/").slice(0,-1).join("/"),(r=document.getElementsByTagName("script"))&&r.length&&(o=r[r.length-1].src,s=o.split("/").slice(0,-1).join("/"))),{path:s,file:o,base:a}}(en,tn,nn),on="?nocache="+f("nonce")+"_"+~~(1e3*Math.random()),sn=function(){return(this.name||"")+"==>"+this.state.toString()},an="undefined"!=typeof ace?ace:{require:function(){return{}},config:{}},ln=h(Zt,{constructor:function cn(t,n,o){var s,l=this,i=null,u=null;if(Zt.call(l,t,"text","invalid"),l.$v$="value",l.DEF=n||l.$DEF,l.ERR=t.Style.error||l.$ERR,l.LC=t.$comments.line||null,l.BC=t.$comments.block?{start:t.$comments.block[0][0],end:t.$comments.block[0][1]}:null,!1!==o){if(t.$comments.block&&t.$comments.block.length){s=cn.Type("comment");for(var c=0,p=t.$comments.block.length;p>c;c++)l.$folders.push(cn.Fold.Delimited(t.$comments.block[c][0],t.$comments.block[c][1],s,"comment"))}t.Fold&&St&e(t.Fold)?i=t.Fold[dt]():t.$extra.fold&&(i=t.$extra.fold[dt]()),u=t.Match&&St&e(t.Match)?t.Match[dt]():t.$extra.match?t.$extra.match[dt]():i;var f=D(t,1);s=f.length?cn.Type(f,!1):a,i&&(i=i.split("+"),r(function(e,t){var n,r=Pt(t[e]);"braces"===r?l.$folders.push(cn.Fold.Delimited("{","}",s)):"brackets"===r?l.$folders.push(cn.Fold.Delimited("[","]",s)):"parens"===r||"parentheses"===r?l.$folders.push(cn.Fold.Delimited("(",")",s)):"brace"===r||"cstyle"===r||"c"===r?(l.$folders.push(cn.Fold.Delimited("{","}",s)),l.$folders.push(cn.Fold.Delimited("[","]",s))):"indent"===r||"indentation"===r?l.$folders.push(cn.Fold.Indented()):"tags"===r||"markup"===r||"html"===r||"xml"===r?(l.$folders.push(cn.Fold.Delimited("<![CDATA[","]]>",cn.Type(["comment","tag"],!1))),l.$folders.push(cn.Fold.MarkedUp(cn.Type("tag"),"<",">","/"))):-1<(n=r.indexOf(","))&&l.$folders.push(cn.Fold.Delimited(r.slice(0,n),r.slice(n+1),s))},0,i.length-1,i)),u&&(u=u.split("+"),r(function(e,t){var n,r=Pt(t[e]);"braces"===r?l.$matchers.push(cn.Match.Delimited("{","}")):"brackets"===r?l.$matchers.push(cn.Match.Delimited("[","]")):"parens"===r||"parentheses"===r?l.$matchers.push(cn.Match.Delimited("(",")")):"brace"===r||"cstyle"===r||"c"===r?(l.$matchers.push(cn.Match.Delimited("{","}")),l.$matchers.push(cn.Match.Delimited("[","]")),l.$matchers.push(cn.Match.Delimited("(",")"))):"tags"===r||"markup"===r||"html"===r||"xml"===r?l.$matchers.push(cn.Match.MarkedUp(cn.Type("tag"),"<",">","/")):-1<(n=r.indexOf(","))&&l.$matchers.push(cn.Match.Delimited(r.slice(0,n),r.slice(n+1)))},0,u.length-1,u))}},LC:null,BC:null,dispose:function(){var e=this;return e.LC=e.BC=null,Zt[ut].dispose.call(e)},tokenize:function(e,t,n){var r,o=[];if(e.eol())t.state.line++,t.state.$blank$&&t.state.bline++;else for(;!e.eol();)r=t.parser.get(e,t),r.mode=t,o.push(r);return o},getLineTokens:function(e,t,n){var r,o=this;return r=t?{parser:t.parser,state:new V(1,t.state),inner:t.inner,name:t.name,toString:sn}:{parser:o,state:new V(1),inner:{},name:null,toString:sn},{tokens:r.parser.tokenize(X(e),r,n),state:r}},autocomplete:function(e,t,r,o,s,a){var l=this,i=[];if(l.$grammar.$autocomplete){s=s||{};var u=s[ct]("caseInsesitiveMatch")?!!s.caseInsesitiveMatch:!1,c=s[ct]("prefixMatch")?!!s.prefixMatch:!0,p=s[ct]("inContext")?!!s.inContext:!1,f=o,m=f[dt](),h=f.length,g=!1,k=1e3,d=function(e,t){var n,r,o,s,a,l,i,p=t.word,d=p.length;return h?d>=h&&(n=t.meta,r=!!p.ci,i=u||r,i?(a=p[dt](),l=m):(a=p,l=f),(s=a.indexOf(l))>=0&&(!c||0===s)&&(o=i?p.indexOf(f):s,e.push({name:p,value:p,meta:n,score:1e3-10*(d-h)-5*(0>o?s+3:o)}))):e.push({name:p,value:p,meta:t.meta,score:g?1e3-10*d:k--}),e};p?(g=!1,i=n(l.autocompletion(e),d,i),i.length||(g=!0,i=n(l.$grammar.$autocomplete,d,i))):(g=!0,i=n(l.$grammar.$autocomplete,d,i))}return i},iterator:function(e,t){var n=e.getTabSize();return{row:0,col:0,min:0,max:0,line:function(t){return e.getLine(t)},first:function(){return 0},last:function(){return e.getLength()-1},next:function(){var e=this;if(!(e.row>=e.max))return e.col=0,e.row++,!0},prev:function(){var e=this;if(!(e.row<=e.min))return e.col=0,e.row--,!0},indentation:function(e){return ee(e,null,n)},state:function(t,n){var r=e.getState(t);return r.state||r},token:function(t,n){return e.getTokenAt(t,n).type},tokens:function(t){return e.getTokens(t)}}},fold:function(e,t,n){var r,o,s,a=this,l=a.$folders,i=l.length;if(i)for(o=a.iterator(e,n),o.row=t,o.col=0,r=0;i>r;r++)if((s=l[r](o))||!1===s)return s},match:function(e,t,n,r){var o,s,a,l=this,i=l.$matchers,u=i.length;if(u)for(s=l.iterator(e,r),s.row=t,s.col=n||0,o=0;u>o;o++)if((a=i[o](s))||!1===a)return a}});ln.Type=te,ln.Fold=Jt,ln.Match=Xt,nn&&(onmessage=se);var un={VERSION:"4.0.0",clone:o,extend:s,pre_process:j,parse:F,getMode:ce,Parser:ln};return un});