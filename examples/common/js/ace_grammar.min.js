/**
*
*   AceGrammar
*   @version: 4.0.1
*
*   Transform a grammar specification in JSON format, into an ACE syntax-highlight parser mode
*   https://github.com/foo123/ace-grammar
*   https://github.com/foo123/editor-grammar
*
**/!function(e,t,n){"use strict";"object"==typeof module&&module.exports?(module.$deps=module.$deps||{})&&(module.exports=module.$deps[t]=n.call(e)):"function"==typeof define&&define.amd&&"function"==typeof require&&"function"==typeof require.specified&&require.specified(t)?define(t,["module"],function(t){return n.moduleUri=t.uri,n.call(e)}):t in e||(e[t]=n.call(e)||1)&&"function"==typeof define&&define.amd&&define(function(){return e[t]})}(this,"AceGrammar",function(){"use strict";function e(e){var t=0;return null===e?t=wt:!0===e||!1===e||e instanceof Boolean?t=St:ut===e?t=xt:(t=Nt[ht.call(e)]||yt,t=_t===t||e instanceof Number?isNaN(e)?Ot:isFinite(e)?_t:Mt:qt===t||e instanceof String?1===e.length?Et:qt:Tt===t||e instanceof Array?Tt:Ft===t||e instanceof RegExp?Ft:Rt===t||e instanceof Date?Rt:jt===t||e instanceof Function?jt:Dt===t?Dt:yt),t}function t(e,t,n,r){var o,l,a,s,i,u,c=e.length;if(arguments.length<4&&(r=c-1),0>r&&(r+=c),arguments.length<3&&(n=0),n>r)return[];if(n===r)return[t(e[n],n,n,r)];for(a=r-n+1,s=15&a,i=1&s,u=new Array(a),i&&(u[0]=t(e[n],n,n,r)),o=i;s>o;o+=2)l=n+o,u[o]=t(e[l],l,n,r),u[o+1]=t(e[l+1],l+1,n,r);for(o=s;a>o;o+=16)l=n+o,u[o]=t(e[l],l,n,r),u[o+1]=t(e[l+1],l+1,n,r),u[o+2]=t(e[l+2],l+2,n,r),u[o+3]=t(e[l+3],l+3,n,r),u[o+4]=t(e[l+4],l+4,n,r),u[o+5]=t(e[l+5],l+5,n,r),u[o+6]=t(e[l+6],l+6,n,r),u[o+7]=t(e[l+7],l+7,n,r),u[o+8]=t(e[l+8],l+8,n,r),u[o+9]=t(e[l+9],l+9,n,r),u[o+10]=t(e[l+10],l+10,n,r),u[o+11]=t(e[l+11],l+11,n,r),u[o+12]=t(e[l+12],l+12,n,r),u[o+13]=t(e[l+13],l+13,n,r),u[o+14]=t(e[l+14],l+14,n,r),u[o+15]=t(e[l+15],l+15,n,r);return u}function n(e,t,n,r,o){var l,a,s,i,u,c=e.length,p=n;if(arguments.length<5&&(o=c-1),0>o&&(o+=c),arguments.length<4&&(r=0),r>o)return p;if(r===o)return t(p,e[r],r);for(s=o-r+1,i=15&s,u=1&i,u&&(p=t(p,e[r],r)),l=u;i>l;l+=2)a=r+l,p=t(t(p,e[a],a),e[a+1],a+1);for(l=i;s>l;l+=16)a=r+l,p=t(t(t(t(t(t(t(t(t(t(t(t(t(t(t(t(p,e[a],a),e[a+1],a+1),e[a+2],a+2),e[a+3],a+3),e[a+4],a+4),e[a+5],a+5),e[a+6],a+6),e[a+7],a+7),e[a+8],a+8),e[a+9],a+9),e[a+10],a+10),e[a+11],a+11),e[a+12],a+12),e[a+13],a+13),e[a+14],a+14),e[a+15],a+15);return p}function r(e,t,n,r){if(t>n)return r;if(t===n)return e(t,r,t,n),r;var o,l,a=n-t+1,s=15&a,i=1&s;for(i&&e(t,r,t,n),o=i;s>o;o+=2)l=t+o,e(l,r,t,n),e(++l,r,t,n);for(o=s;a>o;o+=16)l=t+o,e(l,r,t,n),e(++l,r,t,n),e(++l,r,t,n),e(++l,r,t,n),e(++l,r,t,n),e(++l,r,t,n),e(++l,r,t,n),e(++l,r,t,n),e(++l,r,t,n),e(++l,r,t,n),e(++l,r,t,n),e(++l,r,t,n),e(++l,r,t,n),e(++l,r,t,n),e(++l,r,t,n),e(++l,r,t,n);return r}function o(t,n){var r,l,a,s,i=e(t),u=0;if(_t===e(n)?n>0?(u=n,n=!0):n=!1:n=!1!==n,Dt===i){l={};for(a in t)t[pt](a)&&t[ft](a)&&(r=e(t[a]),Dt===r?l[a]=n?o(t[a],u>0?u-1:n):t[a]:Tt===r?l[a]=n?o(t[a],u>0?u-1:n):t[a].slice():Rt===r?l[a]=new Date(t[a]):qt&r?l[a]=t[a].slice():_t&r?l[a]=0+t[a]:l[a]=t[a])}else if(Tt===i)for(s=t.length,l=new Array(s),a=0;s>a;a++)r=e(t[a]),Dt===r?l[a]=n?o(t[a],u>0?u-1:n):t[a]:Tt===r?l[a]=n?o(t[a],u>0?u-1:n):t[a].slice():Rt===r?l[a]=new Date(t[a]):qt&r?l[a]=t[a].slice():_t&r?l[a]=0+t[a]:l[a]=t[a];else l=Rt===i?new Date(t):qt&i?t.slice():_t&i?0+t:t;return l}function l(){var t,n,r,a,s,i,u,c,p,f,m=arguments,h=m.length;if(1>h)return null;for(n=o(m[0]),r=1;h>r;r++)if(t=m[r])for(a in t)if(t[pt](a)&&t[ft](a))if(n[pt](a)&&n[ft](a)){if(p=e(n[a]),f=e(t[a]),Dt===p&&Dt===f)n[a]=l(n[a],t[a]);else if(Tt===p&&Tt===f){if(u=n[a],c=t[a],i=c.length,!i)continue;if(u.length)for(s=0;i>s;s++)0>u.indexOf(c[s])&&u.push(c[s]);else n[a]=c.slice()}}else n[a]=o(t[a]);return n}function a(){return!0}function s(t,n){return n||Tt!==e(t)?[t]:t}function i(t,n){return t=s(t),(n||Tt!==e(t[0]))&&(t=[t]),t}function u(t,n){return qt&e(n)&&qt&e(t)&&n.length&&n.length<=t.length&&n===t.substr(0,n.length)}function c(e,t,n){return n?e[t]=ut:delete e[t],e}function p(e){return(e||"id_")+ ++Yt}function f(e){return(e||"uuid")+"_"+ ++Yt+"_"+(new Date).getTime()}function m(){var t,n,r,o,l,a,s=arguments,i=s.length;for(t=s[0]||{},l=1;i>l;l++)if(n=s[l],Dt===e(n))for(o in n)n[pt](o)&&n[ft](o)&&(r=n[o],a=e(r),_t&a?t[o]=0+r:Rt&a?t[o]=new Date(r):At&a?t[o]=r.slice():t[o]=r);return t}function h(e,t){var n,r=arguments.length,o="constructor";return 0===r?(e=Object,t={}):1===r?(t=e||{},e=Object):(e=e||Object,t=t||{}),t[pt](o)||(t[o]=function(){}),n=t[o],delete t[o],n[ct]=m(gt(e[ct]),t),n[ct][o]=n,n}function g(e){return e.replace(Ht,"\\$1")}function k(e,t){t=t||{l:0,x:0,i:0,g:0};var e=new RegExp(e,(t.g?"g":"")+(t.i?"i":""));return e.xflags=t,e}function d(e,t,n,r){var o,l,a,s,i=e.pos,u=e.length,c="",p=!!n;if(p){for(r=!!r,l=!1,s=0;u>i&&(o=e[vt](i++),t!==o||l);)a=n===o,l=!l&&a,r?(a&&s++,(!a||2&s)&&(c+=o,s=0)):c+=o;2&s&&(c+=n)}else for(;u>i&&(o=e[vt](i++),t!==o);)c+=o;return e.pos=i,c}function $(t,n,r,o){var l,a,s,i,u,c=!0===r?0:1,p=o?"\\":"$",f=o?92:36;for(qt&e(n)&&(o&&(n=g(n)),n=[n,n,n],c=0),a=t.length,u="",l=0;a>l;)s=t[vt](l),a>l+1&&p===s?(i=t.charCodeAt(l+1),f===i?(u+=p,l+=2):i>=48&&57>=i?(u+=n[c+i-48]||"",l+=2):(u+=s,l+=1)):(u+=s,l+=1);return u}function v(t,n,r,o){if(!t||(_t|Ft)&e(t))return t;var l,a=n?n.length||0:0,s="",i={g:0,i:0,x:0,l:0};if(qt&e(o)?s=o:o&&(s=Qt),a&&t.substr(0,a)===n){var u,c,p,l,f,m=t.substr(a),h=m[vt](0);for(l=m.length;l--&&(f=m[vt](l),h!==f);)"i"===f.toLowerCase()?i.i=1:"x"===f.toLowerCase()?i.x=1:"l"===f.toLowerCase()&&(i.l=1);return u=m.substring(1,l),"^"===u.charAt(0)?(i.l=1,c="^("+u.slice(1)+")"):c="^("+u+")",p=c,(i.x||i.l||i.i)&&(c=(i.l?"l":"")+(i.x?"x":"")+(i.i?"i":"")+"::"+c),r[c]||(p=k(p,i),r[c]=p),r[c]}return s?(p=c="^("+g(t)+")"+s,r[c]||(p=k(p,i),r[c]=p),r[c]):t}function b(n,r,o){var l,a="";return qt&e(r)?a=r:r&&(a=Qt),l=t(n.sort(Bt),g).join("|"),[k("^("+l+")"+a,{l:0,x:0,i:o?1:0}),1]}function y(t,n,r,o){var l=e(n);if(_t===l)return n;if(o[t])return o[t];r=r||0;var a,s=0;return n&&n.isCharList&&(s=1,c(n,"isCharList")),a=wt===l?new R(Ee,t,n,wt,r):Et===l?new R(Ee,t,n,Et,r):It&l?new R(Ee,t,n,Ft,r):qt&l?new R(Ee,t,n,s?Lt:qt,r):n,o[t]=a}function x(t,n,r,o,l,a,i,c){if(i[t])return i[t];var p,f,m,h,g,k,d,$=0,w=0,_=1,M=qt&e(o)?!0:!!o;if(p=s(n),m=p.length,1===m)d=y(t,v(p[0],r,a,o),0,i);else if(m>1){for(h=(m>>>1)+1,f=0;h>=f;f++)g=e(p[f]),k=e(p[m-1-f]),Et===g&&Et===k||(_=0),Tt&g||Tt&k?$=1:(Ft&g||Ft&k||u(p[f],r)||u(p[m-1-f],r))&&(w=1);if(_&&!M)p=p.slice().join(""),p.isCharList=1,d=y(t,p,0,i);else if(!M||$||w)if($||w){for(f=0;m>f;f++)Tt&e(p[f])?p[f]=x(t+"_"+f,p[f],r,o,l,a,i):p[f]=y(t+"_"+f,v(p[f],r,a),f,i);d=m>1?new R(Le,t,p):p[0]}else{for(c&&(c.keywords=s(n).slice()),p=p.sort(Bt),f=0;m>f;f++)p[f]=y(t+"_"+f,v(p[f],r,a),f,i);d=m>1?new R(Le,t,p):p[0]}else c&&(c.keywords=s(n).slice()),d=y(t,b(p,o,l),0,i)}return i[t]=d}function w(t,n,o,l,a){if(a[t])return a[t];var s=i(n),c=[],p=[];return r(function(n){var r,i,f,m;r=y(t+"_0_"+n,v(s[n][0],o,l),n,a),s[n].length>1?(f=u(s[n][1],o),m=f&&Vt.test(s[n][1]),Ft!==r.ptype||qt!==e(s[n][1])||!m&&f?i=y(t+"_1_"+n,v(s[n][1],o,l),n,a):m?(i=new String(s[n][1]),i.regex_pattern=o):i=s[n][1]):i=r,c.push(r),p.push(i)},0,s.length-1),a[t]=new R(Te,t,[c,p])}function _(e,t){var n=i(e.tokens.slice());r(function(e){var r=n[e][0],o=n[e].length>1?n[e][1]:n[e][0],l=n[e].length>2?n[e][2]:"";null===o?(t.line=t.line||[],t.line.push(r)):(t.block=t.block||[],t.block.push([r,o,l]))},0,n.length-1)}function M(e,n,r,o){var l=e.meta||r,a=!(!e.caseInsesitive&&!e.ci),s=t(n,function(e){return{word:e,meta:l,ci:a}});return o.autocomplete=(o.autocomplete||[]).concat(s),s}function O(t){t.Lex||(t.Lex={}),t.Syntax||(t.Syntax={});var n,r,o,a,s,i,u,p,f,m,h,g=t.Lex,k=t.Syntax,d=[g,k],$=d.length;for(h=0;$>h;){m=d[h++];for(o in m)m[pt](o)&&(n=o.split(":"),r=n[1]&&Ut(n[1]).length?Ut(n[1]):null,n=Ut(n[0]),n.length||(n=o,r=null),n!==o&&(m[n]=m[o],c(m,o),r&&(r=r[$t](),a=m[n],s=e(a),Dt===s?m[n].type||(m[n].type=r):(m[n]={type:r},"error"===r?(m[n].type="action",m[n].error=a):"nop"===r?(m[n].type="action",m[n].nop=!0):"group"===r?(m[n].type="sequence",m[n].tokens=a):"action"===r&&qt===s?m[n][a]=!0:m[n].tokens=a))),g===m&&(zt&e(m[n])&&(m[n]={type:"simple",tokens:m[n]}),a=m[n],a.type&&(p=a.type=a.type[$t](),"line-block"===p?(a.type="block",a.multiline=!1,a.escape=!1):"escaped-line-block"===p?(a.type="block",a.multiline=!1,a.escape="\\"):"escaped-block"===p&&(a.type="block",a.multiline=!0,a.escape="\\"))))}m=g;for(n in m)if(m[pt](n))for(a=m[n];a.extend;)i=a.extend,c(a,"extend"),u=g[i],u&&(zt&e(u)&&(u=g[i]={type:"simple",tokens:u}),a=l(u,a));m=g;for(n in m)m[pt](n)&&(a=m[n],a.type?(p=a.type=a.type[$t](),"line-block"===p?(a.type="block",a.multiline=!1,a.escape=!1):"escaped-line-block"===p?(a.type="block",a.multiline=!1,a.escape="\\"):"escaped-block"===p&&(a.type="block",a.multiline=!0,a.escape="\\")):a["escaped-line-block"]?(a.type="block",a.multiline=!1,a.escape||(a.escape="\\"),a.tokens=a["escaped-line-block"],c(a,"escaped-line-block")):a["escaped-block"]?(a.type="block",a.multiline=!0,a.escape||(a.escape="\\"),a.tokens=a["escaped-block"],c(a,"escaped-block")):a["line-block"]?(a.type="block",a.multiline=!1,a.escape=!1,a.tokens=a["line-block"],c(a,"line-block")):a.comment?(a.type="comment",a.escape=!1,a.tokens=a.comment,c(a,"comment")):a.block?(a.type="block",a.tokens=a.block,c(a,"block")):a.simple?(a.type="simple",a.tokens=a.simple,c(a,"simple")):a.nop?(a.type="action",a.action=["nop",a.nop,!1],a.nop=!0):a.error?(a.type="action",a.action=["error",a.error,!!a["in-context"]],c(a,"error")):a[pt]("context")?(a.type="action",a.action=[a.context?"context-start":"context-end",a.context,!!a["in-context"]],c(a,"context")):a.indent?(a.type="action",a.action=["indent",a.indent,!!a["in-context"]],c(a,"indent")):a.outdent?(a.type="action",a.action=["outdent",a.outdent,!!a["in-context"]],c(a,"outdent")):a.unique?(a.type="action",a.action=["unique",qt&e(a.unique)?["_DEFAULT_",a.unique]:a.unique,!!a["in-context"]],c(a,"unique")):a.push?(a.type="action",a.action=["push",a.push,!!a["in-context"]],c(a,"push")):a[pt]("pop")?(a.type="action",a.action=["pop",a.pop,!!a["in-context"]],c(a,"pop")):a.type="simple","action"===a.type?a.ci=!(!a.caseInsesitive&&!a.ci):"block"===a.type||"comment"===a.type?(a.multiline=a[pt]("multiline")?!!a.multiline:!0,qt&e(a.escape)||(a.escape=!1)):"simple"===a.type&&(a.meta=a.autocomplete&&qt&e(a.meta)?a.meta:null,a.ci=!(!a.caseInsesitive&&!a.ci)));m=k;for(n in m)m[pt](n)&&(a=m[n],Dt!==e(a)||a.type?a.type&&(p=a.type=a.type[$t](),"group"===p&&a.match?(s=e(a.match),qt&s?(f=a.match[$t](),"alternation"===f||"either"===f?(a.type="alternation",c(a,"match")):"sequence"===f||"all"===f?(a.type="sequence",c(a,"match")):"zeroorone"===f?(a.type="zeroOrOne",c(a,"match")):"zeroormore"===f?(a.type="zeroOrMore",c(a,"match")):"oneormore"===f?(a.type="oneOrMore",c(a,"match")):(a.type="sequence",c(a,"match"))):Tt&s&&(a.type="repeat",a.repeat=a.match,c(a,"match"))):"either"===p?a.type="alternation":"all"===p?a.type="sequence":"lookahead"===p?a.type="positiveLookahead":"grammar"===p&&(a.type="subgrammar"),"subgrammar"!==a.type||a.tokens||(a.tokens=n)):a.ngram||a["n-gram"]?(a.type="ngram",a.tokens=a.ngram||a["n-gram"],a["n-gram"]?c(a,"n-gram"):c(a,"ngram")):a.sequence||a.all?(a.type="sequence",a.tokens=a.sequence||a.all,a.all?c(a,"all"):c(a,"sequence")):a.alternation||a.either?(a.type="alternation",a.tokens=a.alternation||a.either,a.either?c(a,"either"):c(a,"alternation")):a.zeroOrOne?(a.type="zeroOrOne",a.tokens=a.zeroOrOne,c(a,"zeroOrOne")):a.zeroOrMore?(a.type="zeroOrMore",a.tokens=a.zeroOrMore,c(a,"zeroOrMore")):a.oneOrMore?(a.type="oneOrMore",a.tokens=a.oneOrMore,c(a,"oneOrMore")):a.positiveLookahead||a.lookahead?(a.type="positiveLookahead",a.tokens=a.positiveLookahead||a.lookahead,a.lookahead?c(a,"lookahead"):c(a,"positiveLookahead")):a.negativeLookahead?(a.type="negativeLookahead",a.tokens=a.negativeLookahead,c(a,"negativeLookahead")):(a.subgrammar||a.grammar)&&(a.type="subgrammar",a.tokens=a.subgrammar||a.grammar,a.subgrammar?c(a,"subgrammar"):c(a,"grammar")));return t}function S(t,n,r){if(r=r||{},n=n||[],!t||!t.length)return n;var o,l,a,s,i,u,c;for(o=0,l=t.length;l>o;o++)if(i=t[o])if(ze===i.type)if(i.autocompletions)for(a=0,s=i.autocompletions.length;s>a;a++)c=i.autocompletions[a],r[pt]("w_"+c.word)||(n.push(c),r["w_"+c.word]=1);else qt===i.token.ptype&&qt&e(i.token.pattern)&&i.token.pattern.length>1&&(r[pt]("w_"+i.token.pattern)||(n.push({word:""+i.token.pattern,meta:i.name,ci:!!i.ci}),r["w_"+i.token.pattern]=1));else if(Ue===i.type)S(i.token,n,r);else if(Xe&i.type){a=0,s=i.token.length;do S([u=i.token[a++]],n,r);while(s>a&&(We&u.type&&1>u.min||De===u.type))}else We&i.type&&S([i.token[0]],n,r);return n}function q(t,n,r,o){for(var l;qt&e(l=n[t]||r[t]);)t=l;return o?t:n[t]||r[t]||t}function E(e,t){return e.length>1?r(t?function(t,n){var r=n[n.length-1],o=e[t];r===o||n.push(o)}:function(t,n){var r=n[n.length-1],o=e[t];Zt.test(o)&&Zt.test(r)&&r===o||n.push(o)},1,e.length-1,[e[0]]):e}function L(n,r,l){var a,s,i,u,c,p,f,m,h,$,v,b,y,x,w,_=!1;if(w=n.modifier?n.modifier:null,m=new String(Ut(n)),m.pos=0,1===m.length)b=""+n,r[b]||l[b]||(r[b]={type:"simple",tokens:n}),n=b;else{for(a=[],s=[],i="",y=[];m.pos<m.length;)if(h=m[vt](m.pos++),Kt.test(h))if(i.length&&(_?(s.length&&(v=s[s.length-1],b=v+"."+i,p=r[b]||l[b],p||(f=q(v,r,l),l[b]=qt&e(f)?new String(f):o(f),l[b].modifier=i),s[s.length-1]=b),_=!1):"0"===i?(r[st]||(r[st]={type:"simple",tokens:0}),s.push(st)):"^^"===i?(r[nt]||(r[nt]={type:"simple",tokens:je}),s.push(nt)):"^^1"===i?(r[rt]||(r[rt]={type:"simple",tokens:Fe}),s.push(rt)):"^"===i?(r[ot]||(r[ot]={type:"simple",tokens:Ce}),s.push(ot)):"$"===i?(r[lt]||(r[lt]={type:"simple",tokens:Re}),s.push(lt)):(r[i]||l[i]||(r[i]={type:"simple",tokens:i}),s.push(i)),i=""),"."===h)s.length&&m.pos<m.length&&!Kt.test(m[vt](m.pos))?_=!0:i+=h;else if('"'===h||"'"===h)u=d(m,h,"\\",!0),u.length?(b=""+u,r[b]||(r[b]={type:"simple",tokens:u}),s.push(b)):(r[it]||(r[it]={type:"simple",tokens:""}),s.push(it));else if("["===h)u=d(m,"]","\\",!0),b="["+u+"]",r[b]||(r[b]={type:"simple",tokens:k("^(["+("^"===u[vt](0)?"^"+g(u.slice(1)):g(u))+"])")}),s.push(b);else{if("]"===h){i+=h;continue}if("/"===h)u=d(m,h,"\\",!1),$="",u.length&&(m.pos<m.length&&"i"===m[vt](m.pos)&&(m.pos++,$="i"),b="/"+u+"/"+$,r[b]||(r[b]={type:"simple",tokens:k("^("+u+")",{l:0,x:0,i:"i"===$})}),s.push(b));else if("*"===h||"+"===h||"?"===h)s.length?(v=s[s.length-1],b=""+v+h,l[b]||(l[b]={type:"*"===h?"zeroOrMore":"+"===h?"oneOrMore":"zeroOrOne",tokens:[v]}),s[s.length-1]=b):i+=h;else if("{"===h)s.length?(c=d(m,"}",!1),c=t(c.split(","),Ut),c[0].length?c[0]=parseInt(c[0],10)||0:c[0]=0,0>c[0]&&(c[0]=0),2>c.length?c.push(c[0]):c[1].length?c[1]=parseInt(c[1],10)||bt:c[1]=bt,0>c[1]&&(c[1]=0),v=s[s.length-1],b=""+v+["{",c[0],",",isFinite(c[1])?c[1]:"","}"].join(""),l[b]||(l[b]={type:"repeat",repeat:[c[0],c[1]],tokens:[v]}),s[s.length-1]=b):i+=h;else{if("}"===h){i+=h;continue}"&"===h||"!"===h?s.length?(v=s[s.length-1],b=""+v+h,l[b]||(l[b]={type:"!"===h?"negativeLookahead":"positiveLookahead",tokens:[v]}),s[s.length-1]=b):i+=h:"|"===h?(_=!1,s=E(s),s.length>1?(b=""+s.join(" "),l[b]||(l[b]={type:"sequence",tokens:s}),a.push(b)):s.length?a.push(s[0]):i+=h,s=[]):"("===h?(y.push([s,a,i]),s=[],a=[],i=""):")"===h&&(s=E(s),s.length>1?(b=""+s.join(" "),l[b]||(l[b]={type:"sequence",tokens:s}),a.push(b)):s.length&&a.push(s[0]),s=[],a=E(a,1),a.length>1?(b=""+a.join(" | "),l[b]||(l[b]={type:"alternation",tokens:a})):a.length&&(b=a[0]),a=[],x=y.pop(),s=x[0],a=x[1],i=x[2],v=b,b="("+v+")",l[b]||(l[b]=o(q(v,r,l))),s.push(b))}}else i+=h;i.length&&(_?(s.length&&(v=s[s.length-1],b=v+"."+i,p=r[b]||l[b],p||(f=q(v,r,l),l[b]=qt&e(f)?new String(f):o(f),l[b].modifier=i),s[s.length-1]=b),_=!1):"0"===i?(r[st]||(r[st]={type:"simple",tokens:0}),s.push(st)):"^^"===i?(r[nt]||(r[nt]={type:"simple",tokens:je}),s.push(nt)):"^^1"===i?(r[rt]||(r[rt]={type:"simple",tokens:Fe}),s.push(rt)):"^"===i?(r[ot]||(r[ot]={type:"simple",tokens:Ce}),s.push(ot)):"$"===i?(r[lt]||(r[lt]={type:"simple",tokens:Re}),s.push(lt)):(r[i]||l[i]||(r[i]={type:"simple",tokens:i}),s.push(i))),i="",s=E(s),s.length>1?(b=""+s.join(" "),l[b]||(l[b]={type:"sequence",tokens:s}),a.push(b)):s.length&&a.push(s[0]),s=[],a=E(a,1),a.length>1?(b=""+a.join(" | "),l[b]||(l[b]={type:"alternation",tokens:a}),n=b):a.length&&(n=a[0]),a=[]}return w&&(r[n]||l[n])&&((r[n]||l[n]).modifier=w),n}function T(o,l,a,u,c,p,f,m,h,g,k){var d,$,v,b,y,O,S,E=null,D=null,j=null;if(je===o||Fe===o||Ce===o||Re===o)return new I(o,je===o?nt:Fe===o?$T_FBNL$:Ce===o?ot:lt,o,D);if(!1===o||0===o)return new I(Ae,st,0,D);if(""===o)return new I(Ie,it,"",D);if(null===o)return new I(ze,at,wt,D,j);if(Tt&e(o)&&(v=o,o="NGRAM_"+v.join("_"),u[o]||(u[o]={type:"ngram",tokens:v})),o=""+o,m[o])return m[o];if(y=q(o,a,u),qt&e(y)&&(y=L(y,a,u),y=a[y]||u[y]||null),!y)return null;if(d=y.type?tt[y.type[$t]().replace(Gt,"")]||ze:ze,D=y.msg||null,j=y.modifier||null,$=y.tokens,ze&d){if(je===$||Fe===$||Ce===$||Re===$||!1===$||0===$)return E=new I($||Ae,o,$||0,D),m[o]=E,E;if(""===$)return E=new I(Ie,o,"",D),m[o]=E,E;if(null===$)return E=new I(ze,o,wt,D,j),m[o]=E,E;if(!$)return null}if(De&d)y[pt]("action")?"nop"===y.action[0]?y.action[0]=be:"error"===y.action[0]?y.action[0]=ye:"context-start"===y.action[0]?y.action[0]=we:"context-end"===y.action[0]?y.action[0]=_e:"push"===y.action[0]?y.action[0]=Me:"pop"===y.action[0]?y.action[0]=Oe:"unique"===y.action[0]?y.action[0]=xe:"indent"===y.action[0]?y.action[0]=Se:"outdent"===y.action[0]&&(y.action[0]=qe):y[pt]("nop")?y.action=[be,y.nop,!!y["in-context"]]:y[pt]("error")?y.action=[ye,y.error,!!y["in-context"]]:y[pt]("context")?y.action=[y.context?we:_e,y.context,!!y["in-context"]]:y[pt]("context-start")?y.action=[we,y["context-start"],!!y["in-context"]]:y[pt]("context-end")?y.action=[_e,y["context-end"],!!y["in-context"]]:y[pt]("push")?y.action=[Me,y.push,!!y["in-context"]]:y[pt]("pop")?y.action=[Oe,y.pop,!!y["in-context"]]:y[pt]("unique")?y.action=[xe,qt&e(y.unique)?["_DEFAULT_",y.unique]:y.unique,!!y["in-context"]]:y[pt]("indent")?y.action=[Se,y.indent,!!y["in-context"]]:y[pt]("outdent")&&(y.action=[qe,y.outdent,!!y["in-context"]]),y.nop&&(y.action[0]=be),E=new I(De,o,y.action.slice(),D,j),E.ci=!!y.caseInsensitive||y.ci,m[o]=E;else if($=s($),ze&d){S=y.autocomplete?M(y,At&e(y.autocomplete)?s(y.autocomplete):$,o,k):null;var F={};if(O="undefined"!=typeof y.combine?y.combine:!!(Tt&e(y.tokens)),E=new I(ze,o,x(o,$.slice(),l,O,!(!y.caseInsensitive&&!y.ci),p,f,F),D,j,null,S),F.keywords&&(E.keywords=F.keywords.join("|")),m[o]=E,null!=y.except){var R,C,A=s(y.except),z=A.length,P=[];for(R=0;z>R;R++)A[R]&&(C=T(A[R],l,a,u,c,p,f,m,h,g,k),C&&P.push(C));P.length&&(E.except=P)}}else Ne&d?(Pe===d&&_(y,g),E=new I(d,o,w(o,$.slice(),l,p,f),D),E.empty=y[pt]("empty")?!!y.empty:!0,E.mline=y[pt]("multiline")?!!y.multiline:!0,E.esc=y[pt]("escape")?y.escape:!1,E.inter=!!c[o+".inside"],Pe===d&&y.interleave&&h.push(N(E)),j&&(E.modifier=j),m[o]=E):et&d&&(Je===d?m[o]=new I(Je,o,$,D,j):Ze===d?(b=i($),E=t(b,function(e,t){return new I(Ze,o+"_NGRAM_"+t,null,D,j)}),m[o]=E,r(function(e){E[e].token=s(n(b[e],function(e,t){return e.concat(T(t,l,a,u,c,p,f,m,h,g,k))},[]))},0,b.length-1)):(Qe===d||Ve===d?E=new I(d,o,null,D,j):We&d&&Tt&e(y.repeat)?(E=new I(We,o,null,D,j),E.min=y.repeat[0],E.max=y.repeat[1]):Ge===d?(E=new I(Ge,o,null,D,j),E.min=0,E.max=1):Ye===d?(E=new I(Ye,o,null,D,j),E.min=0,E.max=bt):He===d?(E=new I(He,o,null,D,j),E.min=1,E.max=bt):E=Ue===d?new I(Ue,o,null,D,j):new I(Be,o,null,D,j),m[o]=E,E.token=s(n($,function(e,t){return e.concat(T(t,l,a,u,c,p,f,m,h,g,k))},[]))));return m[o]}function D(e,t){var n,r,o=e.Style,l=e.Lex,a=e.Syntax,s=[],i={};for(n in o)o[pt](n)&&(r=l[n]||a[n],!r||"block"!=r.type&&"comment"!==r.type||(t&&(o[n+".inside"]||o[n])?(n=o[n+".inside"]||o[n],i[pt](n)||(s.push(n),i[n]=1)):t||i[pt](n)||(s.push(n),i[n]=1)));return s}function j(t){var n={};return t.Lex=t.Lex||{},t.Syntax=t.Syntax||{},t=O(t),t.Parser&&t.Parser.length&&r(function o(l,a){var s,i,u,c=a[l];n[c]||(Tt&e(c)&&(s=c,c="NGRAM_"+s.join("_"),t.Syntax[c]||(t.Syntax[c]={type:"ngram",tokens:s})),i=q(c,t.Lex,t.Syntax),qt&e(i)&&(i=L(i,t.Lex,t.Syntax),i=t.Lex[i]||t.Syntax[i]||null),i&&(n[c]=i,u=i.type?tt[i.type[$t]().replace(Gt,"")]||ze:ze,et&u&&r(o,0,i.tokens.length-1,i.tokens)))},0,t.Parser.length-1,t.Parser),t}function F(t){var r,l,a,s,i,u,c,p,f,m,h,g,k,d;return t.__parsed?t:(r=t.RegExpID||null,a=t.Extra?o(t.Extra):{},s=t.Style?o(t.Style):{},i=null,u=null,c=t.Lex?o(t.Lex):{},p=t.Syntax?o(t.Syntax):{},f={},m={},h={},k={},d={},g=[],l=t.Parser?o(t.Parser):[],t=O({Style:s,Fold:i,Match:u,Lex:c,Syntax:p,$parser:null,$interleaved:null,$comments:null,$autocomplete:null,$extra:a,__parsed:0}),t.$parser=n(l,function(t,n){var o=T(n,r,c,p,s,f,m,h,g,k,d)||null;return o&&(Tt&e(o)?t=t.concat(o):t.push(o)),t},[]),t.$interleaved=g&&g.length?g:null,t.$comments=k,t.$autocomplete=d&&d.autocomplete&&d.autocomplete.length?d.autocomplete:null,t.__parsed=1,t)}function R(t,n,r,o,l){var a,s,i=this;a=i.type=t,i.name=n,i.pattern=r,s=i.ptype=o||qt,i.key=l||0,Le===a?i.key=!1!==l:Te===a?i.pattern[0]=new R(Le,n+"_Start",r[0],null,!1):wt===s?i.pattern=null:Ft===s&&(i.pattern=Ft&e(r)?[r,0]:[r[0],r[1]||0])}function C(t,n,r,o){var l,a,s,i,u,c,p,f,m,h,g,k=t,d=k.type,b=k.pattern,y=k.key;if(Te===d){if(l=k.name,s=b[0],i=b[1],c=C(s,n,r,o))return u=i[c[0]],f=e(u),m=s.pattern[c[0]].ptype,Ft===m&&Ct&f&&(u.regex_pattern?(p=$(u,c[1]),u=new R(Ee,l+"_End",v(p,u.regex_pattern,{}),Ft)):(p=_t&f?c[1][u+1]:$(u,c[1]),u=new R(Ee,l+"_End",p,p.length>1?qt:Et))),u}else if(Le===d){for(h=0,g=b.length;g>h;h++)if(p=C(b[h],n,r,o))return y?[h,p[1]]:p}else{if(a=k.ptype,wt===a)return!1!==r&&n.end(),[y,""];if(Ft===a){if(p=b[0].xflags.l?n.match(b[0]):n.slice(n.pos).match(b[0]),p&&0===p.index)return!1!==r&&n.mov(p[b[1]||0].length),[y,b[1]>0?p[b[1]]:p]}else if(Lt===a){if(!0===o){p=-1;var x,w;for(g=b.length-1;g>=0;g--)x=n.indexOf(b[vt](g),n.pos),x>-1&&(-1===p||p>x)&&(p=x,w=b[vt](g));if(p>-1)return!1!==r&&(n.pos=p+1),[y,w]}else if(p=n[vt](n.pos)||null,p&&-1<b.indexOf(p))return!1!==r&&n.mov(1),[y,p]}else if(Et===a){if(!0===o){if(p=n.indexOf(b,n.pos),p>-1)return!1!==r&&(n.pos=p+1),[y,b]}else if(p=n[vt](n.pos)||null,b===p)return!1!==r&&n.mov(1),[y,p]}else if(qt===a)if(g=b.length,!0===o){if(p=n.indexOf(b,n.pos),p>-1)return!1!==r&&(n.pos=p+g),[y,b]}else if(b===n.substr(n.pos,g))return!1!==r&&n.mov(g),[y,b]}return!1}function A(e,t){this.val=e||null,t?this.prev=t:this.prev=null}function I(e,t,n,r,o,l,a,s){var i=this;i.type=e,i.name=t,i.token=n,i.modifier=o||null,i.except=l||null,i.autocompletions=a||null,i.keywords=s||null,i.pos=null,i.msg=r||null,i.$msg=null,i.status=0,i.empty=!1,i.ci=!1,i.mline=!0,i.esc=!1,i.inter=!1,i.found=0,i.min=0,i.max=1,i.i0=0,i.$id=null}function z(){var e=this;e.T=0,e.id=null,e.type=null,e.match=null,e.str="",e.pos=null,e.block=null}function N(e,t,n,r){var o=new I(e.type,e.name,e.token,e.msg,e.modifier,e.except,e.autocompletions,e.keywords);return o.empty=e.empty,o.ci=e.ci,o.mline=e.mline,o.esc=e.esc,o.inter=e.inter,o.found=e.found,o.min=e.min,o.max=e.max,o.i0=e.i0,t&&(o.status|=ge),n&&(o.modifier=n),r&&(o.$id=r),o}function P(e){var t=e.name;return e.$msg?e.$msg:e.status&ge?'Token "'+t+'"'+(e.keywords?": "+e.keywords:"")+" Expected":'Syntax Error: "'+t+'"'}function U(e,t,n,r,o,l,a){e.status&me&&(e.err[""+t+"_"+n+"_"+r+"_"+o+"_"+(l?l.name:"ERROR")]=[t,n,r,o,a||P(l)])}function B(e,t,n){if(e.stack===t)t=e.stack=new A(n,e.stack);else{for(var r=e.stack;r&&r.prev!==t;)r=r.prev;t=new A(n,t),r&&(r.prev=t)}return t}function W(e,t){if(null==e)return null;if(t){for(var n=new A(e.val),r=n,o=e;o.prev;)r.prev=new A(o.prev.val),o=o.prev,r=r.prev;return n}return e}function G(e,t,n,r){var o,l,a,s,i,u=1/0,c=null,p=1/0;if(l=t.pos,t.spc(),a=t.pos,o=e.stack,t.pos<t.length){for(i=0;o&&(s=o.val,s.$id===r.$id);){for(;!(Y(s,t,e,n)||(t.pos=s.pos>t.pos?s.pos:t.pos+1,e.stack=o,t.pos>=t.length)););e.stack=o,t.pos<t.length&&u>t.pos?(u=t.pos,c=o,p=i):u===t.pos&&p>i&&(u=t.pos,c=o,p=i),t.pos=a,o=o.prev,i++}u<t.length?(t.pos=u,e.stack=c):t.end()}return a>=l&&t.pos===a}function Y(e,t,n,r){if(!e)return!1;var o=e.type,l=et&o?V:Ne&o?Q:De&o?H:K;return l(e,t,n,r)}function H(t,n,r,o){var l,a,s,i,u,c,p,f,m,h,g,k,d,v,b,y=t,x=y.token||null,w=y.ci,_=y.name,M=!(r.status&me);if(y.status=0,y.$msg=null,M||!x||!o||!o.pos)return!0;if(b=!!(Ne&o.T),be===x[0]||b&&!o.block)return!0;if(l=x[0],a=x[1],k=x[2],u=y.msg,b?(v=o.block.match||o.block.str,f=o.block.pos[0][0],m=o.block.pos[0][1],h=o.block.pos[0][2],g=o.block.pos[0][3]):(v=o.match||o.str,f=o.pos[0],m=o.pos[1],h=o.pos[2],g=o.pos[3]),ye===l)return!u&&qt&e(a)&&(u=a),y.$msg=u?$(u,v,!0):'Error "'+_+'"',U(r,f,m,h,g,y,P(y)),y.status|=ke,!1;if(_e===l)r.ctx=r.ctx?r.ctx.prev:null;else if(we===l)r.ctx=new A({symb:{},queu:null},r.ctx);else if(Oe===l){if(k){if(!r.ctx)return!0;c=r.ctx.val.queu}else c=r.queu;if(a){if(a=$(a,v),w&&(a=a[$t]()),!c||a!==c.val[0])return c?(y.$msg=u?$(u,[c.val[0],a],!0):'Tokens do not match "'+c.val[0]+'","'+a+'"',d=P(y),U(r,c.val[1],c.val[2],c.val[3],c.val[4],y,d),U(r,f,m,h,g,y,d),c=c.prev):(y.$msg=u?$(u,["",a],!0):'Token does not match "'+a+'"',d=P(y),U(r,f,m,h,g,y,d)),y.status|=ke,k?r.ctx&&(r.ctx.val.queu=c):r.queu=c,!1;c=c?c.prev:null}else c=c?c.prev:null;k?r.ctx&&(r.ctx.val.queu=c):r.queu=c}else if(Me===l&&a){if(k){if(!r.ctx)return!0;c=r.ctx.val.queu}else c=r.queu;a=$(a,v),w&&(a=a[$t]()),y.$msg=u?$(u,a,!0):'Token does not match "'+a+'"',c=new A([a,f,m,h,g,P(y)],c),k?r.ctx&&(r.ctx.val.queu=c):r.queu=c}else if(xe===l){if(k){if(!r.ctx)return!0;p=r.ctx.val.symb}else p=r.symb;if(s=a[1],i=a[0],s=$(s,v,!0),w&&(s=s[$t]()),p[pt](i)||(p[i]={}),p[i][pt](s))return y.$msg=u?$(u,s,!0):'Duplicate "'+s+'"',d=P(y),U(r,p[i][s][0],p[i][s][1],p[i][s][2],p[i][s][3],y,d),U(r,f,m,h,g,y,d),y.status|=ke,!1;p[i][s]=[f,m,h,g]}return!0}function K(e,t,n,r,o){var l,a,s=e,i=s.token,u=s.modifier,c=s.type,p=s.name,f=s.except,m=n.line,h=t.pos,g=null,k=!1;if(s.status&=$e,s.$msg=o?null:s.msg||null,s.pos=t.pos,f&&!o){a=J(n,t);for(var d=0,v=f.length;v>d;d++)if(l=f[d],s!==l&&ze===l.type&&K(l,t,n,r,1))return s.pos=l.pos,J(n,t,a),!1}return je===c?k=0===n.line:Fe===c?k=n.bline+1===n.line:Ce===c?k=t.sol():Re===c?(t.spc(),t.eol()?k=p:(s.pos=t.pos,t.bck(h))):Ae===c?(s.status=0,k=!0):Ie===c?(s.status&ge&&t.spc()&&!t.eol()?(s.pos=t.pos,t.bck(h),s.status|=ke):k=!0,s.status&=de):wt===i?(t.end(),k=u||p):(g=C(i,t))&&(g=g[1],k=u||p),o?k:(!1!==k&&(r.T=c,r.id=p,r.type=k,r.str=t.sel(h,t.pos),r.match=g,r.pos=[m,h,m,t.pos]),!k&&s.status&&s.$msg&&(s.$msg=$(s.$msg,p,!0)),k)}function Q(e,t,n,r){var o,l,a,s,i,u,c,p,f,m,h,g,k,d,v,b,y,x,w,_,M,O,S=e,q=S.name,E=S.type,L=S.modifier,T=S.token,D=S.mline,j=S.inter,F=j?q+".inside":q,R=S.esc,A=!!R,I="",z="",P="",U="",W=S.$id||q,G=n.outer,H=G&&G[2],K=G&&G[1];if(S.status&=$e,S.$msg=S.msg||null,S.pos=t.pos,_=n.line,M=t.pos,Pe===E&&(S.status&=de),v=S.status&ge,a=0,s=0,n.block&&n.block.name===q?(s=1,a=1,d=F,o=n.block.end,p=n.block.sp,m=n.block.ip,f=n.block.ep,I=n.block.s,z=n.block.i):!n.block&&(o=C(T,t))&&(s=1,d=q,y=t.pos,p=[_,M],m=[[_,y],[_,y]],f=[_,y],I=t.sel(M,y),z="",U="",n.block={name:q,end:o,sp:p,ip:m,ep:f,s:I,i:z,e:U}),s){if(w=n.stack,l=wt===o.ptype,b=l||S.empty,j){if(l&&a&&t.sol())return S.status&=de,n.block=null,!1;if(!a)return y=t.pos,r.T=E,r.id=q,r.type=L||d,r.str=t.sel(M,y),r.match=null,r.pos=[_,M,_,y],B(n,w,N(S,v,0,W)),L||d}if(y=t.pos,i=K?l&&t.eol():C(o,t),c=D,u=0,i)d=l?F:q,U=t.sel(y,t.pos);else if(x=t.pos,g=!1,K||A||Lt!==o.ptype&&Et!==o.ptype&&qt!==o.ptype){for(;!t.eol();){if(K){if(Y(K,t,H,r)){if(t.pos>x){l&&(i=1);break}return!0}if(l){k=t.nxt(1),P+=k;continue}}if(y=t.pos,!g&&C(o,t)){j&&t.pos>y&&y>x?(d=F,t.bck(y),u=1):(d=q,i=1),U=t.sel(y,t.pos);break}k=t.nxt(1),P+=k,g=A&&!g&&R===k,y=t.pos}l&&t.eol()&&(i=1)}else(O=C(o,t,!0,!0))?j&&t.pos>y+O[1].length?(d=F,t.mov(-O[1].length),u=1,P=t.sel(y,t.pos)):(d=q,i=1,P=t.sel(y,t.pos-O[1].length),U=O[1]):(t.end(),d=F,u=1,P=t.sel(y,t.pos));return c=D||A&&g,z+=P,m[1]=[_,y],f=[_,t.pos],i&&!b&&m[0][0]===m[1][0]&&m[0][1]===m[1][1]?(n.block=null,!1):(i||!c&&!u?n.block=null:(n.block.ip=m,n.block.ep=f,n.block.i=z,n.block.e=U,B(n,w,N(S,v,0,W))),r.T=E,r.id=q,r.type=L||d,r.str=t.sel(M,t.pos),r.match=null,r.pos=[_,M,f[0],f[1]],S.pos=t.pos,n.block||(h=I+z+U,r.block={str:h,match:[h,z,I,U],part:[h,I,z,U],pos:[[p[0],p[1],f[0],f[1]],[p[0],p[1],m[0][0],m[0][1]],[m[0][0],m[0][1],m[1][0],m[1][1]],[m[1][0],m[1][1],f[0],f[1]]]}),L||d)}return S.status&&S.$msg&&(S.$msg=$(S.$msg,q,!0)),!1}function V(e,t,n,r){var o,l,a,s,i,u,c,f,m,h,g,k,d,$,v,b=e,y=b.type,x=(b.name,b.token),w=x.length,_=b.modifier;if(b.status&=$e,b.$msg=b.msg||null,f=t.pos,m=n.stack,b.pos=t.pos,u=0,c=0,Je===y){b.status&=$e;var M=new String(x[0]),O=n.stack?n.stack.val:null;return M.subgrammar=1,M.next=O?new I(Qe,O.name,[O]):null,M.required=O?O.status&ge:0,M}if(Ue===y){for(d=p(),b.status|=ge,k=[],v=J(n,t),g=0,h=g;w>h;h++){if(o=N(x[h],1,_,d),l=Y(o,t,n,r),b.pos=o.pos,o.status&ge&&(u++,k.push(P(o))),!1!==l)return l;o.status&ke&&(c++,J(n,t,v))}return u>0?b.status|=ge:b.status&=de,w===c&&u>0?b.status|=ke:b.status&=$e,b.status&&!b.$msg&&k.length&&(b.$msg=k.join(" | ")),!1}if(Xe&y){$=!!(y&Be),d=b.$id||p(),$?b.status|=ge:b.status&=de,v=J(n,t),g=0;do o=N(x[g++],$,_,d),l=Y(o,t,n,r);while(w>g&&(!0===l&&Ke&o.type||!1===l&&!(o.status&ge)));if(b.pos=o.pos,!1!==l){if(!0!==l||Ae!==o.type)for(h=w-1;h>=g;h--)m=B(n,m,N(x[h],1,_,d));return l.subgrammar&&w>g&&(l.next=new I(Qe,x[g].name,[x[g]]),l.required=x[g].status&ge),l}return o.status&ke?($?b.status|=ke:b.status&=$e,J(n,t,v)):$&&o.status&ge&&(b.status|=ke),b.status&&!b.$msg&&(b.$msg=P(o)),!1}if(Ke&y)return Je&x[0].type?!0:(v=J(n,t,null,!1),l=Y(N(x[0],0),t,n,r),J(n,t,v),Ve===y?!1===l:!1!==l);for(d=b.$id||p(),a=b.found,s=b.min,i=b.max,b.status=0,k=[],v=J(n,t),h=0;w>h;h++){if(o=N(x[h],1,_,d),l=Y(o,t,n,r),b.pos=o.pos,!1!==l){if(++a,i>=a)return b.found=a,B(n,m,N(b,0,0,p())),b.found=0,l;break}o.status&ge&&(u++,k.push(P(o))),o.status&ke&&J(n,t,v)}return s>a&&(b.status|=ge),(a>i||s>a&&u>0)&&(b.status|=ke),b.status&&!b.$msg&&k.length&&(b.$msg=k.join(" | ")),!1}function Z(e,t){var n=this;n.id=e?f("state"):"state",t instanceof Z?(n.line=t.line,n.bline=t.bline,n.status=t.status,n.stack=W(t.stack,!1),n.token=t.token,n.block=t.block,n.outer=t.outer?[t.outer[0],t.outer[1],new Z(e,t.outer[2])]:null,n.status&me?(n.queu=t.queu,n.symb=t.symb,n.ctx=t.ctx,n.err=t.err):(n.queu=null,n.symb=null,n.ctx=null,n.err=null),n.$eol$=t.$eol$,n.$blank$=t.$blank$):(n.line=-1,n.bline=-1,n.status=t||0,n.stack=null,n.token=null,n.block=null,n.outer=null,n.status&me?(n.queu=[],n.symb={},n.ctx=null,n.err={}):(n.queu=null,n.symb=null,n.ctx=null,n.err=null),n.$eol$=!0,n.$blank$=!0)}function J(e,t,n,r){return n?(e.status=n[0],e.block=n[1],e.outer=n[2],e.stack=n[3],t&&t.pos>n[4]&&t.bck(n[4]),void 0):(n=[e.status,e.block,e.outer,e.stack,t?t.pos:1/0],!1===r&&(e.status=0),n)}function X(e){e.id=null,e.line=null,e.bline=null,e.status=null,e.stack=null,e.token=null,e.block=null,e.outer=null,e.queu=null,e.symb=null,e.ctx=null,e.err=null}function ee(e,t,n){var r=new String(e);return r.start=t||0,r.pos=n||0,r.sol=function(){return 0===r.pos},r.eol=function(){return r.pos>=r.length},r.end=function(){return r.pos=r.length,r},r.mov=function(e){return r.pos=0>e?kt(0,r.pos+e):dt(r.length,r.pos+e),r},r.bck=function(e){return r.pos=kt(0,e),r},r.sft=function(){return r.start=r.pos,r},r.nxt=function(e,t){var n,o,l="";if(!0===e){for(t=t||ee.$NONSPC$;r.pos<r.length&&t.test(n=r[vt](r.pos++));)l+=n;return l.length?l:null}for(e=e||1,o=0;o++<e&&r.pos<r.length;)l+=r[vt](r.pos++);return l},r.cur=function(e){var t=r.slice(r.start,r.pos);return e&&(r.start=r.pos),t},r.sel=function(e,t){return r.slice(e,t)},r.spc=function(e,t){var n;return(n=r.slice(r.pos).match(t||ee.$SPC$))?(!1!==e&&r.mov(n[0].length),n[0]):void 0},r}function te(e,t,n,r,o){var l,a,s;for(null==t&&(t=e.search(ee.$NONSPC$),-1==t&&(t=e.length)),l=r||0,a=o||0;;){if(s=e.indexOf("	",l),0>s||s>=t)return a+(t-l);a+=s-l,a+=n-a%n,l=s+1}}function ne(n,r){return At&e(n)&&(n=k("\\b("+t(s(n).sort(Bt),g).join("|")+")\\b")),!1===r?function(e){return!e||!n.test(e)}:function(e){return!!e&&n.test(e)}}function re(e,t,n,r,o,l){for(;;){n.lastIndex=e.col;var a=n.exec(e.text);if(!a){if(e.next()){e.text=e.line(e.row);continue}return}{if(t(e.token(e.row,a.index+1)))return e.col=a.index+a[0].length,
a;e.col=a.index+1}}}function oe(e,t,n,r,o,l){for(var a,s,i;;){if(a=e.text.indexOf(o,e.col),-1===a){if(e.next()){e.text=e.line(e.row);continue}return}if(t(e.token(e.row,a+1)))return s=e.text.lastIndexOf(l,a),i=s>-1&&!ee.$NOTEMPTY$.test(e.text.slice(s+1,a)),e.col=a+1,i?"autoclosed":"regular";e.col=a+1}}function le(e,t,n,r,o,l,a,s,i,u){if(-1===e){var c,p,f,m,h,g,k,d,$=1,v=t.first(),b=(l.length,a.length,!1===o);e:for(c=n;c>=v;--c)for(p=t.line(c),f=p.length,m=c===n?r-1:f;;){if(0>m)break;if(h=p.lastIndexOf(l,m),g=p.lastIndexOf(a,m),0>h&&0>g)break;if(m=kt(h,g),b||u||t.token(c,m+1)==o)if(m===g)++$;else if(0===--$){k=c,d=m;break e}--m}return null==k||i&&k===n&&d===r?!1:[k,d,n,r]}var c,p,f,m,h,g,y,x,$=1,w=t.last(),b=(l.length,a.length,!1===o);e:for(c=n;w>=c;++c)for(p=t.line(c),f=p.length,m=c===n?r:0;;){if(m>=f)break;if(h=p.indexOf(l,m),g=p.indexOf(a,m),0>h&&0>g)break;if(0>h&&(h=f),0>g&&(g=f),m=dt(h,g),b||u||t.token(c,m+1)==o)if(m===h)++$;else if(0===--$){y=c,x=m;break e}++m}return null==y||i&&n===y&&x===r?!1:[n,r,y,x]}function ae(e){var t=e?e.data:null;t&&t.load&&t.ace_worker_base&&(importScripts(t.ace_worker_base),ace.define("ace/grammar_worker",["require","exports","module","ace/worker/mirror"],function(e,t,n){var r=e("./worker/mirror").Mirror;t.AceGrammarWorker=h(r,{constructor:function(e){var t=this;r.call(t,e),t.setTimeout(300)},$parser:null,init_parser:function(e,t){var n=this,r=Object.keys(e.subgrammars);if(n.$parser=new un(F(e.grammar),null,!1),r&&r.length)for(var o=0,l=r.length;l>o;o++)n.$parser.subparser(r[o],new un(F(e.subgrammars[r[o]]),null,!1));n.sender.callback(1,t)},onUpdate:function(){var e,t,n,r,o,l=this,a=l.sender,s=l.$parser;if(!s)return void a.emit("ace_grammar_worker_ok",null);if(e=l.doc.getValue(),!e||!e.length)return void a.emit("ace_grammar_worker_ok",null);if(t=s.parse(e,me),!t)return void a.emit("ace_grammar_worker_ok",null);o=[];for(n in t)t[pt](n)&&(r=t[n],o.push({row:r[0],column:r[1],text:r[4]||"Syntax Error",type:"error",raw:r[4]||"Syntax Error",range:[r[0],r[1],r[2],r[3]]}));o.length?a.emit("ace_grammar_worker_error",o):a.emit("ace_grammar_worker_ok",null)}})}))}function se(e,t){e[t]||(e[t]=[]);var n,r=e[t];if(r&&r.length)for(n=0;n<r.length;n++)e.removeMarker(r[n]);r.length=0}function ie(e,t,n,r){var o,l,a,s=t.length;for(se(e,n),a=e[n],o=0;s>o;o++)l=t[o],l.range&&(a.push(e.addMarker(new r(l.range[0],l.range[1],l.range[2],l.range[3]),"ace_error-marker","text",0)),c(l,"range"))}function ue(e,t){se(e,t),e.clearAnnotations()}function ce(e,t,n,r){ie(e,t,n,r),e.setAnnotations(t)}function pe(e,t,n){n=n||sn;var r=n.require("ace/range").Range,o=n.require("ace/worker/worker_client").WorkerClient,l=h(o,{constructor:function(e,t,r,o){var l=this,a=n.require,s=n.config;if(l.$sendDeltaQueue=l.$sendDeltaQueue.bind(l),l.changeListener=l.changeListener.bind(l),l.onMessage=l.onMessage.bind(l),a.nameToUrl&&!a.toUrl&&(a.toUrl=a.nameToUrl),!o)if(s.get("packaged")||!a.toUrl)o=o||s.moduleUrl(t,"worker");else{var i=l.$normalizePath;o=o||i(a.toUrl("ace/worker/worker.js",null,"_"));var u={};e.forEach(function(e){u[e]=i(a.toUrl(e,null,"_").replace(/(\.js)?(\?.*)?$/,""))})}try{l.$worker=new Worker(o)}catch(c){if(!(c instanceof window.DOMException))throw c;var p=l.$workerBlob(o),f=window.URL||window.webkitURL,m=f.createObjectURL(p);l.$worker=new Worker(m),f.revokeObjectURL(m)}l.$worker.postMessage({load:!0,ace_worker_base:on.base+"/"+s.moduleUrl("ace/worker/json")+ln}),l.$worker.postMessage({init:!0,tlns:u,module:t,classname:r}),l.callbackId=1,l.callbacks={},l.$worker.onmessage=l.onMessage}}),a=n.require("ace/mode/folding/fold_mode").FoldMode,s=h(a,{constructor:function(e){var t=this;a.call(t),t.$mode=e,t.$folds={}},getFoldWidget:function(e,t,n){var r,o,l,a,s=this;return s.$mode.supportCodeFolding?(r=s.$folds,(o=s.$mode.folder(e,t,n))?r[o[0]]=r[o[2]]=o:(o=r[n])&&(n===o[0]?(delete r[n],o===r[o[2]]&&delete r[o[2]]):n===o[2]&&(l=o[0],(a=s.$mode.folder(e,t,l))?(r[a[0]]=r[a[2]]=a,o===r[l]&&delete r[l],o===r[n]&&delete r[n]):(o===r[l]&&delete r[l],o===r[n]&&delete r[n]))),o=r[n]?"markbeginend"===t?n===o[2]&&o[0]!==o[2]?"end":"start":n===o[0]?"start":"":""):""},getFoldWidgetRange:function(e,t,n,o){if(this.$mode.supportCodeFolding){var l=this.$folds[n];return l?new r(l[0],l[1],l[2],l[3]):void 0}}}),i=n.require("ace/mode/text").Mode,u=h(i,{constructor:function(e){var n=this;i.call(n),n.$id=f("ace_grammar_mode"),n.$grammar=e,n.$parser=new cn.Parser(F(e),t),n.$parser.Mode=n,n.$tokenizer=n.$parser,n.lineCommentStart=n.$parser.LC,n.blockComment=n.$parser.BC,n.$markers$=n.$id+"$markers$",n.foldType="fold_"+n.$id,n.foldingRules=new s(n),n.matchType="match_"+n.$id,n.matcher.clear=function(e){e.$bracketHighlight&&(e.removeMarker(e.$bracketHighlight),e.$bracketHighlight=null);var t=e[n.matchType];if(e[n.matchType]=null,t&&t.length)for(var r=0,o=t.length;o>r;r++)e.removeMarker(t[r])}},supportGrammarAnnotations:!1,createWorker:function(e){var t=this,n=t.$markers$;if(!t.supportGrammarAnnotations)return ue(e,n),null;var o=new l(["ace"],"ace/grammar_worker","AceGrammarWorker",on.file+ln);return o.attachToDocument(e.getDocument()),o.call("init_parser",[{grammar:t.$grammar,subgrammars:t.getSubgrammars()}],function(){o.on("ace_grammar_worker_error",function(t){var o=t.data;ce(e,o,n,r)}),o.on("ace_grammar_worker_ok",function(){ue(e,n)})}),o.on("terminate",function(){ue(e,n)}),o},supportAutoCompletion:!0,autocompleter:function c(e,t,r,o){var l=this;return l.supportAutoCompletion?e.parser.autocomplete(e.state,t,r,o,c.options||{},n):[]},getKeywords:function(e){return[]},supportCodeFolding:!0,folder:function(e,t,r){var o=this,l=e.getState(r),a=l&&l.parser||o.$parser,s=a.fold(e,r,n);return s?(s.start=!0,s.end=!1,s):void 0},supportCodeMatching:!0,matcher:function p(e,t){var o=this;return!1===t?(e.$highlightBrackets$&&(e.$highlightBrackets=e.$highlightBrackets$,e.$highlightBrackets$=null),o):(e.$highlightBrackets$||(e.$highlightBrackets$=e.$highlightBrackets),e.$highlightBrackets=function(){if(o.supportCodeMatching){var e=this;p.clear(e.session),e.$highlightPending||(e.$highlightPending=!0,setTimeout(function(){e.$highlightPending=!1;var t,l,a=e.getSelection();a.isBackwards()?(t=a.lead,l=a.anchor):(t=a.anchor,l=a.lead);var s=e.session.getTokenAt(l.row,l.column-1),i=s&&s.mode?s.mode.parser:o.$parser,u=i.match(e.session,l.row,l.column,n);null!=u&&(!1===u?a.isEmpty()?e.session[o.matchType]=[e.session.addMarker(new r(l.row,l.column-1,l.row,l.column),"ace_error-marker","text")]:e.session[o.matchType]=[e.session.addMarker(new r(t.row,t.column,l.row,l.column),"ace_error-marker","text")]:!1===u.match?e.session[o.matchType]=[e.session.addMarker(new r(u[0],u[1],u[2],u[3]),"ace_error-marker","text")]:e.session[o.matchType]=[e.session.addMarker(new r(u[0],u[1],u[2],u[3]),"ace_selection","text"),e.session.addMarker(new r(u[4],u[5],u[6],u[7]),"ace_selection","text")])},50))}},o)},getSubgrammars:function(){for(var e=this,t=e.$parser,n=Object.keys(t.$subgrammars),r={},o=0,l=n.length;l>o;o++)r[n[o]]=t.$subgrammars[n[o]].Mode.$grammar;return r},submode:function(e,t){var n=this;return n.$parser.subparser(e,t.$parser),n},dispose:function(){var e=this;e.$parser&&e.$parser.dispose(),e.$tokenizer=e.$parser=e.$grammar=e.autocompleter=e.getCompletions=e.foldingRules=e.folder=e.matcher=null}});return u.prototype.getCompletions=u.prototype.autocompleter,new u(e)}var fe=1,me=2,he=32,ge=4,ke=8,de=~ge,$e=~ke,ve=ge|ke,be=0,ye=4,xe=8,we=16,_e=17,Me=32,Oe=33,Se=128,qe=129,Ee=2,Le=4,Te=8,De=4,je=8,Fe=9,Re=16,Ce=32,Ae=128,Ie=256,ze=512,Ne=1024,Pe=1025,Ue=2048,Be=4096,We=8192,Ge=8193,Ye=8194,He=8195,Ke=16384,Qe=Ke,Ve=16385,Ze=32768,Je=65536,Xe=Be|Ze,et=Ue|Be|We|Ke|Ze|Je,tt={action:De,simple:ze,block:Ne,comment:Pe,subgrammar:Je,alternation:Ue,sequence:Be,repeat:We,zeroorone:Ge,zeroormore:Ye,oneormore:He,positivelookahead:Qe,negativelookahead:Ve,ngram:Ze},nt="$|SOF|$",rt="$|NONBLANK|$",ot="$|SOL|$",lt="$|EOL|$",at="$|ENDLINE|$",st="$|EMPTY|$",it="$|NONSPACE|$",ut=void 0,ct="prototype",pt="hasOwnProperty",ft="propertyIsEnumerable",mt=Object[ct],ht=mt.toString,gt=Object.create,kt=Math.max,dt=Math.min,$t="toLowerCase",vt="charAt",bt=1/0,yt=4,xt=8,wt=16,_t=32,Mt=33,Ot=34,St=64,qt=128,Et=129,Lt=130,Tt=256,Dt=512,jt=1024,Ft=2048,Rt=4096,Ct=qt|_t,At=qt|Tt,It=Ft|Tt,zt=qt|Tt|Ft,Nt={"[object Number]":_t,"[object String]":qt,"[object Array]":Tt,"[object RegExp]":Ft,"[object Date]":Rt,"[object Function]":jt,"[object Object]":Dt},Pt=/^\s+|\s+$/g,Ut=String[ct].trim?function(e){return e.trim()}:function(e){return e.replace(Pt,"")},Bt=function(e,t){return t.length-e.length},Wt=/\r\n|\r|\n/g,Gt=/[\-_]/g,Yt=0,Ht=/([.*+?^${}()|[\]\/\\\-])/g,Kt=/^([.!&\[\]{}()*+?\/|'"]|\s)/,Qt="(\\s|\\W|$)",Vt=/(l?i?l?)x(l?i?l?)$/,Zt=/[*+]$/;Z.prototype.toString=function(){var e=this;return e.id+"_"+e.line+"_"+e.bline+"_"+(e.block?e.block.name:"0")},ee.$SPC$=/^[\s\u00a0]+/,ee.$NONSPC$=/[^\s\u00a0]/,ee.$NOTEMPTY$=/\S/,ee.$SPACE$=/^\s*/;var Jt=h({constructor:function(e,t,n){var r=this;r.$grammar=e,r.$DEF=t||null,r.$ERR=n||null,r.DEF=r.$DEF,r.ERR=r.$ERR,r.$folders=[],r.$matchers=[],r.$subgrammars={}},$grammar:null,$subgrammars:null,$folders:null,$matchers:null,$n$:"name",$t$:"type",$v$:"token",$DEF:null,$ERR:null,DEF:null,ERR:null,dispose:function(){var e=this;return e.$grammar=e.$subgrammars=null,e.$folders=e.$matchers=null,e.$n$=e.$t$=e.$v$=null,e.$DEF=e.$ERR=e.DEF=e.ERR=null,e},token:function(e,t,n){var r,o,l,a,s,i,u,c,p,f,m,h,g,k,d,$,v,b=this,y=b.$grammar,x=y.Style,w=b.DEF,_=b.ERR,M={},O=b.$n$,S=b.$t$,q=b.$v$,E=y.$interleaved,L=y.$parser,T=L.length,D=E?E.length:0,j=t.outer,F=j&&j[2],R=j&&j[1];if(e.sol()&&(t.$eol$&&(t.$blank$&&(t.bline=t.line),t.$eol$=!1,t.line++),t.$blank$=t.bline+1===t.line),t.$actionerr$=!1,t.token=null,a=t.line,s=e.pos,f=!1,h=!0,m=!1,g=!1,j&&b===j[0]){if(M[O]=null,M[S]=w,M[q]=null,R){if(l=new z,Y(R,e,F,l))return t.outer=null,{parser:b,state:F};for(e.nxt(1);!e.eol();){if(Y(R,e,F,l)){if(e.pos>s)break;return t.outer=null,{parser:b,state:F}}e.nxt(1)}}else e.spc(),e.eol()?g=!0:e.end();return M[q]=e.cur(1),t.$eol$=e.eol(),t.$blank$=t.$blank$&&(g||t.$eol$),M}if(t.stack&&Re===t.stack.val.type&&e.sol()&&(t.stack=t.stack.prev),(!t.stack||Ie!==t.stack.val.type&&null==t.block)&&e.spc()){if(t.stack&&Je===t.stack.val.type)return e.bck(s),r=t.stack.val,t.stack=t.stack.prev,f=Y(r,e,t,l),k=""+f,b.$subgrammars[k]?(d=b.$subgrammars[k],$=new Z(1,n[k]?n[k]:t.status),F=t):(d=b,$=new Z,F=t),$.outer=[b,f.next,F],{parser:d,state:$,toInner:k};h=!1,g=!0}if(M[O]=null,M[S]=w,M[q]=null,h)for(l=new z,i=0;h&&(t.stack||T>i)&&!e.eol();){if(c=e.pos,p=t.stack,R){if(e.spc(),Y(R,e,F,l))return e.pos>c?(M[q]=e.cur(1),t.$eol$=e.eol(),t.$blank$=t.$blank$&&!0,M):(t.outer=null,{parser:j[0],state:F,fromInner:t});e.bck(c)}if(v=!1,D&&!t.block)for(u=0;D>u;u++)if(r=E[u],f=Y(r,e,t,l),!1!==f){v=!0;break}if(h&&!v){if(!t.stack&&i>=T)break;t.stack?(r=t.stack.val,t.stack=t.stack.prev):r=L[i++],f=Y(r,e,t,l)}if(!1===f){if(r.status&ve){t.token=r,g=G(t,e,l,r)||g,m=!0,h=!1;break}}else{if(f.subgrammar)return k=""+f,b.$subgrammars[k]?(d=b.$subgrammars[k],$=new Z(1,n[k]?n[k]:t.status),F=t):(d=b,$=new Z,F=t),$.outer=[b,f.next,F],{parser:d,state:$,toInner:k};if(t.stack&&t.stack.prev&&e.eol()&&Ne&t.stack.val.type&&t.block&&t.block.name===t.stack.val.name)for(u=t.stack.prev;u&&De===u.val.type;)o=u,u=u.prev,H(o,e,t,l),o.status&ke&&(t.$actionerr$=!0);else if(t.stack&&De===t.stack.val.type)for(;t.stack&&De===t.stack.val.type;)o=t.stack.val,t.stack=t.stack.prev,H(o,e,t,l),o.status&ke&&(t.$actionerr$=!0);if(!0!==f){h=!1;break}}}return h&&e.nxt(1),M[q]=e.cur(1),!1!==f?(f=x[f]||w,M[O]=r.name):m?(f=_,t.status&me&&U(t,a,s,a,e.pos,r)):f=w,M[S]=f,t.$eol$=e.eol(),t.$blank$=t.$blank$&&(g||t.$eol$),M},get:function(e,t){for(var n=t.parser.token(e,t.state,t.inner);n&&n.parser;)n.fromInner&&t.parser!==n.parser&&(t.state.err=n.fromInner.err,t.name&&(t.inner[t.name]=n.fromInner)),n.state.err=t.state.err,n.state.line=t.state.line,n.state.bline=t.state.bline,n.state.$blank$=t.state.$blank$,n.state.$eol$=t.state.$eol$,n.state.$full_parse$=t.state.$full_parse$,t.state=n.state,t.parser=n.parser,t.name=n.toInner,n=t.parser.get(e,t);return n},tokenize:function(e,t,n){var r=[];if(e.eol())t.state.line++,t.state.$blank$&&t.state.bline++;else for(;!e.eol();)r.push(t.parser.get(e,t));return r},parse:function(e,t){var n,o,l,a,s,i,u=(e||"").split(Wt),c=u.length,p=null;if(t=t||fe,l=!!(t&me),a=!!(t&fe),o={parser:this,state:new Z(0,t),inner:{}},o.state.$full_parse$=!0,r(function(e){u[e]+="\n"},0,c-2),a?p=r(t&he?function(e,t){t._=t._.concat(o.parser.tokenize(ee(u[e]),o,e))}:function(e,t){t._.push(o.parser.tokenize(ee(u[e]),o,e))},0,c-1,{_:[]})._:r(function(e){var t=ee(u[e]);if(t.eol())o.state.line++,o.state.$blank$&&o.state.bline++;else for(;!t.eol();)o.parser.get(t,o)},0,c-1),n=o.state,l&&n.queu&&n.queu.length)for(;n.queu.length;)s=n.queu.shift(),U(n,s[1],s[2],s[3],s[4],null,s[5]);return i=a&&l?{tokens:p,errors:n.err}:a?p:n.err,X(n),o=n=null,i},autocompletion:function(e,t){var n,r,o=e.stack,l={},a=S([e.token],[],l);for(t=t||0;o;){if(n=o.val,r=n.type,We&r){if(a=S([n],a,l),0<n.min&&t<a.length)break}else if((ze===r||Ue===r||Xe&r)&&(a=S([n],a,l),t<a.length))break;o=o.prev}return a},subparser:function(e,t){var n=this;return!1===t?n.$subgrammars[pt](e)&&delete n.$subgrammars[e]:t&&(n.$subgrammars[e]=t),n},iterator:function(){},validate:function(){},autocomplete:function(){},indent:function(){},fold:function(){},match:function(){}}),Xt={Pattern:function(e,t,n){return function(){}},Indented:function(e){return e=e||ee.$NOTEMPTY$,function(t){var n,r,o,l,a,s,i,u,c,p=t.row;if(n=t.line(p),e.test(n)){for(r=t.indentation(n),s=null,a=n.length,u=p+1,c=t.last();c>=u;++u)if(o=t.line(u),l=t.indentation(o),l>r)s=u,i=o.length;else if(e.test(o))break;return s?[p,a,s,i]:void 0}}},Delimited:function(e,t,n,r){return e&&t&&e.length&&t.length?(n=n||a,function(o){var l,a,s,i,u,c,p=o.row,f=o.col;for(l=o.line(p),s=f,i=0;;){var u=0>=s?-1:l.lastIndexOf(e,s-1);if(-1!==u){if(1===i&&f>u)return;if(n(c=o.token(p,u+1))){a=u+e.length;break}s=u-1}else{if(1===i)return;i=1,s=l.length}}return le(1,o,p,a,c,e,t,n,!0,r)}):function(){}},MarkedUp:function(e,t,n,r,o){return e=e||a,t=t||"<",n=n||">",r=r||"/",o=o||k(g(t)+"("+g(r)+"?)([a-zA-Z_\\-][a-zA-Z0-9_\\-:]*)",{g:1}),function(l){l.col=0,l.min=l.first(),l.max=l.last(),l.text=l.line(l.row);for(var a,s,i,u,c,p,f,m,h,g=l.row;;){if(a=re(l,e,o,t,n,r),!a||l.row!==g||!(s=oe(l,e,o,t,n,r)))return;if(!a[1]&&"autoclosed"!==s)for(i=[l.row,l.col],c=a[2],u=null,p=[];;){if(f=re(l,e,o,t,n,r),g=l.row,m=l.col-(f?f[0].length:0),!f||!(s=oe(l,e,o,t,n,r)))return!1;if("autoclosed"!==s)if(f[1]){for(h=p.length-1;h>=0;--h)if(p[h]===f[2]){p.length=h;break}if(0>h&&(!c||c===f[2]))return[i[0],i[1],g,m]}else p.push(f[2])}}}}},en={Pattern:function(e,t,n){return function(){}},Delimited:function(e,t,n,r){return e&&t&&e.length&&t.length?(n=n||a,function(o){var l,a=o.col,s=o.row,i=o.line(s),u=!1,c=e.length,p=t.length;return a>=c&&(1===c&&e===i.charAt(a-1)||e===i.slice(a-c,a))?(l=le(1,o,s,a,u,e,t,n,!1,r),l?(l=[l[0],l[1]-c,l[0],l[1],l[2],l[3],l[2],l[3]+p],l.match="end"):(l=[s,a-c,s,a],l.match=!1),l):a>=p&&(1===p&&t===i.charAt(a-1)||t===i.slice(a-p,a))?(l=le(-1,o,s,a-p,u,e,t,n,!1,r),l?(l=[l[0],l[1],l[0],l[1]+c,l[2],l[3],l[2],l[3]+p],l.match="start"):(l=[s,a-p,s,a],l.match=!1),l):void 0}):function(){}},MarkedUp:function(e,t,n,r,o){return function(){}}},tn=!("undefined"==typeof global||"[object global]"!==ht.call(global)),nn=!(tn||"undefined"==typeof navigator),rn=!!(nn&&"function"==typeof importScripts&&navigator instanceof WorkerNavigator),on=function(e,t,n){var r,o=null,l=null,a=null;return e?(o=__filename,l=__dirname,a=__dirname):n?(o=self.location.href,l=o.split("/").slice(0,-1).join("/")):t&&(a=document.location.href.split("#")[0].split("?")[0].split("/").slice(0,-1).join("/"),(r=document.getElementsByTagName("script"))&&r.length&&(o=r[r.length-1].src,l=o.split("/").slice(0,-1).join("/"))),{path:l,file:o,base:a}}(tn,nn,rn),ln="?nocache="+f("nonce")+"_"+~~(1e3*Math.random()),an=function(){return(this.name||"")+"==>"+this.state.toString()},sn="undefined"!=typeof ace?ace:{require:function(){return{}},config:{}},un=h(Jt,{constructor:function pn(t,n,o){var l,s=this,i=null,u=null;if(Jt.call(s,t,"text","invalid"),s.$v$="value",s.DEF=n||s.$DEF,s.ERR=t.Style.error||s.$ERR,s.LC=t.$comments.line||null,s.BC=t.$comments.block?{start:t.$comments.block[0][0],end:t.$comments.block[0][1]}:null,!1!==o){if(t.$comments.block&&t.$comments.block.length){l=pn.Type("comment");for(var c=0,p=t.$comments.block.length;p>c;c++)s.$folders.push(pn.Fold.Delimited(t.$comments.block[c][0],t.$comments.block[c][1],l,"comment"))}t.Fold&&qt&e(t.Fold)?i=t.Fold[$t]():t.$extra.fold&&(i=t.$extra.fold[$t]()),u=t.Match&&qt&e(t.Match)?t.Match[$t]():t.$extra.match?t.$extra.match[$t]():i;var f=D(t,1);l=f.length?pn.Type(f,!1):a,i&&(i=i.split("+"),r(function(e,t){var n,r=Ut(t[e]);"braces"===r?s.$folders.push(pn.Fold.Delimited("{","}",l)):"brackets"===r?s.$folders.push(pn.Fold.Delimited("[","]",l)):"parens"===r||"parentheses"===r?s.$folders.push(pn.Fold.Delimited("(",")",l)):"brace"===r||"cstyle"===r||"c"===r?(s.$folders.push(pn.Fold.Delimited("{","}",l)),s.$folders.push(pn.Fold.Delimited("[","]",l))):"indent"===r||"indentation"===r?s.$folders.push(pn.Fold.Indented()):"tags"===r||"markup"===r||"html"===r||"xml"===r?(s.$folders.push(pn.Fold.Delimited("<![CDATA[","]]>",pn.Type(["comment","tag"],!1))),s.$folders.push(pn.Fold.MarkedUp(pn.Type("tag"),"<",">","/"))):-1<(n=r.indexOf(","))&&s.$folders.push(pn.Fold.Delimited(r.slice(0,n),r.slice(n+1),l))},0,i.length-1,i)),u&&(u=u.split("+"),r(function(e,t){var n,r=Ut(t[e]);"braces"===r?s.$matchers.push(pn.Match.Delimited("{","}")):"brackets"===r?s.$matchers.push(pn.Match.Delimited("[","]")):"parens"===r||"parentheses"===r?s.$matchers.push(pn.Match.Delimited("(",")")):"brace"===r||"cstyle"===r||"c"===r?(s.$matchers.push(pn.Match.Delimited("{","}")),s.$matchers.push(pn.Match.Delimited("[","]")),s.$matchers.push(pn.Match.Delimited("(",")"))):"tags"===r||"markup"===r||"html"===r||"xml"===r?s.$matchers.push(pn.Match.MarkedUp(pn.Type("tag"),"<",">","/")):-1<(n=r.indexOf(","))&&s.$matchers.push(pn.Match.Delimited(r.slice(0,n),r.slice(n+1)))},0,u.length-1,u))}},LC:null,BC:null,dispose:function(){var e=this;return e.LC=e.BC=null,Jt[ct].dispose.call(e)},tokenize:function(e,t,n){var r,o=[];if(e.eol())t.state.line++,t.state.$blank$&&t.state.bline++;else for(;!e.eol();)r=t.parser.get(e,t),r.mode=t,o.push(r);return o},getLineTokens:function(e,t,n){var r,o=this;return r=t?{parser:t.parser,state:new Z(1,t.state),inner:t.inner,name:t.name,toString:an}:{parser:o,state:new Z(1),inner:{},name:null,toString:an},{tokens:r.parser.tokenize(ee(e),r,n),state:r}},autocomplete:function(e,t,r,o,l,a){var s=this,i=[];if(s.$grammar.$autocomplete){l=l||{};var u=l[pt]("caseInsesitiveMatch")?!!l.caseInsesitiveMatch:!1,c=l[pt]("prefixMatch")?!!l.prefixMatch:!0,p=l[pt]("inContext")?!!l.inContext:!1,f=o,m=f[$t](),h=f.length,g=!1,k=1e3,d=function(e,t){var n,r,o,l,a,s,i,p=t.word,d=p.length;return h?d>=h&&(n=t.meta,r=!!p.ci,i=u||r,i?(a=p[$t](),s=m):(a=p,s=f),(l=a.indexOf(s))>=0&&(!c||0===l)&&(o=i?p.indexOf(f):l,e.push({name:p,value:p,meta:n,score:1e3-10*(d-h)-5*(0>o?l+3:o)}))):e.push({name:p,value:p,meta:t.meta,score:g?1e3-10*d:k--}),e};p?(g=!1,i=n(s.autocompletion(e),d,i),i.length||(g=!0,i=n(s.$grammar.$autocomplete,d,i))):(g=!0,i=n(s.$grammar.$autocomplete,d,i))}return i},iterator:function(e,t){var n=e.getTabSize();return{row:0,col:0,min:0,max:0,line:function(t){return e.getLine(t)},first:function(){return 0},last:function(){return e.getLength()-1},next:function(){var e=this;if(!(e.row>=e.max))return e.col=0,e.row++,!0},prev:function(){var e=this;if(!(e.row<=e.min))return e.col=0,e.row--,!0},indentation:function(e){return te(e,null,n)},state:function(t,n){var r=e.getState(t);return r.state||r},token:function(t,n){return e.getTokenAt(t,n).type},tokens:function(t){return e.getTokens(t)}}},fold:function(e,t,n){var r,o,l,a=this,s=a.$folders,i=s.length;if(i)for(o=a.iterator(e,n),o.row=t,o.col=0,r=0;i>r;r++)if((l=s[r](o))||!1===l)return l},match:function(e,t,n,r){var o,l,a,s=this,i=s.$matchers,u=i.length;if(u)for(l=s.iterator(e,r),l.row=t,l.col=n||0,o=0;u>o;o++)if((a=i[o](l))||!1===a)return a}});un.Type=ne,un.Fold=Xt,un.Match=en,rn&&(onmessage=ae);var cn={VERSION:"4.0.1",clone:o,extend:l,pre_process:j,parse:F,getMode:pe,Parser:un};return cn});