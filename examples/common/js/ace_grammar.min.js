/**
*
*   AceGrammar
*   @version: 1.0.2
*
*   Transform a grammar specification in JSON format, into an ACE syntax-highlight parser mode
*   https://github.com/foo123/ace-grammar
*
**/!function(e,t,n){"use strict";var r,o="object"==typeof module&&module.exports,l="function"==typeof define&&define.amd;o?module.exports=(module.$deps=module.$deps||{})[t]=module.$deps[t]||n.call(e,{NODE:module})||1:l&&"function"==typeof require&&"function"==typeof require.specified&&require.specified(t)?define(t,["require","exports","module"],function(t,r,o){return n.call(e,{AMD:o})}):t in e||(e[t]=r=n.call(e,{})||1)&&l&&define(t,[],function(){return r})}(this,"AceGrammar",function(e){"use strict";function t(e,t){var n,r=this;return(n=e.chr(r.tp,t))?[r.tk,n]:!1}function n(e,t){var n,r=this;return(n=e.chl(r.tp,t))?[r.tk,n]:!1}function r(e,t){var n,r=this;return(n=e.str(r.tp,r.p,t))?[r.tk,n]:!1}function o(e,t){var n,r=this;return(n=e.rex(r.tp,r.p,r.np,r.tg,t))?[r.tk,n]:!1}function l(e,t){var n=this;return!1!==t&&e.end(),[n.tk,""]}function i(e,t,n,r){var o=gt(t);if(Y===o)return t;if(r[e])return r[e];n=n||0;var l,i=0;return t&&t.isCharList&&(i=1,delete t.isCharList),l=ct&o?new Ut(ct,e,t,n):nt===o?new Ut(nt,e,t,n):tt&o?i?new Ut(rt,e,t,n):new Ut(tt,e,t,n):ot&o?new Ut(st,e,t,n):t,r[e]=l}function s(e,t,n,r,o,l){if(l[e])return l[e];var u,c,a,p,f,h,g,m=0,k=0,d=1;if(u=Et(t),a=u.length,1===a)g=i(e,Bt(u[0],n,o),0,l);else if(a>1){for(p=(a>>1)+1,c=0;p>=c;c++)f=gt(u[c]),h=gt(u[a-1-c]),(nt!==f||nt!==h)&&(d=0),ot&f||ot&h?m=1:(Mt(u[c],n)||Mt(u[a-1-c],n))&&(k=1);if(!d||r&&tt&gt(r))if(!r||m||k){for(c=0;a>c;c++)u[c]=ot&gt(u[c])?s(e+"_"+c,u[c],n,r,o,l):i(e+"_"+c,Bt(u[c],n,o),c,l);g=a>1?new zt(e,u):u[0]}else g=i(e,It(u,r),0,l);else u=u.slice().join(""),u.isCharList=1,g=i(e,u,0,l)}return l[e]=g}function u(e,t,n,r,o){if(o[e])return o[e];var l,s,u,c,a,p,f;for(c=[],a=[],l=vt(t),s=0,u=l.length;u>s;s++)p=i(e+"_0_"+s,Bt(l[s][0],n,r),s,o),f=l[s].length>1?st!==p.tt||tt!==gt(l[s][1])||Mt(l[s][1],n)?i(e+"_1_"+s,Bt(l[s][1],n,r),s,o):l[s][1]:p,c.push(p),a.push(f);return o[e]=new $t(e,c,a)}function c(e,t,n){var r,o,l,i,s,u,c,a,p,f,h,g;if(u=new String(xt(e)),u.pos=0,1===u.length)f=""+e,t[f]||(t[f]={type:"simple",tokens:e}),e=f;else{for(r=[],o=[],l="",h=[];u.pos<u.length;)if(a=u.charAt(u.pos++),Lt.test(a))if(l.length&&(t[l]||n[l]||(t[l]={type:"simple",tokens:l}),o.push(l),l=""),'"'===a||"'"===a){for(c=a,i="";u.pos<u.length&&c!==(a=u.charAt(u.pos++));)i+=a;i.length?(f=""+i,t[f]||(t[f]={type:"simple",tokens:i}),o.push(f)):o.push(0)}else if("*"===a||"+"===a||"?"===a)p=o.pop(),f=""+p+a,n[f]||(n[f]={type:"group",match:"*"===a?"zeroOrMore":"+"===a?"oneOrMore":"zeroOrOne",tokens:[p]}),o.push(f);else if("{"===a){for(s="";u.pos<u.length&&"}"!==(a=u.charAt(u.pos++));)s+=a;s=s.split(",").map(xt),s[0]=s[0].length?parseInt(s[0],10)||0:0,0>s[0]&&(s[0]=0),2>s.length?s.push(s[0]):s[1]=s[1].length?parseInt(s[1],10)||R:R,0>s[1]&&(s[1]=0),p=o.pop(),f=""+p+["{",s[0]||"",",",isFinite(s[1])?s[1]||"":"","}"].join(""),n[f]||(n[f]={type:"group",match:[s[0],s[1]],tokens:[p]}),o.push(f)}else{if("}"===a)continue;"|"===a?(o.length>1?(f=""+o.join(" "),n[f]||(n[f]={type:"group",match:"sequence",tokens:o}),r.push(f)):o.length&&r.push(o[0]),o=[]):"("===a?(h.push([o,r,l]),o=[],r=[],l=""):")"===a&&(o.length>1?(f=""+o.join(" "),n[f]||(n[f]={type:"group",match:"sequence",tokens:o}),r.push(f)):o.length&&r.push(o[0]),o=[],r.length>1?(f=""+r.join(" | "),n[f]||(n[f]={type:"group",match:"either",tokens:r})):r.length&&(f=r[0]),r=[],g=h.pop(),o=g[0],r=g[1],l=g[2],p=f,f="("+p+")",n[f]||(n[f]=Rt(t[p]||n[p])),o.push(f))}else l+=a;l.length&&(t[l]||n[l]||(t[l]={type:"simple",tokens:l}),o.push(l)),l="",o.length>1?(f=""+o.join(" "),n[f]||(n[f]={type:"group",match:"sequence",tokens:o}),r.push(f)):o.length&&r.push(o[0]),o=[],r.length>1?(f=""+r.join(" | "),n[f]||(n[f]={type:"group",match:"either",tokens:r}),e=f):r.length&&(e=r[0]),r=[]}return e}function a(e,t,n,r,o,l,i,h,g,m,k){var d,w,y,C,O,M,P,q,U,F,K,W,Z,H,Y,J,X=null;if(null===e)return new Ft(b,"EOL",e);if(""===e)return new Ft(S,"NONSPACE",e);if(!1===e||0===e)return new Ft(x,"EMPTY",e);if(ot&gt(e)&&(J=e,e="NGRAM_"+J.join("_"),r[e]||(r[e]={type:"ngram",tokens:J})),e=""+e,h[e])return h[e];for(n[e]?(d=n[e],ft&gt(d)&&(d=n[e]={type:"simple",tokens:d})):d=r[e]?r[e]:e,tt&gt(d)&&(d=c(d,n,r),d=n[d]||r[d]);d.extend;)H=d.extend,Y=n[H]||r[H],delete d.extend,Y&&(ft&gt(Y)&&(Y={type:"simple",tokens:Y}),d=wt(Y,d));if("undefined"==typeof d.type&&(d.all||d.sequence?(d.type="group",d.match="sequence",d.tokens=d.all||d.sequence,d.all?delete d.all:delete d.sequence):d.either?(d.type="group",d.match="either",d.tokens=d.either,delete d.either):d.zeroOrMore?(d.type="group",d.match="zeroOrMore",d.tokens=d.zeroOrMore,delete d.zeroOrMore):d.oneOrMore?(d.type="group",d.match="oneOrMore",d.tokens=d.oneOrMore,delete d.oneOrMore):d.zeroOrOne?(d.type="group",d.match="zeroOrOne",d.tokens=d.zeroOrOne,delete d.zeroOrOne):d.comment?(d.type="comment",d.tokens=d.comment,delete d.comment):d.block?(d.type="block",d.tokens=d.block,delete d.block):d["escaped-block"]?(d.type="escaped-block",d.tokens=d["escaped-block"],delete d["escaped-block"]):d.simple?(d.type="simple",d.tokens=d.simple,delete d.simple):d.type="simple"),w=d.type?z[d.type.toUpperCase().replace(Tt,"")]:_,_&w){if(""===d.tokens)return X=new Ft(S,e,e),h[e]=X,X;if(null===d.tokens)return X=new Ft(b,e,e),h[e]=X,X;if(!1===d.tokens||0===d.tokens)return X=new Ft(x,e,e),h[e]=X,X}if(d.tokens=Et(d.tokens),_&w)d.autocomplete&&f(d,e,k),d.push?(d.action||(d.action=["push",d.push]),delete d.push):d[V]("pop")&&(d.action||(d.action=["pop",d.pop]),delete d.pop),C=null,d.action&&d.action[0]&&("push"===d.action[0]?C=[E,d.action[1]]:"pop"===d.action[0]&&(C=[v,d.action[1]])),y="undefined"==typeof d.combine?"\\b":d.combine,X=new Ft(_,e,s(e,d.tokens.slice(),t,y,l,i)),X.ta=C,h[e]=X;else if(A&w)T&w&&p(d,m),X=new Kt(w,e,u(e,d.tokens.slice(),t,l,i),d.multiline,d.escape,o[e+".inside"]?1:0),h[e]=X,d.interleave&&g.push(X.clone());else if(N&w){for(M=d.tokens.slice(),ot&gt(d.match)?X=new Vt(I,e,null,d.match[0],d.match[1]):(O=$[d.match.toUpperCase()],X=j===O?new Vt(j,e,null,0,1):D===O?new Vt(D,e,null,0,R):G===O?new Vt(G,e,null,1,R):L&O?new Vt(L,e,null):new Vt(B,e,null)),h[e]=X,P=[],F=0,K=M.length;K>F;F++)P=P.concat(a(M[F],t,n,r,o,l,i,h,g,m,k));X.set(P)}else if(Q&w){for(X=vt(d.tokens.slice()).slice(),q=[],F=0,K=X.length;K>F;F++)q[F]=X[F].slice(),X[F]=new Vt(Q,e+"_NGRAM_"+F,null);for(h[e]=X,F=0,K=X.length;K>F;F++){for(U=q[F],P=[],W=0,Z=U.length;Z>W;W++)P=P.concat(a(U[W],t,n,r,o,l,i,h,g,m,k));X[F].set(P)}}return h[e]}function p(e,t){var n,r,o,l,i,s=vt(e.tokens.slice());for(l=0,i=s.length;i>l;l++)n=s[l][0],r=s[l].length>1?s[l][1]:s[l][0],o=s[l].length>2?s[l][2]:"",null===r?(t.line=t.line||[],t.line.push(n)):(t.block=t.block||[],t.block.push([n,r,o]))}function f(e,t,n){var r=[].concat(Et(e.tokens)).map(function(e){return{word:e,meta:t}});n.autocomplete=(n.autocomplete||[]).concat(r)}function h(e){var t,n,r,o,l,i,s,u,c,p,f,h,g,m,k,d;if(e.__parsed)return e;for(f={},h={},g={},k={},d={},m=[],e=Rt(e),t=e.RegExpID||null,e.RegExpID=null,delete e.RegExpID,i=e.Lex||{},e.Lex=null,delete e.Lex,s=e.Syntax||{},e.Syntax=null,delete e.Syntax,l=e.Style||{},o=e.Parser||[],r=o.length,n=[],u=0;r>u;u++)c=o[u],p=a(c,t,i,s,l,f,h,g,m,k,d)||null,p&&(ot&gt(p)?n=n.concat(p):n.push(p));return e.Parser=n,e.cTokens=m,e.Style=l,e.Comments=k,e.Keywords=d,e.Extra=e.Extra||{},e.__parsed=1,e}function g(){ace.define("ace/grammar_worker",["require","exports","module","ace/worker/mirror"],function(e,t){var n,r=e("./worker/mirror").Mirror;t.AceGrammarWorker=n=dt(r,{constructor:function(e){var t=this;r.call(t,e),t.setTimeout(500)},parser:null,Init:function(e,t){var n=this;n.parser=new ln(h(e),{DEFAULT:k,ERROR:d}),n.sender.callback(1,t)},onUpdate:function(){var e,t,n,r,o,l,i,s,u,c=this,a=c.sender,p=c.parser,f=0;if(!p)return void a.emit("ok",null);if(e=c.doc.getValue(),!e||!e.length)return void a.emit("ok",null);for(r=[],t=p.parse(e),l=t.length,o=0;l>o;o++)if(n=t[o],n&&n.length)for(u=0,i=0;i<n.length;i++)s=n[i],p.ERR==s.type&&(r.push({row:o,column:u,text:s.error||"Syntax Error",type:"error",raw:s.error||"Syntax Error"}),f=1),u+=s.value.length;f?a.emit("error",r):a.emit("ok",null)}})})}function m(e,t){var n,r=Rt(e),o=new ln(h(e),{DEFAULT:t||k,ERROR:d});return n={getTokenizer:function(){return o},supportGrammarAnnotations:!1,createWorker:function(e){if(!n.supportGrammarAnnotations)return e.clearAnnotations(),null;Jt.setModuleUrl("ace/grammar_worker",rn.file);var t=new on(["ace"],"ace/grammar_worker","AceGrammarWorker");return t.attachToDocument(e.getDocument()),t.call("Init",[r],function(){t.on("error",function(t){e.setAnnotations(t.data)}),t.on("ok",function(){e.clearAnnotations()})}),t},transformAction:function(){},toggleCommentLines:function(e,t,n,r){return o.tCL(e,t,n,r)},toggleBlockComment:function(e,t,n,r){return o.tBC(e,t,n,r)},getNextLineIndent:function(e,t,n){return o.getNextLineIndent(e,t,n)},checkOutdent:function(){return!1},autoOutdent:function(){},getKeywords:function(){var e=o.Keywords;return e?e.map(function(e){var t=e.word,n=e.meta;return{name:t,value:t,score:1e3,meta:n}}):[]},getCompletions:function(e,t,n,r){var l=o.Keywords;if(!l)return[];var i=r.length;return l.map(function(e){var t=e.word,n=e.meta,o=t.length,l=o>=i&&r===t.substr(0,i);return{name:t,value:t,score:l?1e3-o:0,meta:n}})}}}var k,d,E=1,v=2,R=1/0,w=2,y=4,C=8,_=16,b=17,S=18,x=20,A=32,O=33,T=34,L=64,M=128,B=M,I=256,j=257,D=258,G=259,N=512,Q=1024,P=B|Q,q=2048,U=4096,$={EITHER:L,ALL:M,SEQUENCE:B,ZEROORONE:j,ZEROORMORE:D,ONEORMORE:G,REPEATED:I},z={INDENT:q,DEDENT:U,BLOCK:A,COMMENT:T,ESCAPEDBLOCK:O,SIMPLE:_,GROUP:N,NGRAM:Q},F=void 0,K="prototype",V="hasOwnProperty",W="propertyIsEnumerable",Z=(Object.keys,Array[K],Object[K]),H=(Function[K],Z.toString),Y=4,J=5,X=6,et=8,tt=16,nt=17,rt=18,ot=32,lt=64,it=128,st=256,ut=512,ct=1024,at=2048,pt=4096,ft=tt|ot,ht={"[object Number]":Y,"[object String]":tt,"[object Array]":ot,"[object RegExp]":st,"[object Date]":ut,"[object Function]":it,"[object Object]":lt},gt=function(e){if(null===e)return ct;if(!0===e||!1===e||e instanceof Boolean)return et;if(F===e)return at;var t=ht[H.call(e)]||pt;return Y===t||e instanceof Number?isNaN(e)?X:isFinite(e)?Y:J:tt===t||e instanceof String?1===e.length?nt:tt:ot===t||e instanceof Array?ot:st===t||e instanceof RegExp?st:ut===t||e instanceof Date?ut:it===t||e instanceof Function?it:lt===t?lt:pt},mt=function(){var e,t,n,r,o,l,i=arguments,s=i.length;for(e=i[0]||{},o=1;s>o;o++)if(t=i[o],lt===gt(t))for(r in t)t[V](r)&&t[W](r)&&(n=t[r],l=gt(n),e[r]=Y&l?0+n:ft&l?n.slice():n);return e},kt=Object.create,dt=function(e,t){var n,r=arguments.length,o="constructor";return 0===r?(e=Object,t={}):1===r?(t=e||{},e=Object):(e=e||Object,t=t||{}),t[V](o)||(t[o]=function(){}),n=t[o],delete t[o],n[K]=mt(kt(e[K]),t),n[K][o]=n,n},Et=function(e,t){return t||ot!==gt(e)?[e]:e},vt=function(e,t){return e=Et(e),(t||ot!==gt(e[0]))&&(e=[e]),e},Rt=function(e,t){var n,r,o,l,i=gt(e);if(t=!1!==t,lt===i){r={};for(o in e)e[V](o)&&e[W](o)&&(n=gt(e[o]),r[o]=lt===n?t?Rt(e[o],t):e[o]:ot===n?t?Rt(e[o],t):e[o].slice():tt&n?e[o].slice():Y&n?0+e[o]:e[o])}else if(ot===i)for(l=e.length,r=new Array(l),o=0;l>o;o++)n=gt(e[o]),r[o]=lt===n?t?Rt(e[o],t):e[o]:ot===n?t?Rt(e[o],t):e[o].slice():tt&n?e[o].slice():Y&n?0+e[o]:e[o];else r=tt&i?e.slice():Y&i?0+e:e;return r},wt=function(){var e,t,n,r,o,l,i,s,u,c,a=arguments,p=a.length;if(1>p)return null;for(t=Rt(a[0]),n=1;p>n;n++)if(e=a[n])for(r in e)if(e[V](r)&&e[W](r))if(t[V](r)&&t[W](r)){if(u=gt(t[r]),c=gt(e[r]),lt===u&&lt===c)t[r]=wt(t[r],e[r]);else if(ot===u&&ot===c){if(i=t[r],s=e[r],l=s.length,!l)continue;if(i.length)for(o=0;l>o;o++)0>i.indexOf(s[o])&&i.push(s[o]);else t[r]=s.slice()}}else t[r]=Rt(e[r]);return t},yt=/([.*+?^${}()|[\]\/\\\-])/g,Ct=function(e){return e.replace(yt,"\\$1")},_t=/\$(\d{1,2})/g,bt=function(e,t){var n,r,o,l;for(l=function(e,n){return t[1+parseInt(n,10)]},n=e.split("$$"),o=n.length,r=0;o>r;r++)n[r]=n[r].replace(_t,l);return n.join("$")},St=/^\s+|\s+$/g,xt=String[K].trim?function(e){return e.trim()}:function(e){return e.replace(St,"")},At=function(e,t){return t.length-e.length},Ot=/\r\n|\r|\n/g,Tt=/[\-_]/g,Lt=/^([{}()*+?|'"]|\s)/,Mt=function(e,t){return tt&gt(t)&&tt&gt(e)&&t.length&&t.length<=e.length&&t==e.substr(0,t.length)},Bt=function(e,t,n){if(!e||Y===gt(e))return e;var r,o=t?t.length||0:0;if(o&&t==e.substr(0,o)){var l,i,s,u,r,c,a=e.substr(o),p=a[0],f="";for(r=a.length;r--&&(c=a[r],p!=c);)"i"==c.toLowerCase()&&(f="i");return l=a.substring(1,r),i="^("+l+")",n[i]||(s=new RegExp(i,f),u={peek:null,negativepeek:null},n[i]=[s,u]),n[i]}return e},It=function(e,t){var n={},r="",o=gt(t);(tt===o||nt===o)&&(r=t);var l=e.sort(At).map(function(e){return n[e.charAt(0)]=1,Ct(e)}).join("|");return[new RegExp("^("+l+")"+r),{peek:n,negativepeek:null},1]},jt=0,Dt=function(){return++jt},Gt=function(e){return[e||"uuid",++jt,(new Date).getTime()].join("_")},Nt=Math.max,Qt=/^[\s\u00a0]+/,Pt=/[^\s\u00a0]/,qt=dt({constructor:function(e){var t=this;t._=null,t.s=e?""+e:"",t.start=t.pos=0,t.lCP=t.lCV=0,t.lS=0},_:null,s:"",start:0,pos:0,lCP:0,lCV:0,lS:0,dispose:function(){var e=this;return e._=null,e.s=null,e.start=null,e.pos=null,e.lCP=null,e.lCV=null,e.lS=null,e},toString:function(){return this.s},sol:function(){return 0===this.pos},eol:function(){return this.pos>=this.s.length},chr:function(e,t){var n=this,r=n.s.charAt(n.pos)||null;return r&&e===r?(!1!==t&&(n.pos+=1,n._&&(n._.pos=n.pos)),r):!1},chl:function(e,t){var n=this,r=n.s.charAt(n.pos)||null;return r&&-1<e.indexOf(r)?(!1!==t&&(n.pos+=1,n._&&(n._.pos=n.pos)),r):!1},str:function(e,t,n){var r,o=this,l=o.pos,i=o.s,s=i.charAt(l)||null;return s&&t[s]&&(r=e.length,e===i.substr(l,r))?(!1!==n&&(o.pos+=r,o._&&(o._.pos=o.pos)),e):!1},rex:function(e,t,n,r,o){{var l,i=this,s=i.pos,u=i.s;u.charAt(s)||null}return l=u.slice(s).match(e),!l||l.index>0?!1:(!1!==o&&(i.pos+=l[r||0].length,i._&&(i._.pos=i.pos)),l)},spc:function(e){var t,n=this,r=n.pos,o=n.s.slice(r);return(t=o.match(Qt))?(!1!==e&&(n.pos+=t[0].length,n._&&(n._.pos=n.pos)),1):0},end:function(){var e=this;return e.pos=e.s.length,e._&&(e._.pos=e.pos),e},nxt:function(){var e,t=this,n=t.s;return t.pos<n.length?(e=n.charAt(t.pos++)||null,t._&&(t._.pos=t.pos),e):void 0},bck:function(e){var t=this;return t.pos=Nt(0,t.pos-e),t._&&(t._.pos=t.pos),t},bck2:function(e){var t=this;return t.pos=Nt(0,e),t._&&(t._.pos=t.pos),t},col:function(e){var t=this;return e=e||1,t.lCP<t.start&&(t.lCV=qt.col(t.s,t.start,e,t.lCP,t.lCV),t.lCP=t.start,t._&&(t._.start=t.start,t._.lastColumnPos=t.lCP,t._.lastColumnValue=t.lCV,t._.lineStart=t.lS)),t.lCV-(t.lS?qt.col(t.s,t.lS,e):0)},ind:function(e){var t=this;return e=e||1,qt.col(t.s,null,e)-(t.lS?qt.col(t.s,t.lS,e):0)},cur:function(e){var t=this,n=t.s.slice(t.start,t.pos);return e&&(t.start=t.pos),n},sft:function(){return this.start=this.pos,this}});qt.col=function(e,t,n,r,o){var l,i;for(null===t&&(t=e.search(Pt),-1==t&&(t=e.length)),l=r||0,i=o||0;t>l;++l)i+="	"==e.charAt(l)?n-i%n:1;return i},qt._=function(e){var t=new qt;return t._=e,t.s=""+e.string,t.start=e.start,t.pos=e.pos,t.lCP=e.lastColumnPos,t.lCV=e.lastColumnValue,t.lS=e.lineStart,t};var Ut,$t,zt,Ft,Kt,Vt,Wt=dt({constructor:function(e){this._=e||[]},_:null,dispose:function(){var e=this;return e._=null,e},toString:function(){return this._.slice().reverse().join("\n")},clone:function(){return new Wt(this._.slice())},isEmpty:function(){return 0>=this._.length},pos:function(){return this._.length},peek:function(e){var t=this,n=t._;if(e=arguments.length?e:-1,n.length){if(0>e&&0<=n.length+e)return n[n.length+e];if(e>=0&&e<n.length)return n[e]}return null},pop:function(){return this._.pop()},shift:function(){return this._.shift()},push:function(e){var t=this;return t._.push(e),t},unshift:function(e){var t=this;return t._.unshift(e),t},pushAt:function(e,t,n,r){var o=this,l=o._;return n&&r&&(t[n]=r),e<l.length?l.splice(e,0,t):l.push(t),o},empty:function(e,t){{var n=this,r=n._;r.length}if(e&&t)for(;r.length&&r[r.length-1]&&r[r.length-1][e]===t;)r.pop();else r.length=0;return n}}),Zt=dt({constructor:function(e,t){var n=this;n.id=t?Gt("state"):"state",n.l=e||0,n.stack=new Wt,n.data=new Wt,n.col=0,n.indent=0,n.t=null,n.inBlock=null,n.endBlock=null},id:null,l:0,col:0,indent:0,stack:null,data:null,t:null,inBlock:null,endBlock:null,dispose:function(){var e=this;return e.stack&&e.stack.dispose(),e.data&&e.data.dispose(),e.stack=null,e.data=null,e.id=null,e.t=null,e.l=null,e.col=null,e.indent=null,e.inBlock=null,e.endBlock=null,e},clone:function(e){var t=this,n=new Zt(t.l,e);return n.t=t.t,n.col=t.col,n.indent=t.indent,n.stack=t.stack.clone(),n.data=t.data.clone(),n.inBlock=t.inBlock,n.endBlock=t.endBlock,n},toString:function(){var e=this;return["",e.id,e.l,e.t,e.inBlock||"0"].join("_")}});Ut=dt({constructor:function(e,i,s,u){var c=this;switch(c.mt=w,c.tt=e||nt,c.tn=i,c.tk=u||0,c.tg=0,c.tp=null,c.p=null,c.np=null,c.tt){case nt:case rt:c.tp=s,c.get=rt===c.tt?n:t;break;case tt:c.tp=s,c.p={},c.p[""+s.charAt(0)]=1,c.get=r;break;case st:c.tp=s[0],c.p=s[1].peek||null,c.np=s[1].negativepeek||null,c.tg=s[2]||0,c.get=o;break;case ct:c.tp=null,c.get=l}},mt:null,tt:null,tn:null,tp:null,tg:0,tk:0,p:null,np:null,get:function(){return!1},toString:function(){var e=this;return["[","Matcher: ",e.tn,", Pattern: ",e.tp?e.tp.toString():null,"]"].join("")}}),zt=dt(Ut,{constructor:function(e,t,n){var r=this;r.mt=y,r.tn=e,r.ms=t,r.ownKey=!1!==n},ms:null,ownKey:!0,get:function(e,t){var n,r,o=this,l=o.ms,i=l.length,s=o.ownKey;for(n=0;i>n;n++)if(r=l[n].get(e,t))return s?[n,r[1]]:r;return!1}}),$t=dt(Ut,{constructor:function(e,t,n){var r=this;r.mt=C,r.tn=e,r.s=new zt(r.tn+"_Start",t,!1),r.e=n},s:null,e:null,get:function(e,t){var n,r=this,o=r.s,l=r.e;if(n=o.get(e,t)){var i,s=l[n[0]],u=gt(s),c=o.ms[n[0]].tt;return st===c&&(Y===u?(i=n[1][s+1],s=new Ut(i.length>1?tt:nt,r.tn+"_End",i)):tt===u&&(i=bt(s,n[1]),s=new Ut(i.length>1?tt:nt,r.tn+"_End",i))),s}return!1}}),Ft=dt({constructor:function(e,t,n){var r=this;r.tt=e||_,r.id=t,r.tk=n,r.REQ=0,r.ERR=0,r.ACTER=0,r.MSG=null,r.CLONE=["tk"]},sID:null,id:null,tt:null,tk:null,ta:null,REQ:0,ERR:0,ACTER:0,MSG:null,CLONE:null,act:function(e,t){var n,r,o=this,l=o.ta||null,i=t.data;if(l)if(n=l[0],r=l[1],v===n)if(r){if(e&&(r=Y===gt(r)?e[1][r]:bt(r,e[1])),i.isEmpty()||r!==i.peek())return o.MSG='Token "'+r+'" No Match',i.pop(),1;i.pop()}else i.pop();else E===n&&r&&(e&&(r=Y===gt(r)?e[1][r]:bt(r,e[1])),i.push(r));return 0},get:function(e,t){var n=this,r=n.ta,o=n.tk,l=n.tt,i=n.id,s=null;if(n.MSG=null,n.ACTER=0,x===l)return n.ERR=0,n.REQ=0,!0;if(b===l){if(e.spc(),e.eol())return i}else if(S===l)n.ERR=n.REQ&&e.spc()&&!e.eol()?1:0,n.REQ=0;else if(s=o.get(e))return r&&(n.ACTER=n.act(s,t)),i;return!1},req:function(e){return this.REQ=!!e,this},err:function(){var e=this;return e.MSG?e.MSG:e.REQ?'Token "'+e.id+'" Expected':'Syntax Error: "'+e.id+'"'},clone:function(){var e,t,n,r=this,o=r.CLONE;if(e=new r.constructor,e.tt=r.tt,e.id=r.id,e.ta=r.ta?r.ta.slice():r.ta,o&&o.length)for(t=0,n=o.length;n>t;t++)e[o[t]]=r[o[t]];return e},toString:function(){var e=this;return["[","Tokenizer: ",e.id,", Matcher: ",e.tk?e.tk.toString():null,"]"].join("")}}),Kt=dt(Ft,{constructor:function(e,t,n,r,o,l){var i=this;i.tt=e,i.id=t,i.tk=n,i.REQ=0,i.ERR=0,i.ACTER=0,i.MSG=null,i.mline="undefined"==typeof r?1:r,i.esc=o||"\\",i.inter=l,i.CLONE=["tk","mline","esc","inter"]},inter:0,mline:0,esc:null,get:function(e,t){var n,r,o,l,i,s,u,c,a,p=this,f=0,h=0,g="",m=p.mline,k=p.tk,d=p.id,E=p.tt,v=p.inter,R=v?d+".inside":d,w=0,y=O===E,C=p.esc;if(p.MSG=null,p.ACTER=0,T===E&&(p.REQ=0),i=0,t.inBlock===d?(h=1,n=t.endBlock,i=1,s=R):!t.inBlock&&(n=k.get(e))&&(h=1,t.inBlock=d,t.endBlock=n,s=d),h){if(o=t.stack.pos(),l=ct===n.tt,v){if(i&&l&&e.sol())return p.REQ=0,t.inBlock=null,t.endBlock=null,!1;if(!i)return t.stack.pushAt(o,p.clone(),"sID",d),s}if(f=n.get(e),r=m,a=0,f)s=l?R:d;else for(c=e.pos;!e.eol();){if(u=e.pos,!(y&&w||!n.get(e))){v&&e.pos>u&&u>c?(s=R,e.bck2(u),a=1):(s=d,f=1);break}g=e.nxt(),w=!w&&g==C}return r=m||y&&w,f||!r&&!a?(t.inBlock=null,t.endBlock=null):t.stack.pushAt(o,p.clone(),"sID",d),s}return!1}}),Vt=dt(Ft,{constructor:function(e,t,n,r,o){var l=this;l.tt=e?e:I,l.id=t||null,l.tk=null,l.ts=null,l.REQ=0,l.ERR=0,l.ACTER=0,l.MSG=null,l.min=r||0,l.max=o||R,l.found=0,l.CLONE=["ts","min","max","found"],n&&l.set(n)},ts:null,min:0,max:1,found:0,set:function(e){return e&&(this.ts=Et(e)),this},get:function(e,t){var n,r,o,l,i,s,u,c,a,p,f,h,g=this,m=g.tt,k=g.ts,d=k.length;if(L===m){for(u=0,c=0,g.REQ=1,g.ERR=0,g.ACTER=0,g.MSG=null,a=e.pos,n=0;d>n;n++){if(r=k[n].clone().req(1),o=r.get(e,t),u+=r.REQ?1:0,!1!==o)return g.ACTER=r.ACTER,g.MSG=r.MSG,o;r.ERR&&(c++,e.bck2(a))}return g.REQ=u>0,g.ERR=d==c&&u>0,!1}if(P&m){if(h=m&B?1:0,g.REQ=h,g.ERR=0,g.ACTER=0,g.MSG=null,a=e.pos,p=t.stack.pos(),r=k[0].clone().req(h),o=r.get(e,t),f=g.id+"_"+Dt(),!1!==o){if(!0!==o)for(var n=d-1;n>0;n--)t.stack.pushAt(p+d-n-1,k[n].clone().req(1),"sID",f);return g.ACTER=r.ACTER,g.MSG=r.MSG,o}return r.ERR?(g.ERR=h,e.bck2(a)):h&&r.REQ&&(g.ERR=1),!1}for(u=0,l=g.found,i=g.min,s=g.max,g.ERR=0,g.REQ=0,g.ACTER=0,g.MSG=null,a=e.pos,p=t.stack.pos(),f=g.id+"_"+Dt(),n=0;d>n;n++){if(r=k[n].clone().req(1),o=r.get(e,t),!1!==o){if(++l,s>=l)return g.found=l,t.stack.pushAt(p,g.clone(),"sID",f),g.found=0,g.ACTER=r.ACTER,g.MSG=r.MSG,o;break}r.REQ&&u++,r.ERR&&e.bck2(a)}return g.REQ=i>l,g.ERR=l>s||i>l&&u>0,!1}});var Ht="undefined"!=typeof ace?ace:{require:function(){return{}},config:{}},Yt=Ht.require,Jt=Ht.config,Xt=!("undefined"==typeof global||"[object global]"!==H.call(global)),en=!(Xt||"undefined"==typeof navigator),tn=!!(en&&"function"==typeof importScripts&&navigator instanceof WorkerNavigator),nn=function(){var e,t,n=null;return Xt?(n=__filename,{path:__dirname,file:__filename,base:__dirname}):(tn?n=self.location.href:en&&(e=document.location.href.split("#")[0].split("?")[0].split("/").slice(0,-1).join("/"),(t=document.getElementsByTagName("script"))&&t.length&&(n=t[t.length-1].src)),n?{path:n.split("/").slice(0,-1).join("/"),file:n,base:e}:{path:null,file:null,base:null})},rn=nn(),on=dt(Yt("ace/worker/worker_client").WorkerClient,{constructor:function(e,t,n){var r=this,o=Yt,l=Jt;r.$sendDeltaQueue=r.$sendDeltaQueue.bind(r),r.changeListener=r.changeListener.bind(r),r.onMessage=r.onMessage.bind(r),o.nameToUrl&&!o.toUrl&&(o.toUrl=o.nameToUrl);var i;if(l.get("packaged")||!o.toUrl)i=l.moduleUrl(t,"worker");else{var s=r.$normalizePath;i=s(o.toUrl("ace/worker/worker.js",null,"_"));var u={};e.forEach(function(e){u[e]=s(o.toUrl(e,null,"_").replace(/(\.js)?(\?.*)?$/,""))})}r.$worker=new Worker(i),r.$worker.postMessage({load:!0,ace_worker_base:rn.base+"/"+Jt.moduleUrl("ace/worker/json")}),r.$worker.postMessage({init:!0,tlns:u,module:t,classname:n}),r.callbackId=1,r.callbacks={},r.$worker.onmessage=r.onMessage}});k="text",d="invalid";var ln=dt(Yt("ace/tokenizer").Tokenizer,{constructor:function(e,t){var n,r=this;r.LC=e.Comments.line||null,r.BC=e.Comments.block?{start:e.Comments.block[0][0],end:e.Comments.block[0][1]}:null,r.LC&&(n=ot&gt(r.LC)?r.LC.map(Ct).join("|"):Ct(r.LC),r.rxLine=new RegExp("^(\\s*)(?:"+n+") ?")),r.BC&&(r.rxStart=new RegExp("^(\\s*)(?:"+Ct(r.BC.start)+")"),r.rxEnd=new RegExp("(?:"+Ct(r.BC.end)+")\\s*$")),r.DEF=t.DEFAULT,r.ERR=e.Style.error||t.ERROR,r.Keywords=e.Keywords.autocomplete||null,r.Tokens=e.Parser||[],r.cTokens=e.cTokens.length?e.cTokens:null,r.Style=e.Style},ERR:null,DEF:null,LC:null,BC:null,rxLine:null,rxStart:null,rxEnd:null,Keywords:null,cTokens:null,Tokens:null,Style:null,dispose:function(){var e=this;return e.ERR=null,e.DEF=null,e.LC=null,e.BC=null,e.rxLine=null,e.rxStart=null,e.rxEnd=null,e.Keywords=null,e.cTokens=null,e.Tokens=null,e.Style=null,e},parse:function(e){e=e||"";var t,n,r=this,o=e.split(Ot),l=o.length,i=[];for(n={state:new Zt,tokens:null},t=0;l>t;t++)n=r.getLineTokens(o[t],n.state,t),i.push(n.tokens);return i},getLineTokens:function(e,t,n){var r,o,l,i,s,u,c,a,p,f,h,g=this,m=g.cTokens,k=g.Tokens,d=k.length,E=null,v=g.DEF,R=g.ERR,w=g.Style;for(u=[],f=new qt(e),t=t?t.clone(1):new Zt(1,1),t.l=1+n,h=t.stack,c={type:null,value:"",error:null},a=null,p=null,f.sol()&&!h.isEmpty()&&b===h.peek().tt&&h.pop();!f.eol();)if(o=0,p&&p!==c.type?(c.type&&u.push(c),c={type:p,value:f.cur(1),error:E},E=null):c.type&&(c.value+=f.cur(1)),p=!1,!h.isEmpty()&&S===h.peek().tt||!f.spc()){for(;!h.isEmpty()&&!f.eol();){if(m){for(i=0,l=0;i<m.length;)if(s=m[i++],t.t=a=s.get(f,t),!1!==a){p=w[a]||v,l=1;break}if(l){o=1;break}}if(s=h.pop(),t.t=a=s.get(f,t),!1!==a){if(!0!==a){p=w[a]||v,s.ACTER&&(h.empty("sID",s.sID),t.t=a=R,p=R,E=s.err()),o=1;break}}else{if(s.ERR||s.REQ){h.empty("sID",s.sID),f.nxt(),t.t=a=R,p=R,E=s.err(),o=1;break}p=!1}}if(!o){if(f.eol())break;for(r=0;d>r;r++)if(s=k[r],t.t=a=s.get(f,t),!1!==a){if(!0!==a){p=w[a]||v,s.ACTER&&(h.empty("sID",s.sID),t.t=a=R,p=R,E=s.err()),o=1;break}}else{if(s.ERR||s.REQ){h.empty("sID",s.sID),f.nxt(),t.t=a=R,p=R,E=s.err(),o=1;break}p=!1}if(!o){if(f.eol())break;f.nxt(),t.t=a=v,p=v}}}else t.t=a=v,p=v;return p&&p!==c.type?(c.type&&u.push(c),u.push({type:p,value:f.cur(1),error:E}),E=null):c.type&&(c.value+=f.cur(1),u.push(c)),c=null,{state:t,tokens:u}},tCL:function(e,t,n,r){var o,l,i,s,u,c=this,a=t.doc,p=!0,f=!0,h=1/0,g=t.getTabSize(),m=!1;if(c.LC){var k,d=ot===gt(c.LC)?c.LC[0]:c.LC,E=c.rxLine,v=d+" ";m=t.getUseSoftTabs(),i=function(e,t){var n,r,o=e.match(E);o&&(n=o[1].length,r=o[0].length,u(e,n,r)||" "!=o[0][r-1]||r--,a.removeInLine(t,n,r))},l=function(e,t){(!p||/\S/.test(e))&&(u(e,h,h)?a.insertInLine({row:t,column:h},v):a.insertInLine({row:t,column:h},d))},s=function(e){return E.test(e)},u=function(e,t,n){for(var r=0;t--&&" "==e.charAt(t);)r++;if(r%g!=0)return!1;for(r=0;" "==e.charAt(n++);)r++;return g>2?r%g!=g-1:r%g==0}}else{if(!c.BC)return!1;var d=c.BC.start,R=c.BC.end,w=c.rxStart,y=c.rxEnd;l=function(e,t){s(e,t)||(!p||/\S/.test(e))&&(a.insertInLine({row:t,column:e.length},R),a.insertInLine({row:t,column:h},d))},i=function(e,t){var n;(n=e.match(y))&&a.removeInLine(t,e.length-n[0].length,e.length),(n=e.match(w))&&a.removeInLine(t,n[1].length,n[0].length)},s=function(e,n){if(w.test(e))return!0;for(var r=t.getTokens(n),o=0;o<r.length;o++)if("comment"===r[o].type)return!0}}o=function(e){for(var t=n;r>=t;t++)e(a.getLine(t),t)},k=1/0,o(function(e,t){var n=e.search(/\S/);-1!==n?(h>n&&(h=n),f&&!s(e,t)&&(f=!1)):k>e.length&&(k=e.length)}),1/0==h&&(h=k,p=!1,f=!1),m&&h%g!=0&&(h=Math.floor(h/g)*g),o(f?i:l)},tBC:function(e,t,n,r){var o,l,i,s,u,c,a,p,f,h,g,m=this,k=Yt("ace/token_iterator").TokenIterator,d=Yt("ace/range").Range,E=m.BC,v=/comment/;if(E){if(o=new k(t,r.row,r.column),l=o.getCurrentToken(),i=t.selection,s=i.toOrientedRange(),l&&v.test(l.type)){for(;l&&v.test(l.type);){if(f=l.value.indexOf(E.start),-1!=f){h=o.getCurrentTokenRow(),g=o.getCurrentTokenColumn()+f,a=new d(h,g,h,g+E.start.length);break}l=o.stepBackward()}for(o=new k(t,r.row,r.column),l=o.getCurrentToken();l&&v.test(l.type);){if(f=l.value.indexOf(E.end),-1!=f){h=o.getCurrentTokenRow(),g=o.getCurrentTokenColumn()+f,p=new d(h,g,h,g+E.end.length);break}l=o.stepForward()}p&&t.remove(p),a&&(t.remove(a),u=a.start.row,c=-E.start.length)}else c=E.start.length,u=n.start.row,t.insert(n.end,E.end),t.insert(n.start,E.start);s.start.row==u&&(s.start.column+=c),s.end.row==u&&(s.end.column+=c),t.selection.fromOrientedRange(s)}},indent:function(e){return e.match(/^\s*/)[0]},getNextLineIndent:function(e,t){return t.match(/^\s*/)[0]}});tn&&(onmessage=function(e){var t=e.data;t.load&&t.ace_worker_base&&(importScripts(t.ace_worker_base),g())});e.AceGrammar={VERSION:"1.0.2",clone:Rt,extend:wt,parse:h,getMode:m};return e.AceGrammar});