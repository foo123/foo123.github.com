/**
*
*   AceGrammar
*   @version: 2.0.0
*
*   Transform a grammar specification in JSON format, into an ACE syntax-highlight parser mode
*   https://github.com/foo123/ace-grammar
*
**/!function(e,t,n){"use strict";var r,o="object"==typeof module&&module.exports,l="function"==typeof define&&define.amd;o?module.exports=(module.$deps=module.$deps||{})[t]=module.$deps[t]||n.call(e,{NODE:module})||1:l&&"function"==typeof require&&"function"==typeof require.specified&&require.specified(t)?define(t,["require","exports","module"],function(t,r,o){return n.call(e,{AMD:o})}):t in e||(e[t]=r=n.call(e,{})||1)&&l&&define(t,[],function(){return r})}(this,"AceGrammar",function(e){"use strict";function t(e,t){var n=this,r=n.pattern,o=e.s.charAt(e.pos)||null;return o&&r===o?(!1!==t&&e.mov(1),[n.key,o]):!1}function n(e,t){var n=this,r=n.pattern,o=e.s.charAt(e.pos)||null;return o&&-1<r.indexOf(o)?(!1!==t&&e.mov(1),[n.key,o]):!1}function r(e,t){var n=this,r=n.pattern,o=r.length,l=e.s;return r===l.substr(e.pos,o)?(!1!==t&&e.mov(o),[n.key,r]):!1}function o(e,t){var n,r=this,o=r.pattern,l=e.s;return n=l.slice(e.pos).match(o[0]),!n||n.index>0?!1:(!1!==t&&e.mov(n[0].length),[r.key,n])}function l(e,t){var n=this;return!1!==t&&e.end(),[n.key,""]}function s(e,t,n,r){var o=xt(t);if(at===o)return t;if(r[e])return r[e];n=n||0;var l,s=0;return t&&t.isCharList&&(s=1,delete t.isCharList),l=_t&o?new Xt(e,t,_t,n):mt===o?new Xt(e,t,mt,n):ht&o?new Xt(e,t,s?gt:ht,n):(vt|kt)&o?new Xt(e,t,vt,n):t,r[e]=l}function u(e,t,n,r,o,l){if(l[e])return l[e];var i,a,c,p,f,h,m,g=0,k=0,d=1;if(i=At(t),c=i.length,1===c)m=s(e,Vt(i[0],n,o),0,l);else if(c>1){for(p=(c>>1)+1,a=0;p>=a;a++)f=xt(i[a]),h=xt(i[c-1-a]),(mt!==f||mt!==h)&&(d=0),kt&f||kt&h?g=1:(Ft(i[a],n)||Ft(i[c-1-a],n))&&(k=1);if(!d||r&&ht&xt(r))if(!r||g||k){for(a=0;c>a;a++)i[a]=kt&xt(i[a])?u(e+"_"+a,i[a],n,r,o,l):s(e+"_"+a,Vt(i[a],n,o),a,l);m=c>1?new tn(e,i):i[0]}else m=s(e,Gt(i,r),0,l);else i=i.slice().join(""),i.isCharList=1,m=s(e,i,0,l)}return l[e]=m}function i(e,t,n,r,o){if(o[e])return o[e];var l,u,i,a,c,p,f;for(a=[],c=[],l=Rt(t),u=0,i=l.length;i>u;u++)p=s(e+"_0_"+u,Vt(l[u][0],n,r),u,o),f=l[u].length>1?vt!==p.ptype||ht!==xt(l[u][1])||Ft(l[u][1],n)?s(e+"_1_"+u,Vt(l[u][1],n,r),u,o):l[u][1]:p,a.push(p),c.push(f);return o[e]=new en(e,[a,c])}function a(e,t,n){var r,o,l,s,u,i,a,c,p,f,h,m;if(i=new String(Pt(e)),i.pos=0,1===i.length)f=""+e,t[f]||(t[f]={type:"simple",tokens:e}),e=f;else{for(r=[],o=[],l="",h=[];i.pos<i.length;)if(c=i.charAt(i.pos++),zt.test(c))if(l.length&&(t[l]||n[l]||(t[l]={type:"simple",tokens:l}),o.push(l),l=""),'"'===c||"'"===c){for(a=c,s="";i.pos<i.length&&a!==(c=i.charAt(i.pos++));)s+=c;s.length?(f=""+s,t[f]||(t[f]={type:"simple",tokens:s}),o.push(f)):o.push(0)}else if("*"===c||"+"===c||"?"===c)p=o.pop(),f=""+p+c,n[f]||(n[f]={type:"group",match:"*"===c?"zeroOrMore":"+"===c?"oneOrMore":"zeroOrOne",tokens:[p]}),o.push(f);else if("{"===c){for(u="";i.pos<i.length&&"}"!==(c=i.charAt(i.pos++));)u+=c;u=u.split(",").map(Pt),u[0]=u[0].length?parseInt(u[0],10)||0:0,0>u[0]&&(u[0]=0),2>u.length?u.push(u[0]):u[1]=u[1].length?parseInt(u[1],10)||$:$,0>u[1]&&(u[1]=0),p=o.pop(),f=""+p+["{",u[0],",",isFinite(u[1])?u[1]:"","}"].join(""),n[f]||(n[f]={type:"group",match:[u[0],u[1]],tokens:[p]}),o.push(f)}else{if("}"===c)continue;if("["===c){for(s="";i.pos<i.length&&"]"!==(c=i.charAt(i.pos++));)s+=c;f="["+s+"]",t[f]||(t[f]={type:"simple",tokens:s.split("")}),o.push(f)}else{if("]"===c)continue;"|"===c?(o.length>1?(f=""+o.join(" "),n[f]||(n[f]={type:"group",match:"sequence",tokens:o}),r.push(f)):o.length&&r.push(o[0]),o=[]):"("===c?(h.push([o,r,l]),o=[],r=[],l=""):")"===c&&(o.length>1?(f=""+o.join(" "),n[f]||(n[f]={type:"group",match:"sequence",tokens:o}),r.push(f)):o.length&&r.push(o[0]),o=[],r.length>1?(f=""+r.join(" | "),n[f]||(n[f]={type:"group",match:"either",tokens:r})):r.length&&(f=r[0]),r=[],m=h.pop(),o=m[0],r=m[1],l=m[2],p=f,f="("+p+")",n[f]||(n[f]=Tt(t[p]||n[p])),o.push(f))}}else l+=c;l.length&&(t[l]||n[l]||(t[l]={type:"simple",tokens:l}),o.push(l)),l="",o.length>1?(f=""+o.join(" "),n[f]||(n[f]={type:"group",match:"sequence",tokens:o}),r.push(f)):o.length&&r.push(o[0]),o=[],r.length>1?(f=""+r.join(" | "),n[f]||(n[f]={type:"group",match:"either",tokens:r}),e=f):r.length&&(e=r[0]),r=[]}return e}function c(e,t,n,r,o,l,s,h,m,g,k){var d,y,v,b,_,w,C,E,q,M,D,z,K,X,rt,ot,st,ut=null;if(st=null,null===e)return new nn(P,"EOL",e,st);if(""===e)return new nn(N,"NONSPACE",e,st);if(!1===e||0===e)return new nn(U,"EMPTY",e,st);if(kt&xt(e)&&(ot=e,e="NGRAM_"+ot.join("_"),r[e]||(r[e]={type:"ngram",tokens:ot})),e=""+e,h[e])return h[e];for(n[e]?(d=n[e],Et&xt(d)&&(d=n[e]={type:"simple",tokens:d})):d=r[e]?r[e]:e,ht&xt(d)&&(d=a(d,n,r),d=n[d]||r[d]);d.extend;)X=d.extend,rt=n[X]||r[X],delete d.extend,rt&&(Et&xt(rt)&&(rt={type:"simple",tokens:rt}),d=jt(rt,d));if("undefined"==typeof d.type&&(d[lt]("error")?(d.type="action",d.action=["error",d.error],delete d.error):d[lt]("empty")?(d.type="action",d.action=["empty",d.empty],delete d.empty):d[lt]("block-indent")?(d.type="action",d.action=["block-indent",d["block-indent"]],delete d["block-indent"]):d[lt]("indent")?(d.type="action",d.action=["indent",d.indent],delete d.indent):d[lt]("outdent")?(d.type="action",d.action=["outdent",d.outdent],delete d.outdent):d[lt]("unique")?(d.type="action",d.action=["unique",ht&xt(d.unique)?["_DEFAULT_",d.unique]:d.unique],delete d.unique):d[lt]("push")?(d.type="action",d.action=["push",d.push],delete d.push):d[lt]("pop")?(d.type="action",d.action=["pop",d.pop],delete d.pop):d.sequence||d.all?(d.type="group",d.match="sequence",d.tokens=d.sequence||d.all,d.all?delete d.all:delete d.sequence):d.either?(d.type="group",d.match="either",d.tokens=d.either,delete d.either):d.zeroOrMore?(d.type="group",d.match="zeroOrMore",d.tokens=d.zeroOrMore,delete d.zeroOrMore):d.oneOrMore?(d.type="group",d.match="oneOrMore",d.tokens=d.oneOrMore,delete d.oneOrMore):d.zeroOrOne?(d.type="group",d.match="zeroOrOne",d.tokens=d.zeroOrOne,delete d.zeroOrOne):d.comment?(d.type="comment",d.tokens=d.comment,delete d.comment):d.block?(d.type="block",d.tokens=d.block,delete d.block):d["escaped-block"]?(d.type="escaped-block",d.tokens=d["escaped-block"],delete d["escaped-block"]):d.simple?(d.type="simple",d.tokens=d.simple,delete d.simple):d.type="simple"),y=d.type?nt[d.type.toUpperCase().replace(Bt,"")]:I,st=d.msg||null,I&y){if(""===d.tokens)return ut=new nn(N,e,e,st),h[e]=ut,ut;if(null===d.tokens)return ut=new nn(P,e,e,st),h[e]=ut,ut;if(!1===d.tokens||0===d.tokens)return ut=new nn(U,e,e,st),h[e]=ut,ut}if(et&y||(d.tokens=At(d.tokens)),et&y)d[lt]("action")?"error"===d.action[0]?d.action[0]=x:"empty"===d.action[0]?d.action[0]=A:"block-indent"===d.action[0]?d.action[0]=j:"indent"===d.action[0]?d.action[0]=R:"outdent"===d.action[0]?d.action[0]=T:"unique"===d.action[0]?d.action[0]=O:"push"===d.action[0]?d.action[0]=S:"pop"===d.action[0]&&(d.action[0]=L):d[lt]("error")?d.action=[x,d.error]:d[lt]("empty")?d.action=[A,d.empty]:d[lt]("block-indent")?d.action=[j,d["block-indent"]]:d[lt]("indent")?d.action=[R,d.indent]:d[lt]("outdent")?d.action=[T,d.outdent]:d[lt]("unique")?d.action=[O,ht&xt(d.unique)?["_DEFAULT_",d.unique]:d.unique]:d[lt]("push")?d.action=[S,d.push]:d[lt]("pop")&&(d.action=[L,d.pop]),b=d.action.slice(),ut=new rn(et,e,b,st),h[e]=ut;else if(I&y)d.autocomplete&&f(d,e,k),v="undefined"==typeof d.combine?"\\b":d.combine,ut=new nn(I,e,u(e,d.tokens.slice(),t,v,l,s),st),h[e]=ut;else if(B&y)F&y&&p(d,g),ut=new on(y,e,i(e,d.tokens.slice(),t,l,s),st,d.multiline,d.escape,o[e+".inside"]?1:0),h[e]=ut,d.interleave&&m.push(ut.clone());else if(Y&y){for(w=d.tokens.slice(),kt&xt(d.match)?ut=new ln(W,e,null,st,d.match[0],d.match[1]):(_=tt[d.match.toUpperCase()],ut=Q===_?new ln(Q,e,null,st,0,1):Z===_?new ln(Z,e,null,st,0,$):H===_?new ln(H,e,null,st,1,$):V&_?new ln(V,e,null,st):new ln(G,e,null,st)),h[e]=ut,C=[],M=0,D=w.length;D>M;M++)C=C.concat(c(w[M],t,n,r,o,l,s,h,m,g,k));ut.set(C)}else if(J&y){for(ut=Rt(d.tokens.slice()).slice(),E=[],M=0,D=ut.length;D>M;M++)E[M]=ut[M].slice(),ut[M]=new ln(J,e+"_NGRAM_"+M,null,st);for(h[e]=ut,M=0,D=ut.length;D>M;M++){for(q=E[M],C=[],z=0,K=q.length;K>z;z++)C=C.concat(c(q[z],t,n,r,o,l,s,h,m,g,k));ut[M].set(C)}}return h[e]}function p(e,t){var n,r,o,l,s,u=Rt(e.tokens.slice());for(l=0,s=u.length;s>l;l++)n=u[l][0],r=u[l].length>1?u[l][1]:u[l][0],o=u[l].length>2?u[l][2]:"",null===r?(t.line=t.line||[],t.line.push(n)):(t.block=t.block||[],t.block.push([n,r,o]))}function f(e,t,n){var r=[].concat(At(e.tokens)).map(function(e){return{word:e,meta:t}});n.autocomplete=(n.autocomplete||[]).concat(r)}function h(e){var t,n,r,o,l,s,u,i,a,p,f,h,m,g,k,d;if(e.__parsed)return e;for(f={},h={},m={},k={},d={},g=[],e=Tt(e),t=e.RegExpID||null,e.RegExpID=null,delete e.RegExpID,s=e.Lex||{},e.Lex=null,delete e.Lex,u=e.Syntax||{},e.Syntax=null,delete e.Syntax,l=e.Style||{},o=e.Parser||[],r=o.length,n=[],i=0;r>i;i++)a=o[i],p=c(a,t,s,u,l,f,h,m,g,k,d)||null,p&&(kt&xt(p)?n=n.concat(p):n.push(p));return e.Parser=n,e.cTokens=g,e.Style=l,e.Comments=k,e.Keywords=d,e.Extra=e.Extra||{},e.__parsed=1,e}function m(){ace.define("ace/grammar_worker",["require","exports","module","ace/worker/mirror"],function(e,t){var n,r=e("./worker/mirror").Mirror;t.AceGrammarWorker=n=Lt(r,{constructor:function(e){var t=this;r.call(t,e),t.setTimeout(500)},parser:null,Init:function(e,t){var n=this;n.parser=new yn(h(e),{DEFAULT:k,ERROR:d}),n.sender.callback(1,t)},onUpdate:function(){var e,t,n,r,o,l=this,s=l.sender,u=l.parser;if(!u)return void s.emit("ok",null);if(e=l.doc.getValue(),!e||!e.length)return void s.emit("ok",null);if(t=u.parse(e,v),!t)return void s.emit("ok",null);o=[];for(n in t)t.hasOwnProperty(n)&&(r=t[n],o.push({row:r[0],column:r[1],text:r[4]||"Syntax Error",type:"error",raw:r[4]||"Syntax Error",range:[r[0],r[1],r[2],r[3]]}));o.length?s.emit("error",o):s.emit("ok",null)}})})}function g(e,t){var n,r=Tt(e),o=new yn(h(e),{DEFAULT:t||k,ERROR:d}),l=Qt("ace_grammar_mode"),s=function(e){e[l+"$markers"]||(e[l+"$markers"]=[]);var t,n=e[l+"$markers"];if(n&&n.length)for(t=0;t<n.length;t++)e.removeMarker(n[t]);n.length=0},u=function(e,t){var n,r,o,u=t.length,i=cn("ace/range").Range;for(s(e),o=e[l+"$markers"],n=0;u>n;n++)r=t[n],r.range&&(o.push(e.addMarker(new i(r.range[0],r.range[1],r.range[2],r.range[3]),"ace_error-marker","text",0)),delete r.range)},i=function(e){s(e),e.clearAnnotations()},a=function(e,t){u(e,t),e.setAnnotations(t)};return n={getTokenizer:function(){return o},supportGrammarAnnotations:!1,$id:l,createWorker:function(e){if(!n.supportGrammarAnnotations)return i(e),null;pn.setModuleUrl("ace/grammar_worker",kn.file);var t=new dn(["ace"],"ace/grammar_worker","AceGrammarWorker");return t.attachToDocument(e.getDocument()),t.call("Init",[r],function(){t.on("error",function(t){var n=t.data;a(e,n)}),t.on("ok",function(){i(e)})}),t},transformAction:function(){},toggleCommentLines:function(e,t,n,r){return o.tCL(e,t,n,r)},toggleBlockComment:function(e,t,n,r){return o.tBC(e,t,n,r)},getNextLineIndent:function(e,t,n){return o.getNextLineIndent(e,t,n)},checkOutdent:function(){return!1},autoOutdent:function(){},getKeywords:function(){var e=o.Keywords;return e?e.map(function(e){var t=e.word,n=e.meta;return{name:t,value:t,score:1e3,meta:n}}):[]},getCompletions:function(e,t,n,r){var l=o.Keywords;if(!l)return[];var s=r.length;return l.map(function(e){var t=e.word,n=e.meta,o=t.length,l=o>=s&&r===t.substr(0,s);return{name:t,value:t,score:l?1e3-o:0,meta:n}})}}}var k,d,y=1,v=2,b=4,_=8,w=~b,C=~_,E=b|_,$=1/0,x=4,O=8,S=16,L=32,A=64,R=128,T=256,j=512,q=2,M=4,D=8,I=16,P=17,N=18,U=20,B=32,z=33,F=34,V=64,G=128,K=G,W=256,Q=257,Z=258,H=259,Y=512,J=1024,X=G|J,et=2048,tt={EITHER:V,ALL:K,SEQUENCE:G,ZEROORONE:Q,ZEROORMORE:Z,ONEORMORE:H,REPEATED:W},nt={ACTION:et,BLOCK:B,COMMENT:F,ESCAPEDBLOCK:z,SIMPLE:I,GROUP:Y,NGRAM:J},rt=void 0,ot="prototype",lt="hasOwnProperty",st="propertyIsEnumerable",ut=(Object.keys,Array[ot],Object[ot]),it=(Function[ot],ut.toString),at=4,ct=5,pt=6,ft=8,ht=16,mt=17,gt=18,kt=32,dt=64,yt=128,vt=256,bt=512,_t=1024,wt=2048,Ct=4096,Et=ht|kt,$t={"[object Number]":at,"[object String]":ht,"[object Array]":kt,"[object RegExp]":vt,"[object Date]":bt,"[object Function]":yt,"[object Object]":dt},xt=function(e){if(null===e)return _t;if(!0===e||!1===e||e instanceof Boolean)return ft;if(rt===e)return wt;var t=$t[it.call(e)]||Ct;return at===t||e instanceof Number?isNaN(e)?pt:isFinite(e)?at:ct:ht===t||e instanceof String?1===e.length?mt:ht:kt===t||e instanceof Array?kt:vt===t||e instanceof RegExp?vt:bt===t||e instanceof Date?bt:yt===t||e instanceof Function?yt:dt===t?dt:Ct},Ot=function(){var e,t,n,r,o,l,s=arguments,u=s.length;for(e=s[0]||{},o=1;u>o;o++)if(t=s[o],dt===xt(t))for(r in t)t[lt](r)&&t[st](r)&&(n=t[r],l=xt(n),e[r]=at&l?0+n:bt&l?new Date(n):Et&l?n.slice():n);return e},St=Object.create,Lt=function(e,t){var n,r=arguments.length,o="constructor";return 0===r?(e=Object,t={}):1===r?(t=e||{},e=Object):(e=e||Object,t=t||{}),t[lt](o)||(t[o]=function(){}),n=t[o],delete t[o],n[ot]=Ot(St(e[ot]),t),n[ot][o]=n,n},At=function(e,t){return t||kt!==xt(e)?[e]:e},Rt=function(e,t){return e=At(e),(t||kt!==xt(e[0]))&&(e=[e]),e},Tt=function(e,t){var n,r,o,l,s=xt(e),u=0;if(at===xt(t)?t>0?(u=t,t=!0):t=!1:t=!1!==t,dt===s){r={};for(o in e)e[lt](o)&&e[st](o)&&(n=xt(e[o]),r[o]=dt===n?t?Tt(e[o],u>0?u-1:t):e[o]:kt===n?t?Tt(e[o],u>0?u-1:t):e[o].slice():bt&n?new Date(e[o]):ht&n?e[o].slice():at&n?0+e[o]:e[o])}else if(kt===s)for(l=e.length,r=new Array(l),o=0;l>o;o++)n=xt(e[o]),r[o]=dt===n?t?Tt(e[o],u>0?u-1:t):e[o]:kt===n?t?Tt(e[o],u>0?u-1:t):e[o].slice():bt&n?new Date(e[o]):ht&n?e[o].slice():at&n?0+e[o]:e[o];else r=bt&s?new Date(e):ht&s?e.slice():at&s?0+e:e;return r},jt=function(){var e,t,n,r,o,l,s,u,i,a,c=arguments,p=c.length;if(1>p)return null;for(t=Tt(c[0]),n=1;p>n;n++)if(e=c[n])for(r in e)if(e[lt](r)&&e[st](r))if(t[lt](r)&&t[st](r)){if(i=xt(t[r]),a=xt(e[r]),dt===i&&dt===a)t[r]=jt(t[r],e[r]);else if(kt===i&&kt===a){if(s=t[r],u=e[r],l=u.length,!l)continue;if(s.length)for(o=0;l>o;o++)0>s.indexOf(u[o])&&s.push(u[o]);else t[r]=u.slice()}}else t[r]=Tt(e[r]);return t},qt=/([.*+?^${}()|[\]\/\\\-])/g,Mt=function(e){return e.replace(qt,"\\$1")},Dt=function(e,t,n){var r,o,l,s,u,i=!0===n?0:1;for(ht&xt(t)&&(t=[t,t],i=0),o=e.length,u="",r=0;o>r;)l=e.charAt(r),o>r+1&&"$"===l?(s=e.charCodeAt(r+1),36===s?(u+="$",r+=2):s>=48&&57>=s?(u+=t[i+s-48]||"",r+=2):(u+=l,r+=1)):(u+=l,r+=1);return u},It=/^\s+|\s+$/g,Pt=String[ot].trim?function(e){return e.trim()}:function(e){return e.replace(It,"")},Nt=function(e,t){return t.length-e.length},Ut=/\r\n|\r|\n/g,Bt=/[\-_]/g,zt=/^([\[\]{}()*+?|'"]|\s)/,Ft=function(e,t){return ht&xt(t)&&ht&xt(e)&&t.length&&t.length<=e.length&&t==e.substr(0,t.length)},Vt=function(e,t,n){if(!e||at===xt(e))return e;var r,o=t?t.length||0:0;if(o&&t===e.substr(0,o)){var l,s,u,r,i,a=e.substr(o),c=a.charAt(0),p="";for(r=a.length;r--&&(i=a.charAt(r),c!==i);)"i"===i.toLowerCase()&&(p="i");return l=a.substring(1,r),s="^("+l+")",n[s]||(u=new RegExp(s,p),n[s]=u),n[s]}return e},Gt=function(e,t){var n,r="";return ht&xt(t)&&(r=t),n=e.sort(Nt).map(Mt).join("|"),[new RegExp("^("+n+")"+r),1]},Kt=0,Wt=function(){return++Kt},Qt=function(e){return[e||"uuid",++Kt,(new Date).getTime()].join("_")},Zt=Math.max,Ht=/^[\s\u00a0]+/,Yt=/[^\s\u00a0]/,Jt=Lt({constructor:function(e){var t=this;t._=null,t.s=e?""+e:"",t.start=t.pos=0,t.lCP=t.lCV=0,t.lS=0},_:null,s:"",start:0,pos:0,lCP:0,lCV:0,lS:0,dispose:function(){var e=this;return e._=null,e.s=null,e.start=null,e.pos=null,e.lCP=null,e.lCV=null,e.lS=null,e},toString:function(){return this.s},sol:function(){return 0===this.pos},eol:function(){return this.pos>=this.s.length},end:function(){var e=this;return e.pos=e.s.length,e},mov:function(e){var t=this;return 0>e?t.pos=Zt(0,t.pos-e):t.pos+=e,t},bck:function(e){var t=this;return t.pos=Zt(0,e),t},sft:function(){var e=this;return e.start=e.pos,e},nxt:function(){var e,t=this,n=t.s;return t.pos<n.length?e=n.charAt(t.pos++)||null:void 0},cur:function(e){var t=this,n=t.s.slice(t.start,t.pos);return e&&(t.start=t.pos),n},upd:function(){var e=this;return e._&&(e._.pos=e.pos),e},spc:function(e){var t,n=this,r=n.pos,o=n.s.slice(r);return(t=o.match(Ht))?(!1!==e&&n.mov(t[0].length),1):0},col:function(e){var t=this;return e=e||1,t.lCP<t.start&&(t.lCV=Jt.col(t.s,t.start,e,t.lCP,t.lCV),t.lCP=t.start,t._&&(t._.start=t.start,t._.lastColumnPos=t.lCP,t._.lastColumnValue=t.lCV,t._.lineStart=t.lS)),t.lCV-(t.lS?Jt.col(t.s,t.lS,e):0)},ind:function(e){var t=this;return e=e||1,Jt.col(t.s,null,e)-(t.lS?Jt.col(t.s,t.lS,e):0)}});Jt.col=function(e,t,n,r,o){var l,s;for(null===t&&(t=e.search(Yt),-1==t&&(t=e.length)),l=r||0,s=o||0;t>l;++l)s+="	"==e.charAt(l)?n-s%n:1;return s},Jt._=function(e){var t=new Jt;return t._=e,t.s=""+e.string,t.start=e.start,t.pos=e.pos,t.lCP=e.lastColumnPos,t.lCV=e.lastColumnValue,t.lS=e.lineStart,t};var Xt,en,tn,nn,rn,on,ln,sn=Lt({constructor:function(e){this._=e||[]},_:null,dispose:function(){var e=this;return e._=null,e},toString:function(){return this._.slice().reverse().join("\n")},clone:function(){return new sn(this._.slice())},isEmpty:function(){return 0>=this._.length},pos:function(){return this._.length},peek:function(e){var t=this,n=t._;if(e=arguments.length?e:-1,n.length){if(0>e&&0<=n.length+e)return n[n.length+e];if(e>=0&&e<n.length)return n[e]}return null},pop:function(){return this._.pop()},shift:function(){return this._.shift()},push:function(e){var t=this;return t._.push(e),t},unshift:function(e){var t=this;return t._.unshift(e),t},pushAt:function(e,t,n,r){var o=this,l=o._;return n&&r&&(t[n]=r),e<l.length?l.splice(e,0,t):l.push(t),o},empty:function(e,t){var n=this,r=n._;if(e&&t)for(;r.length&&r[r.length-1]&&r[r.length-1][e]===t;)r.pop();else r.length=0;return n}}),un=Lt({constructor:function vn(e,t,n){var r=this;r.id=t?Qt("state"):"state",e instanceof vn?(r.line=e.line,r.column=e.column,r.indent=e.indent,r.stack=e.stack.clone(),r.queu=e.queu.slice(),r.symb=Tt(e.symb,1),r.token=e.token,r.block=e.block,r.errors=e.errors,r.err=e.err):(r.line=e||0,r.column=0,r.indent=null,r.token=null,r.block=null,r.stack=new sn,r.queu=[],r.symb={},r.errors=!!n,r.err=r.errors?{}:null)},id:null,line:0,column:0,indent:0,stack:null,queu:null,symb:null,err:null,errors:!1,token:null,block:null,dispose:function(){var e=this;return e.id=null,e.line=null,e.column=null,e.indent=null,e.token=null,e.block=null,e.symb=null,e.errors=null,e.err=null,e.queu=null,e.stack&&e.stack.dispose(),e.stack=null,e},clone:function(e){return new un(this,e)},toString:function(){var e=this;return["",e.id,e.line,e.token?e.token.name:"0",e.block?e.block.name:"0"].join("_")}});Xt=Lt({constructor:function(e,s,u,i){var a=this;switch(a.type=q,a.name=e,a.pattern=null,a.ptype=u||ht,a.key=i||0,a.ptype){case _t:a.pattern=null,a.match=l;break;case vt:a.pattern=vt&xt(s)?[s,0]:[s[0],s[1]||0],a.match=o;break;case mt:case gt:a.pattern=s,a.match=gt===a.ptype?n:t;break;case ht:default:a.pattern=s,a.match=r}},type:null,name:null,pattern:null,ptype:null,key:0,dispose:function(){var e=this;return e.type=null,e.name=null,e.pattern=null,e.ptype=null,e.key=null,e},match:function(){return!1},toString:function(){var e=this;return["[","Pattern: ",e.name,", ",e.pattern?e.pattern.toString():null,"]"].join("")}}),tn=Lt(Xt,{constructor:function(e,t,n){var r=this;r.type=M,r.name=e,r.pattern=t,r.key=!1!==n},match:function(e,t){var n,r,o=this,l=o.pattern,s=l.length,u=o.key;for(n=0;s>n;n++)if(r=l[n].match(e,t))return u?[n,r[1]]:r;return!1}}),en=Lt(Xt,{constructor:function(e,t){var n=this;n.type=D,n.name=e,n.pattern=t,n.pattern[0]=new tn(n.name+"_Start",n.pattern[0],!1)},match:function(e,t){var n,r,o,l,s,u=this,i=u.pattern,a=i[0],c=i[1];return(r=a.match(e,t))?(n=c[r[0]],l=xt(n),s=a.pattern[r[0]].ptype,vt===s&&(at===l?(o=r[1][n+1],n=new Xt(u.name+"_End",o,o.length>1?ht:mt)):ht===l&&(o=Dt(n,r[1]),n=new Xt(u.name+"_End",o,o.length>1?ht:mt))),n):!1}}),nn=Lt({constructor:function(e,t,n,r){var o=this;o.type=e||I,o.name=t,o.token=n,o.status=0,o.msg=r||null,o.$msg=null,o.$clone=null},name:null,type:null,token:null,status:0,msg:null,$msg:null,$clone:null,$id:null,dispose:function(){var e=this;return e.type=null,e.name=null,e.token=null,e.status=null,e.msg=null,e.$msg=null,e.$clone=null,e.$id=null,e},clone:function(){var e,t,n,r=this,o=r.$clone;if(e=new r.constructor,e.type=r.type,e.name=r.name,e.token=r.token,e.msg=r.msg,o&&o.length)for(t=0,n=o.length;n>t;t++)e[o[t]]=r[o[t]];return e},get:function(e,t){var n=this,r=n.token,o=n.type,l=n.name,s=null;if(n.$msg=null,t.token=null,U===o)return n.status=0,!0;if(P===o){if(e.spc(),e.eol())return l}else if(N===o)n.status&b&&e.spc()&&!e.eol()&&(n.status|=_),n.status&=w;else if(s=r.match(e))return t.token={name:l,value:e.cur(),token:s[1]},l;return!1},req:function(e){var t=this;return e?t.status|=b:t.status&=w,t},err:function(e,t,n,r,o){var l,s=this,u=s.name;return l=s.$msg?s.$msg:s.status&b?'Token "'+u+'" Expected':'Syntax Error: "'+u+'"',e&&e.errors&&(e.err[t+"_"+n+"_"+r+"_"+o+"_"+u]=[t,n,r,o,l]),l},toString:function(){var e=this;return["[","Token: ",e.name,", ",e.token?e.tok.toString():null,"]"].join("")}}),rn=Lt(nn,{constructor:function(e,t,n,r){var o=this;o.type=e||et,o.name=t,o.token=n,o.status=0,o.msg=r||null,o.$msg=null,o.$clone=null},get:function(e,t){var n,r,o,l,s,u,i,a,c,p,f=this,h=f.token||null,m=t.queu,g=t.symb,k=t.token,d=t.err,y=t.errors;if(f.status=0,f.$msg=null,h){if(s=f.msg,n=h[0],r=h[1],u=t.line,a=e.pos,i=k&&k.value?a-k.value.length:i-1,x===n)return y&&(f.$msg=s?s:"Error",c=u+"_"+i+"_"+u+"_"+a+"_"+f.name,d[c]=[u,i,u,a,f.err()]),f.status|=_,!1;if(A===n)m.length=0;else if(O===n){if(k){if(o=r[1],l=r[0],o=at===xt(o)?k.token[o]:Dt(o,k.token,!0),g[lt](l)||(g[l]={}),g[l][lt](o))return y&&(f.$msg=s?Dt(s,o,!0):'Duplicate "'+o+'"',p=f.err(),c=g[l][o][0]+"_"+g[l][o][1]+"_"+g[l][o][2]+"_"+g[l][o][3]+"_"+f.name,d[c]=[g[l][o][0],g[l][o][1],g[l][o][2],g[l][o][3],p],c=u+"_"+i+"_"+u+"_"+a+"_"+f.name,d[c]=[u,i,u,a,p]),f.status|=_,!1;g[l][o]=[u,i,u,a]}}else if(L===n)if(r){if(k&&(r=at===xt(r)?k.token[r]:Dt(r,k.token)),!m.length||r!==m[0][0])return y&&(m.length?(f.$msg=s?Dt(s,[m[0][0],r],!0):'Tokens do not match "'+m[0][0]+'","'+r+'"',p=f.err(),c=m[0][1]+"_"+m[0][2]+"_"+m[0][3]+"_"+m[0][4]+"_"+f.name,d[c]=[m[0][1],m[0][2],m[0][3],m[0][4],p],c=u+"_"+i+"_"+u+"_"+a+"_"+f.name,d[c]=[u,i,u,a,p]):(f.$msg=s?Dt(s,["",r],!0):'Token does not match "'+r+'"',p=f.err(),c=u+"_"+i+"_"+u+"_"+a+"_"+f.name,d[c]=[u,i,u,a,p])),m.shift(),f.status|=_,!1;m.shift()}else m.shift();else S===n&&r&&(k&&(r=at===xt(r)?k.token[r]:Dt(r,k.token)),m.unshift([r,u,i,u,a]))}return!0}}),on=Lt(nn,{constructor:function(e,t,n,r,o,l,s){var u=this;u.type=e,u.name=t,u.token=n,u.status=0,u.msg=r||null,u.mline="undefined"==typeof o?1:o,u.esc=l||"\\",u.inter=s,u.$msg=null,u.$clone=["mline","esc","inter"]},inter:0,mline:0,esc:null,get:function(e,t){var n,r,o,l,s,u,i,a,c,p,f,h,m,g,k=this,d=0,y=0,v="",b=k.mline,_=k.token,C=k.name,E=k.type,$=k.inter,x=$?C+".inside":C,O=0,S=z===E,L=k.esc,A="",R="",T="",j="",q=t.stack;if(k.$msg=k.msg||null,m=t.line,g=e.pos,F===E&&(k.status&=w),s=0,t.block&&t.block.name===C?(y=1,n=t.block.end,s=1,u=x,p=t.block.s,h=t.block.i,f=t.block.e,A=t.block._s,R=t.block._i,j=""):!t.block&&(n=_.match(e))&&(y=1,p=[m,g],h=[[m,e.pos],[m,e.pos]],f=[m,e.pos],A=e.cur(),R="",j="",T="",t.block={name:C,end:n,s:p,i:h,e:f,_s:A,_i:R,_e:T},u=C),y){if(o=q.pos(),l=_t===n.type,$){if(s&&l&&e.sol())return k.status&=w,t.current=null,t.block=null,!1;if(!s)return q.pushAt(o,k.clone(),"$id",C),u}if(d=n.match(e),r=b,c=0,d)u=l?x:C,T=e.cur().slice(j.length);else for(a=e.pos;!e.eol();){if(i=e.pos,!(S&&O||!n.match(e))){$&&e.pos>i&&i>a?(u=x,e.bck(i),c=1):(u=C,d=1),T=e.cur().slice(j.length);break}v=e.nxt(),j+=v,O=!O&&v===L}return r=b||S&&O,h[1]=[m,i],f=[m,e.pos],d||!r&&!c?t.block=null:(t.block.i=h,t.block.e=f,t.block._i+=j,t.block._e=T,t.stack.pushAt(o,k.clone(),"$id",C)),t.token={name:C,value:e.cur(),token:[A+R+j+T,R+j]},u}return!1}}),ln=Lt(nn,{constructor:function(e,t,n,r,o,l){var s=this;s.type=e?e:W,s.name=t||null,s.token=null,s.status=0,s.msg=r||null,s.min=o||0,s.max=l||$,s.found=0,s.$msg=null,s.$clone=["min","max","found"],n&&s.set(n)},min:0,max:1,found:0,set:function(e){return e&&(this.token=At(e)),this},get:function(e,t){var n,r,o,l,s,u,i,a,c,p,f,h,m,g,k=this,d=k.type,y=k.token,v=y.length;if(k.$msg=k.msg||null,k.status&=C,f=e.pos,l=t.stack,V===d){for(c=0,p=0,k.status|=b,s=[],n=0;v>n;n++){if(r=y[n].clone().req(1),o=r.get(e,t),r.status&b&&(c++,s.push(r.err())),!1!==o)return o;r.status&_&&(p++,e.bck(f))}return c>0?k.status|=b:k.status&=w,v===p&&c>0?k.status|=_:k.status&=C,k.status&&!k.$msg&&s.length&&(k.$msg=s.join(" | ")),!1}if(X&d){if(g=d&G?1:0,g?k.status|=b:k.status&=w,h=l.pos(),r=y[0].clone().req(g),o=r.get(e,t),m=k.name+"_"+Wt(),!1!==o){if(!0!==o)for(n=v-1;n>0;n--)l.pushAt(h+v-n-1,y[n].clone().req(1),"$id",m);return o}return r.status&_?(g?k.status|=_:k.status&=C,e.bck(f)):g&&r.status&b&&(k.status|=_),k.status&&!k.$msg&&(k.$msg=r.err()),!1}for(c=0,u=k.found,i=k.min,a=k.max,k.status&=w,h=l.pos(),m=k.name+"_"+Wt(),s=[],n=0;v>n;n++){if(r=y[n].clone().req(1),o=r.get(e,t),!1!==o){if(++u,a>=u)return k.found=u,l.pushAt(h,k.clone(),"$id",m),k.found=0,o;break}r.status&b&&(c++,s.push(r.err())),r.status&_&&e.bck(f)}return i>u?k.status|=b:k.status&=w,u>a||i>u&&c>0?k.status|=_:k.status&=C,k.status&&!k.$msg&&s.length&&(k.$msg=s.join(" | ")),!1}});var an="undefined"!=typeof ace?ace:{require:function(){return{}},config:{}},cn=an.require,pn=an.config,fn=!("undefined"==typeof global||"[object global]"!==it.call(global)),hn=!(fn||"undefined"==typeof navigator),mn=!!(hn&&"function"==typeof importScripts&&navigator instanceof WorkerNavigator),gn=function(){var e,t,n=null;return fn?(n=__filename,{path:__dirname,file:__filename,base:__dirname}):(mn?n=self.location.href:hn&&(e=document.location.href.split("#")[0].split("?")[0].split("/").slice(0,-1).join("/"),(t=document.getElementsByTagName("script"))&&t.length&&(n=t[t.length-1].src)),n?{path:n.split("/").slice(0,-1).join("/"),file:n,base:e}:{path:null,file:null,base:null})},kn=gn(),dn=Lt(cn("ace/worker/worker_client").WorkerClient,{constructor:function(e,t,n){var r=this,o=cn,l=pn;r.$sendDeltaQueue=r.$sendDeltaQueue.bind(r),r.changeListener=r.changeListener.bind(r),r.onMessage=r.onMessage.bind(r),o.nameToUrl&&!o.toUrl&&(o.toUrl=o.nameToUrl);var s;if(l.get("packaged")||!o.toUrl)s=l.moduleUrl(t,"worker");else{var u=r.$normalizePath;s=u(o.toUrl("ace/worker/worker.js",null,"_"));var i={};e.forEach(function(e){i[e]=u(o.toUrl(e,null,"_").replace(/(\.js)?(\?.*)?$/,""))})}r.$worker=new Worker(s),r.$worker.postMessage({load:!0,ace_worker_base:kn.base+"/"+pn.moduleUrl("ace/worker/json")}),r.$worker.postMessage({init:!0,tlns:i,module:t,classname:n}),r.callbackId=1,r.callbacks={},r.$worker.onmessage=r.onMessage}});k="text",d="invalid";var yn=Lt(cn("ace/tokenizer").Tokenizer,{constructor:function(e,t){var n,r=this;r.LC=e.Comments.line||null,r.BC=e.Comments.block?{start:e.Comments.block[0][0],end:e.Comments.block[0][1]}:null,r.LC&&(n=kt&xt(r.LC)?r.LC.map(Mt).join("|"):Mt(r.LC),r.rxLine=new RegExp("^(\\s*)(?:"+n+") ?")),r.BC&&(r.rxStart=new RegExp("^(\\s*)(?:"+Mt(r.BC.start)+")"),r.rxEnd=new RegExp("(?:"+Mt(r.BC.end)+")\\s*$")),r.DEF=t.DEFAULT,r.ERR=e.Style.error||t.ERROR,r.Keywords=e.Keywords.autocomplete||null,r.Tokens=e.Parser||[],r.cTokens=e.cTokens.length?e.cTokens:null,r.Style=e.Style},ERR:null,DEF:null,LC:null,BC:null,rxLine:null,rxStart:null,rxEnd:null,Keywords:null,cTokens:null,Tokens:null,Style:null,dispose:function(){var e=this;return e.ERR=null,e.DEF=null,e.LC=null,e.BC=null,e.rxLine=null,e.rxStart=null,e.rxEnd=null,e.Keywords=null,e.cTokens=null,e.Tokens=null,e.Style=null,e},parse:function(e,t){e=e||"";var n,r,o,l,s,u=this,i=e.split(Ut),a=i.length,c=null;if(t=t||y,l=!!(t&v),s=!!(t&y),r={state:new un(0,0,l),tokens:null},s)for(c=[],n=0;a>n;n++)r=u.getLineTokens(i[n],r.state,n),c.push(r.tokens);else for(n=0;a>n;n++)r=u.getLineTokens(i[n],r.state,n);return o=s&&l?{tokens:c,errors:r.state.err}:s?c:r.state.err,r.state.dispose(),o},getLineTokens:function(e,t,n){var r,o,l,s,u,i,a,c,p,f,h,m,g,k,d=this,y=d.cTokens,v=d.Tokens,b=v.length,w=d.DEF,C=d.ERR,$=d.Style;for(a=[],g=new Jt(e),t=t?t.clone(1):new un(0,1),t.line=n,k=t.stack,c={type:null,value:""},p=null,f=null,g.sol()&&!k.isEmpty()&&P===k.peek().type&&k.pop(),m=t.line,h=g.pos;!g.eol();)if(o=0,f&&f!==c.type?(c.type&&a.push(c),c={type:f,value:g.cur(1)},h=g.pos):c.type&&(c.value+=g.cur(1)),f=!1,!k.isEmpty()&&N===k.peek().type||!g.spc()){for(;!k.isEmpty()&&!g.eol();){if(y){for(s=0,l=0;s<y.length;)if(u=y[s++],p=u.get(g,t),!1!==p){f=$[p]||w,l=1;break}if(l){o=1;break}}if(h=g.pos,u=k.pop(),p=u.get(g,t),!1!==p){if(!0!==p){for(f=$[p]||w;!k.isEmpty()&&et===k.peek().type;)if(i=k.pop(),i.get(g,t),i.status&_){k.empty("$id",u.$id);break}o=1;break}}else{if(u.status&E){k.empty("$id",u.$id),g.nxt(),p=C,f=C,u.err(t,m,h,m,g.pos),o=1;break}f=!1}}if(!o){if(g.eol())break;for(r=0;b>r;r++)if(h=g.pos,u=v[r],p=u.get(g,t),!1!==p){if(!0!==p){for(f=$[p]||w;!k.isEmpty()&&et===k.peek().type;)if(i=k.pop(),i.get(g,t),i.status&_){k.empty("$id",u.$id);break}o=1;break}}else{if(u.status&E){k.empty("$id",u.$id),g.nxt(),p=C,f=C,u.err(t,m,h,m,g.pos),o=1;break}f=!1}if(!o){if(g.eol())break;g.nxt(),p=w,f=w}}}else p=w,f=w;return f&&f!==c.type?(c.type&&a.push(c),a.push({type:f,value:g.cur(1)})):c.type&&(c.value+=g.cur(1),a.push(c)),c=null,{state:t,tokens:a}},tCL:function(e,t,n,r){var o,l,s,u,i,a=this,c=t.doc,p=!0,f=!0,h=1/0,m=t.getTabSize(),g=!1;if(a.LC){var k,d=kt===xt(a.LC)?a.LC[0]:a.LC,y=a.rxLine,v=d+" ";g=t.getUseSoftTabs(),s=function(e,t){var n,r,o=e.match(y);o&&(n=o[1].length,r=o[0].length,i(e,n,r)||" "!=o[0][r-1]||r--,c.removeInLine(t,n,r))},l=function(e,t){(!p||/\S/.test(e))&&(i(e,h,h)?c.insertInLine({row:t,column:h},v):c.insertInLine({row:t,column:h},d))},u=function(e){return y.test(e)},i=function(e,t,n){for(var r=0;t--&&" "==e.charAt(t);)r++;if(r%m!=0)return!1;for(r=0;" "==e.charAt(n++);)r++;return m>2?r%m!=m-1:r%m==0}}else{if(!a.BC)return!1;var d=a.BC.start,b=a.BC.end,_=a.rxStart,w=a.rxEnd;l=function(e,t){u(e,t)||(!p||/\S/.test(e))&&(c.insertInLine({row:t,column:e.length},b),c.insertInLine({row:t,column:h},d))},s=function(e,t){var n;(n=e.match(w))&&c.removeInLine(t,e.length-n[0].length,e.length),(n=e.match(_))&&c.removeInLine(t,n[1].length,n[0].length)},u=function(e,n){if(_.test(e))return!0;for(var r=t.getTokens(n),o=0;o<r.length;o++)if("comment"===r[o].type)return!0}}o=function(e){for(var t=n;r>=t;t++)e(c.getLine(t),t)},k=1/0,o(function(e,t){var n=e.search(/\S/);-1!==n?(h>n&&(h=n),f&&!u(e,t)&&(f=!1)):k>e.length&&(k=e.length)}),1/0==h&&(h=k,p=!1,f=!1),g&&h%m!=0&&(h=Math.floor(h/m)*m),o(f?s:l)},tBC:function(e,t,n,r){var o,l,s,u,i,a,c,p,f,h,m,g=this,k=cn("ace/token_iterator").TokenIterator,d=cn("ace/range").Range,y=g.BC,v=/comment/;if(y){if(o=new k(t,r.row,r.column),l=o.getCurrentToken(),s=t.selection,u=s.toOrientedRange(),l&&v.test(l.type)){for(;l&&v.test(l.type);){if(f=l.value.indexOf(y.start),-1!=f){h=o.getCurrentTokenRow(),m=o.getCurrentTokenColumn()+f,c=new d(h,m,h,m+y.start.length);break}l=o.stepBackward()}for(o=new k(t,r.row,r.column),l=o.getCurrentToken();l&&v.test(l.type);){if(f=l.value.indexOf(y.end),-1!=f){h=o.getCurrentTokenRow(),m=o.getCurrentTokenColumn()+f,p=new d(h,m,h,m+y.end.length);break}l=o.stepForward()}p&&t.remove(p),c&&(t.remove(c),i=c.start.row,a=-y.start.length)}else a=y.start.length,i=n.start.row,t.insert(n.end,y.end),t.insert(n.start,y.start);u.start.row==i&&(u.start.column+=a),u.end.row==i&&(u.end.column+=a),t.selection.fromOrientedRange(u)}},indent:function(e){return e.match(/^\s*/)[0]},getNextLineIndent:function(e,t){return t.match(/^\s*/)[0]}});mn&&(onmessage=function(e){var t=e.data;t.load&&t.ace_worker_base&&(importScripts(t.ace_worker_base),m())});e.AceGrammar={VERSION:"2.0.0",clone:Tt,extend:jt,parse:h,getMode:g};return e.AceGrammar});