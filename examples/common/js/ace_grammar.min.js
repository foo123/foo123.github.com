/**
*
*   AceGrammar
*   @version: 2.1.0
*
*   Transform a grammar specification in JSON format, into an ACE syntax-highlight parser mode
*   https://github.com/foo123/ace-grammar
*
**/!function(e,t,n){"use strict";var r,o="object"==typeof module&&module.exports,s="function"==typeof define&&define.amd;o?module.exports=(module.$deps=module.$deps||{})[t]=module.$deps[t]||n.call(e,{NODE:module})||1:s&&"function"==typeof require&&"function"==typeof require.specified&&require.specified(t)?define(t,["require","exports","module"],function(t,r,o){return n.call(e,{AMD:o})}):t in e||(e[t]=r=n.call(e,{})||1)&&s&&define(t,[],function(){return r})}(this,"AceGrammar",function(e){"use strict";function t(e,t){var n=this,r=n.pattern,o=e.s.charAt(e.pos)||null;return o&&r===o?(!1!==t&&e.mov(1),[n.key,o]):!1}function n(e,t){var n=this,r=n.pattern,o=e.s.charAt(e.pos)||null;return o&&-1<r.indexOf(o)?(!1!==t&&e.mov(1),[n.key,o]):!1}function r(e,t){var n=this,r=n.pattern,o=r.length,s=e.s;return r===s.substr(e.pos,o)?(!1!==t&&e.mov(o),[n.key,r]):!1}function o(e,t){var n,r=this,o=r.pattern,s=e.s;return n=s.slice(e.pos).match(o[0]),!n||n.index>0?!1:(!1!==t&&e.mov(n[o[1]||0].length),[r.key,o[1]>0?n[o[1]]:n])}function s(e,t){var n=this;return!1!==t&&e.end(),[n.key,""]}function l(e,t,n,r){var o=Tt(t);if(gt===o)return t;if(r[e])return r[e];n=n||0;var s,l=0;return t&&t.isCharList&&(l=1,delete t.isCharList),s=Ot&o?new sn(e,t,Ot,n):bt===o?new sn(e,t,bt,n):vt&o?new sn(e,t,l?_t:vt,n):(Et|wt)&o?new sn(e,t,Et,n):t,r[e]=s}function u(e,t,n,r,o,s){if(s[e])return s[e];var i,a,c,p,f,m,h,g=0,k=0,d=1;if(i=Dt(t),c=i.length,1===c)h=l(e,Ht(i[0],n,o),0,s);else if(c>1){for(p=(c>>>1)+1,a=0;p>=a;a++)f=Tt(i[a]),m=Tt(i[c-1-a]),(bt!==f||bt!==m)&&(d=0),wt&f||wt&m?g=1:(Zt(i[a],n)||Zt(i[c-1-a],n))&&(k=1);if(!d||r&&vt&Tt(r))if(!r||g||k)if(g||k){for(a=0;c>a;a++)i[a]=wt&Tt(i[a])?u(e+"_"+a,i[a],n,r,o,s):l(e+"_"+a,Ht(i[a],n,o),a,s);h=c>1?new un(e,i):i[0]}else{for(i=i.sort(Gt),a=0;c>a;a++)i[a]=l(e+"_"+a,Ht(i[a],n,o),a,s);h=c>1?new un(e,i):i[0]}else h=l(e,Yt(i,r),0,s);else i=i.slice().join(""),i.isCharList=1,h=l(e,i,0,s)}return s[e]=h}function i(e,t,n,r,o){if(o[e])return o[e];var s,u,i,a,c,p,f;for(a=[],c=[],s=It(t),u=0,i=s.length;i>u;u++)p=l(e+"_0_"+u,Ht(s[u][0],n,r),u,o),f=s[u].length>1?Et!==p.ptype||vt!==Tt(s[u][1])||Zt(s[u][1],n)?l(e+"_1_"+u,Ht(s[u][1],n,r),u,o):s[u][1]:p,a.push(p),c.push(f);return o[e]=new ln(e,[a,c])}function a(e,t,n){var r,o,s,l,u,i,a,c,p,f,m,h;if(i=new String(Vt(e)),i.pos=0,1===i.length)f=""+e,t[f]||(t[f]={type:"simple",tokens:e}),e=f;else{for(r=[],o=[],s="",m=[];i.pos<i.length;)if(c=i.charAt(i.pos++),Qt.test(c))if(s.length&&("0"===s?o.push(V):"^^"===s?o.push(N):"^"===s?o.push(B):"$"===s?o.push(z):(t[s]||n[s]||(t[s]={type:"simple",tokens:s}),o.push(s)),s=""),'"'===c||"'"===c){for(a=c,l="";i.pos<i.length&&a!==(c=i.charAt(i.pos++));)l+=c;l.length?(f=""+l,t[f]||(t[f]={type:"simple",tokens:l}),o.push(f)):o.push("")}else if("*"===c||"+"===c||"?"===c)p=o.pop(),f=""+p+c,n[f]||(n[f]={type:"group",match:"*"===c?"zeroOrMore":"+"===c?"oneOrMore":"zeroOrOne",tokens:[p]}),o.push(f);else if("{"===c){for(u="";i.pos<i.length&&"}"!==(c=i.charAt(i.pos++));)u+=c;u=u.split(",").map(Vt),u[0]=u[0].length?parseInt(u[0],10)||0:0,0>u[0]&&(u[0]=0),2>u.length?u.push(u[0]):u[1]=u[1].length?parseInt(u[1],10)||$:$,0>u[1]&&(u[1]=0),p=o.pop(),f=""+p+["{",u[0],",",isFinite(u[1])?u[1]:"","}"].join(""),n[f]||(n[f]={type:"group",match:[u[0],u[1]],tokens:[p]}),o.push(f)}else{if("}"===c)continue;if("["===c){for(l="";i.pos<i.length&&"]"!==(c=i.charAt(i.pos++));)l+=c;f="["+l+"]",t[f]||(t[f]={type:"simple",tokens:l.split("")}),o.push(f)}else{if("]"===c)continue;"|"===c?(o.length>1?(f=""+o.join(" "),n[f]||(n[f]={type:"group",match:"sequence",tokens:o}),r.push(f)):o.length&&r.push(o[0]),o=[]):"("===c?(m.push([o,r,s]),o=[],r=[],s=""):")"===c&&(o.length>1?(f=""+o.join(" "),n[f]||(n[f]={type:"group",match:"sequence",tokens:o}),r.push(f)):o.length&&r.push(o[0]),o=[],r.length>1?(f=""+r.join(" | "),n[f]||(n[f]={type:"group",match:"either",tokens:r})):r.length&&(f=r[0]),r=[],h=m.pop(),o=h[0],r=h[1],s=h[2],p=f,f="("+p+")",n[f]||(n[f]=Pt(t[p]||n[p])),o.push(f))}}else s+=c;s.length&&(t[s]||n[s]||(t[s]={type:"simple",tokens:s}),o.push(s)),s="",o.length>1?(f=""+o.join(" "),n[f]||(n[f]={type:"group",match:"sequence",tokens:o}),r.push(f)):o.length&&r.push(o[0]),o=[],r.length>1?(f=""+r.join(" | "),n[f]||(n[f]={type:"group",match:"either",tokens:r}),e=f):r.length&&(e=r[0]),r=[]}return e}function c(e,t){var n,r,o;for(r in e)e[pt](r)&&(n=r.split(":"),o=n[1]&&Vt(n[1]).length?Vt(n[1]):null,n=n[0],n!==r&&(e[n]=e[r],delete e[r],o&&(xt===Tt(e[n])?e[n].type||(e[n].type=o):e[n]={type:o,tokens:e[n]})));for(r in t)t[pt](r)&&(n=r.split(":"),o=n[1]&&Vt(n[1]).length?Vt(n[1]):null,n=n[0],n!==r&&(t[n]=t[r],delete t[r],o&&(xt===Tt(t[n])?t[n].type||(t[n].type=o):t[n]={type:o,tokens:t[n]})))}function p(e,t,n,r,o,s,l,c,h,g,k){var d,y,v,b,_,w,x,C,E,D,I,P,U,F,Q,J,st,at=null;if(st=null,N===e)return new an(N,N,e,st);if(B===e)return new an(B,B,e,st);if(z===e||null===e)return new an(z,z,e,st);if(""===e)return new an(G,"NONSPACE",e,st);if(!1===e||0===e)return new an(V,"EMPTY",e,st);if(wt&Tt(e)&&(J=e,e="NGRAM_"+J.join("_"),r[e]||(r[e]={type:"ngram",tokens:J})),e=""+e,c[e])return c[e];for(n[e]?(d=n[e],At&Tt(d)&&(d=n[e]={type:"simple",tokens:d})):d=r[e]?r[e]:e,vt&Tt(d)&&(d=a(d,n,r),d=n[d]||r[d]);d.extend;)F=d.extend,Q=n[F]||r[F],delete d.extend,Q&&(At&Tt(Q)&&(Q={type:"simple",tokens:Q}),d=Nt(Q,d));if("undefined"==typeof d.type&&(d[pt]("error")?(d.type="action",d.action=["error",d.error,!!d["in-context"]],delete d.error):d[pt]("context-start")?(d.type="action",d.action=["context-start",d["context-start"],!!d["in-context"]],delete d["context-start"]):d[pt]("context-end")?(d.type="action",d.action=["context-end",d["context-end"],!!d["in-context"]],delete d["context-end"]):d[pt]("empty")?(d.type="action",d.action=["empty",d.empty,!!d["in-context"]],delete d.empty):d[pt]("indent")?(d.type="action",d.action=["indent",d.indent,!!d["in-context"]],delete d.indent):d[pt]("outdent")?(d.type="action",d.action=["outdent",d.outdent,!!d["in-context"]],delete d.outdent):d[pt]("unique")?(d.type="action",d.action=["unique",vt&Tt(d.unique)?["_DEFAULT_",d.unique]:d.unique,!!d["in-context"]],delete d.unique):d[pt]("push")?(d.type="action",d.action=["push",d.push,!!d["in-context"]],delete d.push):d[pt]("pop")?(d.type="action",d.action=["pop",d.pop,!!d["in-context"]],delete d.pop):d.sequence||d.all?(d.type="group",d.match="sequence",d.tokens=d.sequence||d.all,d.all?delete d.all:delete d.sequence):d.either?(d.type="group",d.match="either",d.tokens=d.either,delete d.either):d.zeroOrMore?(d.type="group",d.match="zeroOrMore",d.tokens=d.zeroOrMore,delete d.zeroOrMore):d.oneOrMore?(d.type="group",d.match="oneOrMore",d.tokens=d.oneOrMore,delete d.oneOrMore):d.zeroOrOne?(d.type="group",d.match="zeroOrOne",d.tokens=d.zeroOrOne,delete d.zeroOrOne):d.comment?(d.type="comment",d.tokens=d.comment,delete d.comment):d.block?(d.type="block",d.tokens=d.block,delete d.block):d["escaped-block"]?(d.type="escaped-block",d.tokens=d["escaped-block"],delete d["escaped-block"]):d.simple?(d.type="simple",d.tokens=d.simple,delete d.simple):d.type="simple"),y=d.type?it[d.type.toUpperCase().replace(Wt,"")]:K,st=d.msg||null,K&y){if(N===d.tokens)return at=new an(N,e,e,st),c[e]=at,at;if(B===d.tokens)return at=new an(B,e,e,st),c[e]=at,at;if(z===d.tokens||null===d.tokens)return at=new an(z,e,e,st),c[e]=at,at;if(""===d.tokens)return at=new an(G,e,e,st),c[e]=at,at;if(!1===d.tokens||0===d.tokens)return at=new an(V,e,e,st),c[e]=at,at}if(lt&y||(d.tokens=Dt(d.tokens)),lt&y)d[pt]("action")?"error"===d.action[0]?d.action[0]=O:"context-start"===d.action[0]?d.action[0]=j:"context-end"===d.action[0]?d.action[0]=M:"empty"===d.action[0]?d.action[0]=R:"indent"===d.action[0]?d.action[0]=T:"outdent"===d.action[0]?d.action[0]=q:"unique"===d.action[0]?d.action[0]=S:"push"===d.action[0]?d.action[0]=L:"pop"===d.action[0]&&(d.action[0]=A):d[pt]("error")?d.action=[O,d.error,!!d["in-context"]]:d[pt]("context-start")?d.action=[j,d["context-start"],!!d["in-context"]]:d[pt]("context-end")?d.action=[M,d["context-end"],!!d["in-context"]]:d[pt]("empty")?d.action=[R,d.empty,!!d["in-context"]]:d[pt]("indent")?d.action=[T,d.indent,!!d["in-context"]]:d[pt]("outdent")?d.action=[q,d.outdent,!!d["in-context"]]:d[pt]("unique")?d.action=[S,vt&Tt(d.unique)?["_DEFAULT_",d.unique]:d.unique,!!d["in-context"]]:d[pt]("push")?d.action=[L,d.push,!!d["in-context"]]:d[pt]("pop")&&(d.action=[A,d.pop,!!d["in-context"]]),b=d.action.slice(),at=new cn(lt,e,b,st),c[e]=at;else if(K&y)d.autocomplete&&m(d,e,k),v="undefined"==typeof d.combine?"\\b":d.combine,at=new an(K,e,u(e,d.tokens.slice(),t,v,s,l),st),c[e]=at;else if(W&y)Z&y&&f(d,g),at=new pn(y,e,i(e,d.tokens.slice(),t,s,l),st,d.multiline,d.escape,o[e+".inside"]?1:0),c[e]=at,d.interleave&&h.push(at.clone());else if(rt&y){for(w=d.tokens.slice(),wt&Tt(d.match)?at=new fn(X,e,null,st,d.match[0],d.match[1]):(_=ut[d.match.toUpperCase()],at=et===_?new fn(et,e,null,st,0,1):tt===_?new fn(tt,e,null,st,0,$):nt===_?new fn(nt,e,null,st,1,$):H&_?new fn(H,e,null,st):new fn(Y,e,null,st)),c[e]=at,x=[],D=0,I=w.length;I>D;D++)x=x.concat(p(w[D],t,n,r,o,s,l,c,h,g,k));at.set(x)}else if(ot&y){for(at=It(d.tokens.slice()).slice(),C=[],D=0,I=at.length;I>D;D++)C[D]=at[D].slice(),at[D]=new fn(ot,e+"_NGRAM_"+D,null,st);for(c[e]=at,D=0,I=at.length;I>D;D++){for(E=C[D],x=[],P=0,U=E.length;U>P;P++)x=x.concat(p(E[P],t,n,r,o,s,l,c,h,g,k));at[D].set(x)}}return c[e]}function f(e,t){var n,r,o,s,l,u=It(e.tokens.slice());for(s=0,l=u.length;l>s;s++)n=u[s][0],r=u[s].length>1?u[s][1]:u[s][0],o=u[s].length>2?u[s][2]:"",null===r?(t.line=t.line||[],t.line.push(n)):(t.block=t.block||[],t.block.push([n,r,o]))}function m(e,t,n){var r=[].concat(Dt(e.tokens)).map(function(e){return{word:e,meta:t}});n.autocomplete=(n.autocomplete||[]).concat(r)}function h(e){var t,n,r,o,s,l,u,i,a,f,m,h,g,k,d,y;if(e.__parsed)return e;for(m={},h={},g={},d={},y={},k=[],e=Pt(e),t=e.RegExpID||null,e.RegExpID=null,delete e.RegExpID,l=e.Lex||{},e.Lex=null,delete e.Lex,u=e.Syntax||{},e.Syntax=null,delete e.Syntax,s=e.Style||{},c(l,u),o=e.Parser||[],r=o.length,n=[],i=0;r>i;i++)a=o[i],f=p(a,t,l,u,s,m,h,g,k,d,y)||null,f&&(wt&Tt(f)?n=n.concat(f):n.push(f));return e.Parser=n,e.cTokens=k,e.Style=s,e.Comments=d,e.Keywords=y,e.Extra=e.Extra||{},e.__parsed=1,e}function g(){ace.define("ace/grammar_worker",["require","exports","module","ace/worker/mirror"],function(e,t){var n,r=e("./worker/mirror").Mirror;t.AceGrammarWorker=n=Mt(r,{constructor:function(e){var t=this;r.call(t,e),t.setTimeout(500)},parser:null,Init:function(e,t){var n=this;n.parser=new Cn(h(e),{DEFAULT:d,ERROR:y}),n.sender.callback(1,t)},onUpdate:function(){var e,t,n,r,o,s=this,l=s.sender,u=s.parser;if(!u)return void l.emit("ok",null);if(e=s.doc.getValue(),!e||!e.length)return void l.emit("ok",null);if(t=u.parse(e,b),!t)return void l.emit("ok",null);o=[];for(n in t)t.hasOwnProperty(n)&&(r=t[n],o.push({row:r[0],column:r[1],text:r[4]||"Syntax Error",type:"error",raw:r[4]||"Syntax Error",range:[r[0],r[1],r[2],r[3]]}));o.length?l.emit("error",o):l.emit("ok",null)}})})}function k(e,t){var n,r=Pt(e),o=new Cn(h(e),{DEFAULT:t||d,ERROR:y}),s=en("ace_grammar_mode"),l=function(e){e[s+"$markers"]||(e[s+"$markers"]=[]);var t,n=e[s+"$markers"];if(n&&n.length)for(t=0;t<n.length;t++)e.removeMarker(n[t]);n.length=0},u=function(e,t){var n,r,o,u=t.length,i=kn("ace/range").Range;for(l(e),o=e[s+"$markers"],n=0;u>n;n++)r=t[n],r.range&&(o.push(e.addMarker(new i(r.range[0],r.range[1],r.range[2],r.range[3]),"ace_error-marker","text",0)),delete r.range)},i=function(e){l(e),e.clearAnnotations()},a=function(e,t){u(e,t),e.setAnnotations(t)};return n={getTokenizer:function(){return o},supportGrammarAnnotations:!1,$id:s,createWorker:function(e){if(!n.supportGrammarAnnotations)return i(e),null;dn.setModuleUrl("ace/grammar_worker",wn.file);var t=new xn(["ace"],"ace/grammar_worker","AceGrammarWorker");return t.attachToDocument(e.getDocument()),t.call("Init",[r],function(){t.on("error",function(t){var n=t.data;a(e,n)}),t.on("ok",function(){i(e)})}),t},transformAction:function(){},toggleCommentLines:function(e,t,n,r){return o.tCL(e,t,n,r)},toggleBlockComment:function(e,t,n,r){return o.tBC(e,t,n,r)},getNextLineIndent:function(e,t,n){return o.getNextLineIndent(e,t,n)},checkOutdent:function(){return!1},autoOutdent:function(){},getKeywords:function(){var e=o.Keywords;return e?e.map(function(e){var t=e.word,n=e.meta;return{name:t,value:t,score:1e3,meta:n}}):[]},getCompletions:function(e,t,n,r){var s=o.Keywords;if(!s)return[];var l=r.length;return s.map(function(e){var t=e.word,n=e.meta,o=t.length,s=o>=l&&r===t.substr(0,l);return{name:t,value:t,score:s?1e3-o:0,meta:n}})}}}var d,y,v=1,b=2,_=4,w=8,x=~_,C=~w,E=_|w,$=1/0,O=4,S=8,L=16,A=32,R=64,T=128,q=256,j=512,M=1024,D=2,I=4,P=8,N=4,U=8,B=16,z=32,F=N|B,V=64,G=128,K=256,W=512,Q=513,Z=514,H=1024,Y=2048,J=Y,X=4096,et=4097,tt=4098,nt=4099,rt=8192,ot=16384,st=Y|ot,lt=32768,ut={EITHER:H,ALL:J,SEQUENCE:Y,ZEROORONE:et,ZEROORMORE:tt,ONEORMORE:nt,REPEATED:X},it={ACTION:lt,BLOCK:W,COMMENT:Z,ESCAPEDBLOCK:Q,SIMPLE:K,GROUP:rt,NGRAM:ot},at=void 0,ct="prototype",pt="hasOwnProperty",ft="propertyIsEnumerable",mt=(Object.keys,Array[ct],Object[ct]),ht=(Function[ct],mt.toString),gt=4,kt=5,dt=6,yt=8,vt=16,bt=17,_t=18,wt=32,xt=64,Ct=128,Et=256,$t=512,Ot=1024,St=2048,Lt=4096,At=vt|wt,Rt={"[object Number]":gt,"[object String]":vt,"[object Array]":wt,"[object RegExp]":Et,"[object Date]":$t,"[object Function]":Ct,"[object Object]":xt},Tt=function(e){if(null===e)return Ot;if(!0===e||!1===e||e instanceof Boolean)return yt;if(at===e)return St;var t=Rt[ht.call(e)]||Lt;return gt===t||e instanceof Number?isNaN(e)?dt:isFinite(e)?gt:kt:vt===t||e instanceof String?1===e.length?bt:vt:wt===t||e instanceof Array?wt:Et===t||e instanceof RegExp?Et:$t===t||e instanceof Date?$t:Ct===t||e instanceof Function?Ct:xt===t?xt:Lt},qt=function(){var e,t,n,r,o,s,l=arguments,u=l.length;for(e=l[0]||{},o=1;u>o;o++)if(t=l[o],xt===Tt(t))for(r in t)t[pt](r)&&t[ft](r)&&(n=t[r],s=Tt(n),e[r]=gt&s?0+n:$t&s?new Date(n):At&s?n.slice():n);return e},jt=Object.create,Mt=function(e,t){var n,r=arguments.length,o="constructor";return 0===r?(e=Object,t={}):1===r?(t=e||{},e=Object):(e=e||Object,t=t||{}),t[pt](o)||(t[o]=function(){}),n=t[o],delete t[o],n[ct]=qt(jt(e[ct]),t),n[ct][o]=n,n},Dt=function(e,t){return t||wt!==Tt(e)?[e]:e},It=function(e,t){return e=Dt(e),(t||wt!==Tt(e[0]))&&(e=[e]),e},Pt=function(e,t){var n,r,o,s,l=Tt(e),u=0;if(gt===Tt(t)?t>0?(u=t,t=!0):t=!1:t=!1!==t,xt===l){r={};for(o in e)e[pt](o)&&e[ft](o)&&(n=Tt(e[o]),r[o]=xt===n?t?Pt(e[o],u>0?u-1:t):e[o]:wt===n?t?Pt(e[o],u>0?u-1:t):e[o].slice():$t&n?new Date(e[o]):vt&n?e[o].slice():gt&n?0+e[o]:e[o])}else if(wt===l)for(s=e.length,r=new Array(s),o=0;s>o;o++)n=Tt(e[o]),r[o]=xt===n?t?Pt(e[o],u>0?u-1:t):e[o]:wt===n?t?Pt(e[o],u>0?u-1:t):e[o].slice():$t&n?new Date(e[o]):vt&n?e[o].slice():gt&n?0+e[o]:e[o];else r=$t&l?new Date(e):vt&l?e.slice():gt&l?0+e:e;return r},Nt=function(){var e,t,n,r,o,s,l,u,i,a,c=arguments,p=c.length;if(1>p)return null;for(t=Pt(c[0]),n=1;p>n;n++)if(e=c[n])for(r in e)if(e[pt](r)&&e[ft](r))if(t[pt](r)&&t[ft](r)){if(i=Tt(t[r]),a=Tt(e[r]),xt===i&&xt===a)t[r]=Nt(t[r],e[r]);else if(wt===i&&wt===a){if(l=t[r],u=e[r],s=u.length,!s)continue;if(l.length)for(o=0;s>o;o++)0>l.indexOf(u[o])&&l.push(u[o]);else t[r]=u.slice()}}else t[r]=Pt(e[r]);return t},Ut=/([.*+?^${}()|[\]\/\\\-])/g,Bt=function(e){return e.replace(Ut,"\\$1")},zt=function(e,t,n){var r,o,s,l,u,i=!0===n?0:1;for(vt&Tt(t)&&(t=[t,t],i=0),o=e.length,u="",r=0;o>r;)s=e.charAt(r),o>r+1&&"$"===s?(l=e.charCodeAt(r+1),36===l?(u+="$",r+=2):l>=48&&57>=l?(u+=t[i+l-48]||"",r+=2):(u+=s,r+=1)):(u+=s,r+=1);return u},Ft=/^\s+|\s+$/g,Vt=String[ct].trim?function(e){return e.trim()}:function(e){return e.replace(Ft,"")},Gt=function(e,t){return t.length-e.length},Kt=/\r\n|\r|\n/g,Wt=/[\-_]/g,Qt=/^([\[\]{}()*+?|'"]|\s)/,Zt=function(e,t){return vt&Tt(t)&&vt&Tt(e)&&t.length&&t.length<=e.length&&t==e.substr(0,t.length)},Ht=function(e,t,n){if(!e||gt===Tt(e))return e;var r,o=t?t.length||0:0;if(o&&t===e.substr(0,o)){var s,l,u,r,i,a=e.substr(o),c=a.charAt(0),p="";for(r=a.length;r--&&(i=a.charAt(r),c!==i);)"i"===i.toLowerCase()&&(p="i");return s=a.substring(1,r),l="^("+s+")",n[l]||(u=new RegExp(l,p),n[l]=u),n[l]}return e},Yt=function(e,t){var n,r="";return vt&Tt(t)&&(r=t),n=e.sort(Gt).map(Bt).join("|"),[new RegExp("^("+n+")"+r),1]},Jt=0,Xt=function(){return++Jt},en=function(e){return[e||"uuid",++Jt,(new Date).getTime()].join("_")},tn=Math.max,nn=/^[\s\u00a0]+/,rn=/[^\s\u00a0]/,on=Mt({constructor:function(e){var t=this;t._=null,t.s=e?""+e:"",t.start=t.pos=0,t.lCP=t.lCV=0,t.lS=0},_:null,s:"",start:0,pos:0,lCP:0,lCV:0,lS:0,dispose:function(){var e=this;return e._=null,e.s=null,e.start=null,e.pos=null,e.lCP=null,e.lCV=null,e.lS=null,e},toString:function(){return this.s},sol:function(){return 0===this.pos},eol:function(){return this.pos>=this.s.length},end:function(){var e=this;return e.pos=e.s.length,e},mov:function(e){var t=this;return 0>e?t.pos=tn(0,t.pos-e):t.pos+=e,t},bck:function(e){var t=this;return t.pos=tn(0,e),t},sft:function(){var e=this;return e.start=e.pos,e},nxt:function(){var e,t=this,n=t.s;return t.pos<n.length?e=n.charAt(t.pos++)||null:void 0},cur:function(e){var t=this,n=t.s.slice(t.start,t.pos);return e&&(t.start=t.pos),n},upd:function(){var e=this;return e._&&(e._.pos=e.pos),e},spc:function(e){var t,n=this,r=n.pos,o=n.s.slice(r);return(t=o.match(nn))?(!1!==e&&n.mov(t[0].length),1):0},col:function(e){var t=this;return e=e||1,t.lCP<t.start&&(t.lCV=on.col(t.s,t.start,e,t.lCP,t.lCV),t.lCP=t.start,t._&&(t._.start=t.start,t._.lastColumnPos=t.lCP,t._.lastColumnValue=t.lCV,t._.lineStart=t.lS)),t.lCV-(t.lS?on.col(t.s,t.lS,e):0)},ind:function(e){var t=this;return e=e||1,on.col(t.s,null,e)-(t.lS?on.col(t.s,t.lS,e):0)}});on.col=function(e,t,n,r,o){var s,l;for(null===t&&(t=e.search(rn),-1==t&&(t=e.length)),s=r||0,l=o||0;t>s;++s)l+="	"==e.charAt(s)?n-l%n:1;return l},on._=function(e){var t=new on;return t._=e,t.s=""+e.string,t.start=e.start,t.pos=e.pos,t.lCP=e.lastColumnPos,t.lCV=e.lastColumnValue,t.lS=e.lineStart,t};var sn,ln,un,an,cn,pn,fn,mn=Mt({constructor:function(e){this._=e||[]},_:null,dispose:function(){var e=this;return e._=null,e},toString:function(){return this._.slice().reverse().join("\n")},clone:function(){return new mn(this._.slice())},isEmpty:function(){return 0>=this._.length},pos:function(){return this._.length},peek:function(e){var t=this,n=t._;if(e=arguments.length?e:-1,n.length){if(0>e&&0<=n.length+e)return n[n.length+e];if(e>=0&&e<n.length)return n[e]}return null},pop:function(){return this._.pop()},shift:function(){return this._.shift()},push:function(e){var t=this;return t._.push(e),t},unshift:function(e){var t=this;return t._.unshift(e),t},pushAt:function(e,t,n,r){var o=this,s=o._;return n&&r&&(t[n]=r),e<s.length?s.splice(e,0,t):s.push(t),o},empty:function(e,t){var n=this,r=n._;if(e&&t)for(;r.length&&r[r.length-1]&&r[r.length-1][e]===t;)r.pop();else r.length=0;return n}}),hn=Mt({constructor:function En(e,t,n){var r=this;r.id=t?en("state"):"state",e instanceof En?(r.line=e.line,r.status=e.status,r.token=e.token,r.block=e.block,r.stack=e.stack.clone(),r.queu=e.queu.slice(),r.symb=Pt(e.symb,1),r.ctx=e.ctx.slice(),r.err=e.err):(r.line=e||0,r.status=n||0,r.token=null,r.block=null,r.stack=new mn,r.queu=[],r.symb={},r.ctx=[],r.err=r.status&b?{}:null)},id:null,line:0,status:0,token:null,block:null,stack:null,queu:null,symb:null,ctx:null,err:null,dispose:function(){var e=this;return e.id=null,e.line=null,e.status=null,e.token=null,e.block=null,e.stack&&e.stack.dispose(),e.stack=null,e.queu=null,e.symb=null,e.ctx=null,e.err=null,e},clone:function(e){return new hn(this,e)},toString:function(){var e=this;return[e.id,e.line,e.token?e.token.name:"0",e.block?e.block.name:"0"].join("_")}});sn=Mt({constructor:function(e,l,u,i){var a=this;switch(a.type=D,a.name=e,a.pattern=null,a.ptype=u||vt,a.key=i||0,a.ptype){case Ot:a.pattern=null,a.match=s;break;case Et:a.pattern=Et&Tt(l)?[l,0]:[l[0],l[1]||0],a.match=o;break;case bt:case _t:a.pattern=l,a.match=_t===a.ptype?n:t;break;case vt:default:a.pattern=l,a.match=r}},type:null,name:null,pattern:null,ptype:null,key:0,dispose:function(){var e=this;return e.type=null,e.name=null,e.pattern=null,e.ptype=null,e.key=null,e},match:function(){return!1},toString:function(){var e=this;return["[","Pattern: ",e.name,", ",e.pattern?e.pattern.toString():null,"]"].join("")}}),un=Mt(sn,{constructor:function(e,t,n){var r=this;r.type=I,r.name=e,r.pattern=t,r.key=!1!==n},match:function(e,t){var n,r,o=this,s=o.pattern,l=s.length,u=o.key;for(n=0;l>n;n++)if(r=s[n].match(e,t))return u?[n,r[1]]:r;return!1}}),ln=Mt(sn,{constructor:function(e,t){var n=this;n.type=P,n.name=e,n.pattern=t,n.pattern[0]=new un(n.name+"_Start",n.pattern[0],!1)},match:function(e,t){var n,r,o,s,l,u=this,i=u.pattern,a=i[0],c=i[1];return(r=a.match(e,t))?(n=c[r[0]],s=Tt(n),l=a.pattern[r[0]].ptype,Et===l&&(gt===s?(o=r[1][n+1],n=new sn(u.name+"_End",o,o.length>1?vt:bt)):vt===s&&(o=zt(n,r[1]),n=new sn(u.name+"_End",o,o.length>1?vt:bt))),n):!1}}),an=Mt({constructor:function(e,t,n,r){var o=this;o.type=e||K,o.name=t,o.token=n,o.status=0,o.msg=r||null,o.$msg=null,o.$clone=null,N===o.name?o.name="<start-of-file>":B===o.name?o.name="<start-of-line>":z===o.name?o.name="<end-of-line>":U===o.name?o.name="<end-of-file>":V===o.name?o.name="<empty>":G===o.name&&(o.name="<nonspace>")},name:null,type:null,token:null,status:0,msg:null,$msg:null,$clone:null,$id:null,dispose:function(){var e=this;return e.type=null,e.name=null,e.token=null,e.status=null,e.msg=null,e.$msg=null,e.$clone=null,e.$id=null,e},clone:function(){var e,t,n,r=this,o=r.$clone;if(e=new r.constructor,e.type=r.type,e.name=r.name,e.token=r.token,e.msg=r.msg,o&&o.length)for(t=0,n=o.length;n>t;t++)e[o[t]]=r[o[t]];return e},get:function(e,t){var n=this,r=n.token,o=n.type,s=n.name,l=null;if(n.$msg=n.msg||null,t.token=null,N===o){if(N&t.status&&e.sol())return!0}else if(B===o){if(e.sol())return!0}else if(z===o){if(e.spc(),e.eol())return s}else{if(V===o)return n.status=0,!0;if(G===o)n.status&_&&e.spc()&&!e.eol()&&(n.status|=w),n.status&=x;else if(l=r.match(e))return t.token={name:s,value:e.cur(),token:l[1]},s}return n.status&&n.$msg&&(n.$msg=zt(n.$msg,s,!0)),!1},req:function(e){var t=this;return e?t.status|=_:t.status&=x,t},err:function(e,t,n,r,o){var s,l=this,u=l.name;return s=l.$msg?l.$msg:l.status&_?'Token "'+u+'" Expected':'Syntax Error: "'+u+'"',e&&e.status&b&&(e.err[t+"_"+n+"_"+r+"_"+o+"_"+u]=[t,n,r,o,s]),s},toString:function(){var e=this;return["[","Token: ",e.name,", ",e.token?e.token.toString():null,"]"].join("")}}),cn=Mt(an,{constructor:function(e,t,n,r){var o=this;o.type=e||lt,o.name=t,o.token=n,o.status=0,o.msg=r||null,o.$msg=null,o.$clone=null},get:function(e,t){var n,r,o,s,l,u,i,a,c,p,f,m=this,h=m.token||null,g=t.queu,k=t.symb,d=t.ctx,y=t.token,v=t.err,_=!!(t.status&b);if(m.status=0,m.$msg=null,h){if(l=m.msg,n=h[0],r=h[1],c=!!h[2],u=t.line,a=e.pos,i=y&&y.value?a-y.value.length:i-1,O===n)return _&&(m.$msg=l?l:"Error",p=u+"_"+i+"_"+u+"_"+a+"_"+m.name,v[p]=[u,i,u,a,m.err()]),m.status|=w,!1;if(j===n)d.unshift({symb:{},queu:[]});else if(M===n)d.length&&d.shift();else if(R===n)c?d.length&&(d[0].queu.length=0):g.length=0;else if(S===n){if(c){if(!d.length)return!0;k=d[0].symb}if(y){if(o=r[1],s=r[0],o=gt===Tt(o)?y.token[o]:zt(o,y.token,!0),k[pt](s)||(k[s]={}),k[s][pt](o))return _&&(m.$msg=l?zt(l,o,!0):'Duplicate "'+o+'"',f=m.err(),p=k[s][o][0]+"_"+k[s][o][1]+"_"+k[s][o][2]+"_"+k[s][o][3]+"_"+m.name,v[p]=[k[s][o][0],k[s][o][1],k[s][o][2],k[s][o][3],f],p=u+"_"+i+"_"+u+"_"+a+"_"+m.name,v[p]=[u,i,u,a,f]),m.status|=w,!1;k[s][o]=[u,i,u,a]}}else if(A===n){if(c){if(!d.length)return!0;g=d[0].queu}if(r){if(y&&(r=gt===Tt(r)?y.token[r]:zt(r,y.token)),!g.length||r!==g[0][0])return _&&(g.length?(m.$msg=l?zt(l,[g[0][0],r],!0):'Tokens do not match "'+g[0][0]+'","'+r+'"',f=m.err(),p=g[0][1]+"_"+g[0][2]+"_"+g[0][3]+"_"+g[0][4]+"_"+m.name,v[p]=[g[0][1],g[0][2],g[0][3],g[0][4],f],p=u+"_"+i+"_"+u+"_"+a+"_"+m.name,v[p]=[u,i,u,a,f]):(m.$msg=l?zt(l,["",r],!0):'Token does not match "'+r+'"',f=m.err(),p=u+"_"+i+"_"+u+"_"+a+"_"+m.name,v[p]=[u,i,u,a,f])),g.shift(),m.status|=w,!1;g.shift()}else g.shift()}else if(L===n&&r){if(c){if(!d.length)return!0;g=d[0].queu}y&&(r=gt===Tt(r)?y.token[r]:zt(r,y.token)),g.unshift([r,u,i,u,a])}}return!0}}),pn=Mt(an,{constructor:function(e,t,n,r,o,s,l){var u=this;u.type=e,u.name=t,u.token=n,u.status=0,u.msg=r||null,u.mline="undefined"==typeof o?1:o,u.esc=s||"\\",u.inter=l,u.$msg=null,u.$clone=["mline","esc","inter"]},inter:0,mline:0,esc:null,get:function(e,t){var n,r,o,s,l,u,i,a,c,p,f,m,h,g,k=this,d=0,y=0,v="",b=k.mline,_=k.token,w=k.name,C=k.type,E=k.inter,$=E?w+".inside":w,O=0,S=Q===C,L=k.esc,A="",R="",T="",q="",j=t.stack;if(k.$msg=k.msg||null,h=t.line,g=e.pos,Z===C&&(k.status&=x),l=0,t.block&&t.block.name===w?(y=1,n=t.block.end,l=1,u=$,p=t.block.s,m=t.block.i,f=t.block.e,A=t.block._s,R=t.block._i,q=""):!t.block&&(n=_.match(e))&&(y=1,p=[h,g],m=[[h,e.pos],[h,e.pos]],f=[h,e.pos],A=e.cur(),R="",q="",T="",t.block={name:w,end:n,s:p,i:m,e:f,_s:A,_i:R,_e:T},u=w),y){if(o=j.pos(),s=Ot===n.type,E){if(l&&s&&e.sol())return k.status&=x,t.current=null,t.block=null,!1;if(!l)return j.pushAt(o,k.clone(),"$id",w),u}if(d=n.match(e),r=b,c=0,d)u=s?$:w,T=e.cur().slice(q.length);else for(a=e.pos;!e.eol();){if(i=e.pos,!(S&&O||!n.match(e))){E&&e.pos>i&&i>a?(u=$,e.bck(i),c=1):(u=w,d=1),T=e.cur().slice(q.length);break}v=e.nxt(),q+=v,O=!O&&v===L}return r=b||S&&O,m[1]=[h,i],f=[h,e.pos],d||!r&&!c?t.block=null:(t.block.i=m,t.block.e=f,t.block._i+=q,t.block._e=T,t.stack.pushAt(o,k.clone(),"$id",w)),t.token={name:w,value:e.cur(),token:[A+R+q+T,R+q,A,T]},u}return k.status&&k.$msg&&(k.$msg=zt(k.$msg,w,!0)),!1}}),fn=Mt(an,{constructor:function(e,t,n,r,o,s){var l=this;l.type=e?e:X,l.name=t||null,l.token=null,l.status=0,l.msg=r||null,l.min=o||0,l.max=s||$,l.found=0,l.$msg=null,l.$clone=["min","max","found"],n&&l.set(n)},min:0,max:1,found:0,set:function(e){return e&&(this.token=Dt(e)),this},get:function(e,t){var n,r,o,s,l,u,i,a,c,p,f,m,h,g,k,d=this,y=d.type,v=d.token,b=v.length;if(d.$msg=d.msg||null,d.status&=C,m=e.pos,l=t.stack,H===y){for(p=0,f=0,d.status|=_,u=[],n=0;b>n;n++){if(o=v[n].clone().req(1),s=o.get(e,t),o.status&_&&(p++,u.push(o.err())),!1!==s)return s;o.status&w&&(f++,e.bck(m))}return p>0?d.status|=_:d.status&=x,b===f&&p>0?d.status|=w:d.status&=C,d.status&&!d.$msg&&u.length&&(d.$msg=u.join(" | ")),!1}if(st&y){k=y&Y?1:0,k?d.status|=_:d.status&=x,h=l.pos(),g=d.name+"_"+Xt(),r=0;do o=v[r].clone().req(k),s=o.get(e,t),r++;while(b>r&&!0===s&&F&o.type);if(r>=b)return o.status&w?(k?d.status|=w:d.status&=C,e.bck(m)):k&&o.status&_&&(d.status|=w),d.status&&!d.$msg&&(d.$msg=o.err()),s;if(!1!==s){if(!0!==s)for(n=b-1;n>=r;n--)l.pushAt(h+b-n-1,v[n].clone().req(1),"$id",g);return s}return o.status&w?(k?d.status|=w:d.status&=C,e.bck(m)):k&&o.status&_&&(d.status|=w),d.status&&!d.$msg&&(d.$msg=o.err()),!1}for(p=0,i=d.found,a=d.min,c=d.max,d.status&=x,h=l.pos(),g=d.name+"_"+Xt(),u=[],n=0;b>n;n++){if(o=v[n].clone().req(1),s=o.get(e,t),!1!==s){if(++i,c>=i)return d.found=i,l.pushAt(h,d.clone(),"$id",g),d.found=0,s;break}o.status&_&&(p++,u.push(o.err())),o.status&w&&e.bck(m)}return a>i?d.status|=_:d.status&=x,i>c||a>i&&p>0?d.status|=w:d.status&=C,d.status&&!d.$msg&&u.length&&(d.$msg=u.join(" | ")),!1}});var gn="undefined"!=typeof ace?ace:{require:function(){return{}},config:{}},kn=gn.require,dn=gn.config,yn=!("undefined"==typeof global||"[object global]"!==ht.call(global)),vn=!(yn||"undefined"==typeof navigator),bn=!!(vn&&"function"==typeof importScripts&&navigator instanceof WorkerNavigator),_n=function(){var e,t,n=null;return yn?(n=__filename,{path:__dirname,file:__filename,base:__dirname}):(bn?n=self.location.href:vn&&(e=document.location.href.split("#")[0].split("?")[0].split("/").slice(0,-1).join("/"),(t=document.getElementsByTagName("script"))&&t.length&&(n=t[t.length-1].src)),n?{path:n.split("/").slice(0,-1).join("/"),file:n,base:e}:{path:null,file:null,base:null})},wn=_n(),xn=Mt(kn("ace/worker/worker_client").WorkerClient,{constructor:function(e,t,n){var r=this,o=kn,s=dn;r.$sendDeltaQueue=r.$sendDeltaQueue.bind(r),r.changeListener=r.changeListener.bind(r),r.onMessage=r.onMessage.bind(r),o.nameToUrl&&!o.toUrl&&(o.toUrl=o.nameToUrl);var l;if(s.get("packaged")||!o.toUrl)l=s.moduleUrl(t,"worker");else{var u=r.$normalizePath;l=u(o.toUrl("ace/worker/worker.js",null,"_"));var i={};e.forEach(function(e){i[e]=u(o.toUrl(e,null,"_").replace(/(\.js)?(\?.*)?$/,""))})}r.$worker=new Worker(l),r.$worker.postMessage({load:!0,ace_worker_base:wn.base+"/"+dn.moduleUrl("ace/worker/json")}),r.$worker.postMessage({init:!0,tlns:i,module:t,classname:n}),r.callbackId=1,r.callbacks={},r.$worker.onmessage=r.onMessage}});d="text",y="invalid";var Cn=Mt(kn("ace/tokenizer").Tokenizer,{constructor:function(e,t){var n,r=this;r.LC=e.Comments.line||null,r.BC=e.Comments.block?{start:e.Comments.block[0][0],end:e.Comments.block[0][1]}:null,r.LC&&(n=wt&Tt(r.LC)?r.LC.map(Bt).join("|"):Bt(r.LC),r.rxLine=new RegExp("^(\\s*)(?:"+n+") ?")),r.BC&&(r.rxStart=new RegExp("^(\\s*)(?:"+Bt(r.BC.start)+")"),r.rxEnd=new RegExp("(?:"+Bt(r.BC.end)+")\\s*$")),r.DEF=t.DEFAULT,r.ERR=e.Style.error||t.ERROR,r.Keywords=e.Keywords.autocomplete||null,r.Tokens=e.Parser||[],r.cTokens=e.cTokens.length?e.cTokens:null,r.Style=e.Style},ERR:null,DEF:null,LC:null,BC:null,rxLine:null,rxStart:null,rxEnd:null,Keywords:null,cTokens:null,Tokens:null,Style:null,dispose:function(){var e=this;return e.ERR=null,e.DEF=null,e.LC=null,e.BC=null,e.rxLine=null,e.rxStart=null,e.rxEnd=null,e.Keywords=null,e.cTokens=null,e.Tokens=null,e.Style=null,e},parse:function(e,t){e=e||"";var n,r,o,s,l,u=this,i=e.split(Kt),a=i.length,c=null;if(t=t||v,s=!!(t&b),l=!!(t&v),r={state:new hn(0,0,t),tokens:null},l)for(c=[],n=0;a>n;n++)r=u.getLineTokens(i[n],r.state,n),c.push(r.tokens);else for(n=0;a>n;n++)r=u.getLineTokens(i[n],r.state,n);return o=l&&s?{tokens:c,errors:r.state.err}:l?c:r.state.err,r.state.dispose(),o},getLineTokens:function(e,t,n){var r,o,s,l,u,i,a,c,p,f,m,h,g,k,d=this,y=d.cTokens,v=d.Tokens,b=v.length,_=d.DEF,w=d.ERR,x=d.Style;for(a=[],g=new on(e),t=t?t.clone(1):new hn(0,1),t.line=n,0===t.line?t.status|=N:t.status&=~N,k=t.stack,c={type:null,value:""},p=null,f=null,g.sol()&&!k.isEmpty()&&z===k.peek().type&&k.pop(),h=t.line,m=g.pos;!g.eol();)if(o=0,f&&f!==c.type?(c.type&&a.push(c),c={type:f,value:g.cur(1)}):c.type&&(c.value+=g.cur(1)),f=!1,!k.isEmpty()&&G===k.peek().type||!g.spc()){for(;!k.isEmpty()&&!g.eol();){if(y){for(l=0,s=0;l<y.length;)if(u=y[l++],p=u.get(g,t),!1!==p){f=x[p]||_,s=1;break}if(s){o=1;break}}if(m=g.pos,u=k.pop(),p=u.get(g,t),!1!==p){if(!0!==p){for(f=x[p]||_;!k.isEmpty()&&lt===k.peek().type;)i=k.pop(),i.get(g,t);o=1;break}}else{if(u.status&E){k.empty("$id",u.$id),g.nxt(),p=w,f=w,u.err(t,h,m,h,g.pos),o=1;break}f=!1}}if(!o){if(g.eol())break;for(r=0;b>r;r++)if(m=g.pos,u=v[r],p=u.get(g,t),!1!==p){if(!0!==p){for(f=x[p]||_;!k.isEmpty()&&lt===k.peek().type;)i=k.pop(),i.get(g,t);o=1;break}}else{if(u.status&E){k.empty("$id",u.$id),g.nxt(),p=w,f=w,u.err(t,h,m,h,g.pos),o=1;break}f=!1}if(!o){if(g.eol())break;g.nxt(),p=_,f=_}}}else p=_,f=_;return f&&f!==c.type?(c.type&&a.push(c),a.push({type:f,value:g.cur(1)})):c.type&&(c.value+=g.cur(1),a.push(c)),c=null,{state:t,tokens:a}},tCL:function(e,t,n,r){var o,s,l,u,i,a=this,c=t.doc,p=!0,f=!0,m=1/0,h=t.getTabSize(),g=!1;if(a.LC){var k,d=wt===Tt(a.LC)?a.LC[0]:a.LC,y=a.rxLine,v=d+" ";g=t.getUseSoftTabs(),l=function(e,t){var n,r,o=e.match(y);o&&(n=o[1].length,r=o[0].length,i(e,n,r)||" "!=o[0][r-1]||r--,c.removeInLine(t,n,r))},s=function(e,t){(!p||/\S/.test(e))&&(i(e,m,m)?c.insertInLine({row:t,column:m},v):c.insertInLine({row:t,column:m},d))},u=function(e){return y.test(e)},i=function(e,t,n){for(var r=0;t--&&" "==e.charAt(t);)r++;if(r%h!=0)return!1;for(r=0;" "==e.charAt(n++);)r++;return h>2?r%h!=h-1:r%h==0}}else{if(!a.BC)return!1;var d=a.BC.start,b=a.BC.end,_=a.rxStart,w=a.rxEnd;s=function(e,t){u(e,t)||(!p||/\S/.test(e))&&(c.insertInLine({row:t,column:e.length},b),c.insertInLine({row:t,column:m},d))
},l=function(e,t){var n;(n=e.match(w))&&c.removeInLine(t,e.length-n[0].length,e.length),(n=e.match(_))&&c.removeInLine(t,n[1].length,n[0].length)},u=function(e,n){if(_.test(e))return!0;for(var r=t.getTokens(n),o=0;o<r.length;o++)if("comment"===r[o].type)return!0}}o=function(e){for(var t=n;r>=t;t++)e(c.getLine(t),t)},k=1/0,o(function(e,t){var n=e.search(/\S/);-1!==n?(m>n&&(m=n),f&&!u(e,t)&&(f=!1)):k>e.length&&(k=e.length)}),1/0==m&&(m=k,p=!1,f=!1),g&&m%h!=0&&(m=Math.floor(m/h)*h),o(f?l:s)},tBC:function(e,t,n,r){var o,s,l,u,i,a,c,p,f,m,h,g=this,k=kn("ace/token_iterator").TokenIterator,d=kn("ace/range").Range,y=g.BC,v=/comment/;if(y){if(o=new k(t,r.row,r.column),s=o.getCurrentToken(),l=t.selection,u=l.toOrientedRange(),s&&v.test(s.type)){for(;s&&v.test(s.type);){if(f=s.value.indexOf(y.start),-1!=f){m=o.getCurrentTokenRow(),h=o.getCurrentTokenColumn()+f,c=new d(m,h,m,h+y.start.length);break}s=o.stepBackward()}for(o=new k(t,r.row,r.column),s=o.getCurrentToken();s&&v.test(s.type);){if(f=s.value.indexOf(y.end),-1!=f){m=o.getCurrentTokenRow(),h=o.getCurrentTokenColumn()+f,p=new d(m,h,m,h+y.end.length);break}s=o.stepForward()}p&&t.remove(p),c&&(t.remove(c),i=c.start.row,a=-y.start.length)}else a=y.start.length,i=n.start.row,t.insert(n.end,y.end),t.insert(n.start,y.start);u.start.row==i&&(u.start.column+=a),u.end.row==i&&(u.end.column+=a),t.selection.fromOrientedRange(u)}},indent:function(e){return e.match(/^\s*/)[0]},getNextLineIndent:function(e,t){return t.match(/^\s*/)[0]}});bn&&(onmessage=function(e){var t=e.data;t.load&&t.ace_worker_base&&(importScripts(t.ace_worker_base),g())});e.AceGrammar={VERSION:"2.1.0",clone:Pt,extend:Nt,parse:h,getMode:k};return e.AceGrammar});