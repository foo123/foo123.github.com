/**
*
*   AceGrammar
*   @version: 4.2.0
*
*   Transform a grammar specification in JSON format, into an ACE syntax-highlight parser mode
*   https://github.com/foo123/ace-grammar
*   https://github.com/foo123/editor-grammar
*
**/!function(e,t,n){"use strict";"object"==typeof module&&module.exports?(module.$deps=module.$deps||{})&&(module.exports=module.$deps[t]=n.call(e)):"function"==typeof define&&define.amd&&"function"==typeof require&&"function"==typeof require.specified&&require.specified(t)?define(t,["module"],function(t){return n.moduleUri=t.uri,n.call(e)}):t in e||(e[t]=n.call(e)||1)&&"function"==typeof define&&define.amd&&define(function(){return e[t]})}(this,"AceGrammar",function(){"use strict";function e(e){var t=0;return null===e?t=Tt:!0===e||!1===e||e instanceof Boolean?t=Ft:vt===e?t=Dt:(t=Qt[wt.call(e)]||Lt,t=jt===t||e instanceof Number?isNaN(e)?Ct:isFinite(e)?jt:Rt:At===t||e instanceof String?1===e.length?Nt:At:Pt===t||e instanceof Array?Pt:Bt===t||e instanceof RegExp?Bt:Wt===t||e instanceof Date?Wt:Ut===t||e instanceof Function?Ut:zt===t?zt:Lt),t}function t(e,t,n,r){var o,a,l,i,s,c,u=e.length;if(arguments.length<4&&(r=u-1),0>r&&(r+=u),arguments.length<3&&(n=0),n>r)return[];if(n===r)return[t(e[n],n,n,r)];for(l=r-n+1,i=15&l,s=1&i,c=new Array(l),s&&(c[0]=t(e[n],n,n,r)),o=s;i>o;o+=2)a=n+o,c[o]=t(e[a],a,n,r),c[o+1]=t(e[a+1],a+1,n,r);for(o=i;l>o;o+=16)a=n+o,c[o]=t(e[a],a,n,r),c[o+1]=t(e[a+1],a+1,n,r),c[o+2]=t(e[a+2],a+2,n,r),c[o+3]=t(e[a+3],a+3,n,r),c[o+4]=t(e[a+4],a+4,n,r),c[o+5]=t(e[a+5],a+5,n,r),c[o+6]=t(e[a+6],a+6,n,r),c[o+7]=t(e[a+7],a+7,n,r),c[o+8]=t(e[a+8],a+8,n,r),c[o+9]=t(e[a+9],a+9,n,r),c[o+10]=t(e[a+10],a+10,n,r),c[o+11]=t(e[a+11],a+11,n,r),c[o+12]=t(e[a+12],a+12,n,r),c[o+13]=t(e[a+13],a+13,n,r),c[o+14]=t(e[a+14],a+14,n,r),c[o+15]=t(e[a+15],a+15,n,r);return c}function n(e,t,n,r,o){var a,l,i,s,c,u=e.length,p=n;if(arguments.length<5&&(o=u-1),0>o&&(o+=u),arguments.length<4&&(r=0),r>o)return p;if(r===o)return t(p,e[r],r);for(i=o-r+1,s=15&i,c=1&s,c&&(p=t(p,e[r],r)),a=c;s>a;a+=2)l=r+a,p=t(t(p,e[l],l),e[l+1],l+1);for(a=s;i>a;a+=16)l=r+a,p=t(t(t(t(t(t(t(t(t(t(t(t(t(t(t(t(p,e[l],l),e[l+1],l+1),e[l+2],l+2),e[l+3],l+3),e[l+4],l+4),e[l+5],l+5),e[l+6],l+6),e[l+7],l+7),e[l+8],l+8),e[l+9],l+9),e[l+10],l+10),e[l+11],l+11),e[l+12],l+12),e[l+13],l+13),e[l+14],l+14),e[l+15],l+15);return p}function r(e,t,n,r){if(t>n)return r;if(t===n)return e(t,r,t,n),r;var o,a,l=n-t+1,i=15&l,s=1&i;for(s&&e(t,r,t,n),o=s;i>o;o+=2)a=t+o,e(a,r,t,n),e(++a,r,t,n);for(o=i;l>o;o+=16)a=t+o,e(a,r,t,n),e(++a,r,t,n),e(++a,r,t,n),e(++a,r,t,n),e(++a,r,t,n),e(++a,r,t,n),e(++a,r,t,n),e(++a,r,t,n),e(++a,r,t,n),e(++a,r,t,n),e(++a,r,t,n),e(++a,r,t,n),e(++a,r,t,n),e(++a,r,t,n),e(++a,r,t,n),e(++a,r,t,n);return r}function o(t,n){var r,a,l,i,s=e(t),c=0;if(jt===e(n)?n>0?(c=n,n=!0):n=!1:n=!1!==n,zt===s){a={};for(l in t)t[yt](l)&&t[xt](l)&&(r=e(t[l]),zt===r?a[l]=n?o(t[l],c>0?c-1:n):t[l]:Pt===r?a[l]=n?o(t[l],c>0?c-1:n):t[l].slice():Wt===r?a[l]=new Date(t[l]):At&r?a[l]=t[l].slice():jt&r?a[l]=0+t[l]:a[l]=t[l])}else if(Pt===s)for(i=t.length,a=new Array(i),l=0;i>l;l++)r=e(t[l]),zt===r?a[l]=n?o(t[l],c>0?c-1:n):t[l]:Pt===r?a[l]=n?o(t[l],c>0?c-1:n):t[l].slice():Wt===r?a[l]=new Date(t[l]):At&r?a[l]=t[l].slice():jt&r?a[l]=0+t[l]:a[l]=t[l];else a=Wt===s?new Date(t):At&s?t.slice():jt&s?0+t:t;return a}function a(){var t,n,r,l,i,s,c,u,p,f,m=arguments,h=m.length;if(1>h)return null;for(n=o(m[0]),r=1;h>r;r++)if(t=m[r])for(l in t)if(t[yt](l)&&t[xt](l))if(n[yt](l)&&n[xt](l)){if(p=e(n[l]),f=e(t[l]),zt===p&&zt===f)n[l]=a(n[l],t[l]);else if(Pt===p&&Pt===f){if(c=n[l],u=t[l],s=u.length,!s)continue;if(c.length)for(i=0;s>i;i++)0>c.indexOf(u[i])&&c.push(u[i]);else n[l]=u.slice()}}else n[l]=o(t[l]);return n}function l(){return!0}function i(t,n){return n||Pt!==e(t)?[t]:t}function s(t,n){return t=i(t),(n||Pt!==e(t[0]))&&(t=[t]),t}function c(t,n){return At&e(n)&&At&e(t)&&n.length&&n.length<=t.length&&n===t.substr(0,n.length)}function u(e,t,n){return n?e[t]=vt:delete e[t],e}function p(e){return(e||"id_")+ ++tn}function f(e){return(e||"uuid")+"_"+ ++tn+"_"+(new Date).getTime()}function m(){var t,n,r,o,a,l,i=arguments,s=i.length;for(t=i[0]||{},a=1;s>a;a++)if(n=i[a],zt===e(n))for(o in n)n[yt](o)&&n[xt](o)&&(r=n[o],l=e(r),jt&l?t[o]=0+r:Wt&l?t[o]=new Date(r):Yt&l?t[o]=r.slice():t[o]=r);return t}function h(e,t){var n,r=arguments.length,o="constructor";return 0===r?(e=Object,t={}):1===r?(t=e||{},e=Object):(e=e||Object,t=t||{}),t[yt](o)||(t[o]=function(){}),n=t[o],delete t[o],n[$t]=m(_t(e[$t]),t),n[$t][o]=n,n}function d(e){return e.replace(nn,"\\$1")}function k(e,t){t=t||{l:0,x:0,i:0,g:0};var e=new RegExp(e,(t.g?"g":"")+(t.i?"i":""));return e.xflags=t,e}function g(e,t,n,r){var o,a,l=e.pos||0,i=e.length,s="";if(n)if(r)for(;i>l;){if(a=!1,o=e[St](l++),n===o&&(a=!0,o=e[St](l++)),t===o){if(a){s+=o;continue}break}s+=o}else for(;i>l;){if(a=!1,o=e[St](l++),n===o&&(a=!0,s+=o,o=e[St](l++)),t===o){if(a){s+=o;continue}break}s+=o}else for(;i>l&&(o=e[St](l++),t!==o);)s+=o;return e.pos=l,s}function v(t,n,r,o){var a,l,i,s,c,u=!0===r?0:1,p=o?"\\":"$",f=o?92:36;for(At&e(n)&&(o&&(n=d(n)),n=[n,n,n],u=0),l=t.length,c="",a=0;l>a;)i=t[St](a),l>a+1&&p===i?(s=t.charCodeAt(a+1),f===s?(c+=p,a+=2):s>=48&&57>=s?(c+=n[u+s-48]||"",a+=2):(c+=i,a+=1)):(c+=i,a+=1);return c}function $(t,n,r,o){if(!t||(jt|Bt)&e(t))return t;var a,l=n?n.length||0:0,i="",s={g:0,i:0,x:0,l:0};if(At&e(o)?i=o:o&&(i=on),l&&t.substr(0,l)===n){var c,u,p,a,f,m=t.substr(l),h=m[St](0);for(a=m.length;a--&&(f=m[St](a),h!==f);)"i"===f.toLowerCase()?s.i=1:"x"===f.toLowerCase()?s.x=1:"l"===f.toLowerCase()&&(s.l=1);return c=m.substring(1,a),"^"===c.charAt(0)?(s.l=1,u="^("+c.slice(1)+")"):u="^("+c+")",p=u,(s.x||s.l||s.i)&&(u=(s.l?"l":"")+(s.x?"x":"")+(s.i?"i":"")+"::"+u),r[u]||(p=k(p,s),r[u]=p),r[u]}return i?(p=u="^("+d(t)+")"+i,r[u]||(p=k(p,s),r[u]=p),r[u]):t}function y(n,r,o){var a,l="";return At&e(r)?l=r:r&&(l=on),a=t(n.sort(Jt),d).join("|"),[k("^("+a+")"+l,{l:0,x:0,i:o?1:0}),1]}function x(t,n,r,o){var a=e(n);if(jt===a)return n;if(o[t])return o[t];r=r||0;var l,i=0;return n&&n.isCharList&&(i=1,u(n,"isCharList")),l=Tt===a?new F(Ne,t,n,Tt,r):Nt===a?new F(Ne,t,n,Nt,r):Ht&a?new F(Ne,t,n,Bt,r):At&a?new F(Ne,t,n,i?It:At,r):n,o[t]=l}function b(t,n,r,o,a,l,s,u){if(s[t])return s[t];var p,f,m,h,d,k,g,v=0,w=0,_=1,M=At&e(o)?!0:!!o;if(p=i(n),m=p.length,1===m)g=x(t,$(p[0],r,l,o),0,s);else if(m>1){for(h=(m>>>1)+1,f=0;h>=f;f++)d=e(p[f]),k=e(p[m-1-f]),Nt===d&&Nt===k||(_=0),Pt&d||Pt&k?v=1:(Bt&d||Bt&k||c(p[f],r)||c(p[m-1-f],r))&&(w=1);if(_&&!M)p=p.slice().join(""),p.isCharList=1,g=x(t,p,0,s);else if(!M||v||w)if(v||w){for(f=0;m>f;f++)Pt&e(p[f])?p[f]=b(t+"_"+f,p[f],r,o,a,l,s):p[f]=x(t+"_"+f,$(p[f],r,l),f,s);g=m>1?new F(Ie,t,p):p[0]}else{for(u&&(u.keywords=i(n).slice()),p=p.sort(Jt),f=0;m>f;f++)p[f]=x(t+"_"+f,$(p[f],r,l),f,s);g=m>1?new F(Ie,t,p):p[0]}else u&&(u.keywords=i(n).slice()),g=x(t,y(p,o,a),0,s)}return s[t]=g}function w(t,n,o,a,l){if(l[t])return l[t];var i=s(n),u=[],p=[];return r(function(n){var r,s,f,m;r=x(t+"_0_"+n,$(i[n][0],o,a),n,l),i[n].length>1?(f=c(i[n][1],o),m=f&&an.test(i[n][1]),Bt!==r.ptype||At!==e(i[n][1])||!m&&f?s=x(t+"_1_"+n,$(i[n][1],o,a),n,l):m?(s=new String(i[n][1]),s.regex_pattern=o):s=i[n][1]):s=r,u.push(r),p.push(s)},0,i.length-1),l[t]=new F(Pe,t,[u,p])}function _(e,t){var n=s(e.tokens.slice());r(function(e){var r=n[e][0],o=n[e].length>1?n[e][1]:n[e][0],a=n[e].length>2?n[e][2]:"";null===o?(t.line=t.line||[],t.line.push(r)):(t.block=t.block||[],t.block.push([r,o,a]))},0,n.length-1)}function M(e,n,r,o){var a=e.meta||r,l=!(!e.caseInsesitive&&!e.ci),i=t(n,function(e){return{word:e,meta:a,ci:l}});return o.autocomplete=(o.autocomplete||[]).concat(i),i}function q(t){t.Lex||(t.Lex={}),t.Syntax||(t.Syntax={});var n,r,o,l,i,s,c,p,f,m,h,d=t.Lex,k=t.Syntax,g=[d,k],v=g.length;for(h=0;v>h;){m=g[h++];for(o in m)m[yt](o)&&(n=o.split(":"),r=n[1]&&Zt(n[1]).length?Zt(n[1]):null,n=Zt(n[0]),n.length||(n=o,r=null),n!==o&&(m[n]=m[o],u(m,o),r&&(r=r[Ot](),l=m[n],i=e(l),zt===i?m[n].type||(m[n].type=r):(m[n]={type:r},"error"===r?(m[n].type="action",m[n].error=l):"nop"===r?(m[n].type="action",m[n].nop=!0):"group"===r?(m[n].type="sequence",m[n].tokens=l):"action"===r&&At===i?m[n][l]=!0:m[n].tokens=l))),d===m&&(Kt&e(m[n])&&(m[n]={type:"simple",tokens:m[n]}),l=m[n],l.type&&(p=l.type=l.type[Ot](),"line-block"===p?(l.type="block",l.multiline=!1,l.escape=!1):"escaped-line-block"===p?(l.type="block",l.multiline=!1,l.escape="\\"):"escaped-block"===p&&(l.type="block",l.multiline=!0,l.escape="\\"))))}m=d;for(n in m)if(m[yt](n))for(l=m[n];l.extend;)s=l.extend,u(l,"extend"),c=d[s],c&&(Kt&e(c)&&(c=d[s]={type:"simple",tokens:c}),l=a(c,l));m=d;for(n in m)m[yt](n)&&(l=m[n],l.type?(p=l.type=l.type[Ot](),"line-block"===p?(l.type="block",l.multiline=!1,l.escape=!1):"escaped-line-block"===p?(l.type="block",l.multiline=!1,l.escape="\\"):"escaped-block"===p&&(l.type="block",l.multiline=!0,l.escape="\\")):l["escaped-line-block"]?(l.type="block",l.multiline=!1,l.escape||(l.escape="\\"),l.tokens=l["escaped-line-block"],u(l,"escaped-line-block")):l["escaped-block"]?(l.type="block",l.multiline=!0,l.escape||(l.escape="\\"),l.tokens=l["escaped-block"],u(l,"escaped-block")):l["line-block"]?(l.type="block",l.multiline=!1,l.escape=!1,l.tokens=l["line-block"],u(l,"line-block")):l.comment?(l.type="comment",l.escape=!1,l.tokens=l.comment,u(l,"comment")):l.block?(l.type="block",l.tokens=l.block,u(l,"block")):l.simple?(l.type="simple",l.tokens=l.simple,u(l,"simple")):l.nop?(l.type="action",l.action=["nop",l.nop,!1],l.nop=!0):l.error?(l.type="action",l.action=["error",l.error,!!l["in-context"],!!l["in-hypercontext"]],u(l,"error")):l[yt]("hypercontext")?(l.type="action",l.action=[l.hypercontext?"hypercontext-start":"hypercontext-end",l.hypercontext,!!l["in-context"],!!l["in-hypercontext"]],u(l,"hypercontext")):l[yt]("context")?(l.type="action",l.action=[l.context?"context-start":"context-end",l.context,!!l["in-context"],!!l["in-hypercontext"]],u(l,"context")):l.indent?(l.type="action",l.action=["indent",l.indent,!!l["in-context"],!!l["in-hypercontext"]],u(l,"indent")):l.outdent?(l.type="action",l.action=["outdent",l.outdent,!!l["in-context"],!!l["in-hypercontext"]],u(l,"outdent")):l.define?(l.type="action",l.action=["define",At&e(l.define)?["*",l.define]:l.define,!!l["in-context"],!!l["in-hypercontext"]],u(l,"define")):l.undefine?(l.type="action",l.action=["undefine",At&e(l.undefine)?["*",l.undefine]:l.undefine,!!l["in-context"],!!l["in-hypercontext"]],u(l,"undefine")):l.defined?(l.type="action",l.action=["defined",At&e(l.defined)?["*",l.defined]:l.defined,!!l["in-context"],!!l["in-hypercontext"]],u(l,"defined")):l.notdefined?(l.type="action",l.action=["notdefined",At&e(l.notdefined)?["*",l.notdefined]:l.notdefined,!!l["in-context"],!!l["in-hypercontext"]],u(l,"notdefined")):l.unique?(l.type="action",l.action=["unique",At&e(l.unique)?["*",l.unique]:l.unique,!!l["in-context"],!!l["in-hypercontext"]],u(l,"unique")):l.push?(l.type="action",l.action=["push",l.push,!!l["in-context"],!!l["in-hypercontext"]],u(l,"push")):l[yt]("pop")?(l.type="action",l.action=["pop",l.pop,!!l["in-context"],!!l["in-hypercontext"]],u(l,"pop")):l.type="simple","action"===l.type?(l.ci=!(!l.caseInsesitive&&!l.ci),l.autocomplete=!!l.autocomplete):"block"===l.type||"comment"===l.type?(l.multiline=l[yt]("multiline")?!!l.multiline:!0,At&e(l.escape)||(l.escape=!1)):"simple"===l.type&&(l.meta=l.autocomplete&&At&e(l.meta)?l.meta:null,l.ci=!(!l.caseInsesitive&&!l.ci)));m=k;for(n in m)m[yt](n)&&(l=m[n],zt!==e(l)||l.type?l.type&&(p=l.type=l.type[Ot](),"group"===p&&l.match?(i=e(l.match),At&i?(f=l.match[Ot](),"alternation"===f||"either"===f?(l.type="alternation",u(l,"match")):"sequence"===f||"all"===f?(l.type="sequence",u(l,"match")):"zeroorone"===f?(l.type="zeroOrOne",u(l,"match")):"zeroormore"===f?(l.type="zeroOrMore",u(l,"match")):"oneormore"===f?(l.type="oneOrMore",u(l,"match")):(l.type="sequence",u(l,"match"))):Pt&i&&(l.type="repeat",l.repeat=l.match,u(l,"match"))):"either"===p?l.type="alternation":"all"===p?l.type="sequence":"lookahead"===p?l.type="positiveLookahead":"grammar"===p&&(l.type="subgrammar"),"subgrammar"!==l.type||l.tokens||(l.tokens=n)):l.ngram||l["n-gram"]?(l.type="ngram",l.tokens=l.ngram||l["n-gram"],l["n-gram"]?u(l,"n-gram"):u(l,"ngram")):l.sequence||l.all?(l.type="sequence",l.tokens=l.sequence||l.all,l.all?u(l,"all"):u(l,"sequence")):l.alternation||l.either?(l.type="alternation",l.tokens=l.alternation||l.either,l.either?u(l,"either"):u(l,"alternation")):l.zeroOrOne?(l.type="zeroOrOne",l.tokens=l.zeroOrOne,u(l,"zeroOrOne")):l.zeroOrMore?(l.type="zeroOrMore",l.tokens=l.zeroOrMore,u(l,"zeroOrMore")):l.oneOrMore?(l.type="oneOrMore",l.tokens=l.oneOrMore,u(l,"oneOrMore")):l.positiveLookahead||l.lookahead?(l.type="positiveLookahead",l.tokens=l.positiveLookahead||l.lookahead,l.lookahead?u(l,"lookahead"):u(l,"positiveLookahead")):l.negativeLookahead?(l.type="negativeLookahead",l.tokens=l.negativeLookahead,u(l,"negativeLookahead")):(l.subgrammar||l.grammar)&&(l.type="subgrammar",l.tokens=l.subgrammar||l.grammar,l.subgrammar?u(l,"subgrammar"):u(l,"grammar")));return t}function O(e,t){t=t||[];var n,r;for(n=e.ctx;n;){for(r=n.val.symb;r;)r.val[1][7]&&t.push({word:r.val[1][5],meta:(r.val[1][6]||"")+" at ("+(r.val[1][0]+1)+","+(r.val[1][1]+1)+")",ci:r.val[1][8],token:r.val[1][6],pos:[r.val[1][0]+1,r.val[1][1]+1,r.val[1][2]+1,r.val[1][3]+1]}),r=r.prev;n=n.prev}for(n=e.hctx;n;){for(r=n.val.symb;r;)r.val[1][7]&&t.push({word:r.val[1][5],meta:(r.val[1][6]||"")+" at ("+(r.val[1][0]+1)+","+(r.val[1][1]+1)+")",ci:r.val[1][8],token:r.val[1][6],pos:[r.val[1][0]+1,r.val[1][1]+1,r.val[1][2]+1,r.val[1][3]+1]}),r=r.prev;n=n.prev}for(r=e.symb;r;)r.val[1][7]&&t.push({word:r.val[1][5],meta:(r.val[1][6]||"")+" at ("+(r.val[1][0]+1)+","+(r.val[1][1]+1)+")",ci:r.val[1][8],token:r.val[1][6],pos:[r.val[1][0]+1,r.val[1][1]+1,r.val[1][2]+1,r.val[1][3]+1]}),r=r.prev;return t}function S(t,n,r,o){if(r=r||{},n=n||[],!t||!t.length)return n;var a,l,i,s,c,u,p;for(a=0,l=t.length;l>a;a++)if(c=t[a])if(Ke===c.type){if(o&&o.length&&c.name)for(i=o.length-1;i>=0;i--)o[i].token&&(c.name===o[i].token||c.name.length>o[i].token.length&&c.name.slice(0,o[i].token.length)===o[i].token||c.name.length<o[i].token.length&&c.name===o[i].token.slice(0,c.name.length))&&(o[i].meta=c.name+" at ("+o[i].pos[0]+","+o[i].pos[1]+")",n.push(o[i]),o.splice(i,1));if(c.autocompletions)for(i=0,s=c.autocompletions.length;s>i;i++)p=c.autocompletions[i],r[yt]("w_"+p.word)||(n.push(p),r["w_"+p.word]=1);else At===c.token.ptype&&At&e(c.token.pattern)&&c.token.pattern.length>1&&(r[yt]("w_"+c.token.pattern)||(n.push({word:""+c.token.pattern,meta:c.name,ci:!!c.ci}),r["w_"+c.token.pattern]=1))}else if(Ze===c.type)S(c.token,n,r,o);else if(st&c.type){i=0,s=c.token.length;do S([u=c.token[i++]],n,r,o);while(s>i&&(Xe&u.type&&1>u.min||ze===u.type))}else Xe&c.type&&S([c.token[0]],n,r,o);return n}function E(t,n,r,o){for(var a;At&e(a=n[t]||r[t]);)t=a;return o?t:n[t]||r[t]||t}function L(e,t){return e.length>1?r(t?function(t,n){var r=n[n.length-1],o=e[t];r===o||n.push(o)}:function(t,n){var r=n[n.length-1],o=e[t];ln.test(o)&&ln.test(r)&&r===o||n.push(o)},1,e.length-1,[e[0]]):e}function D(n,r,a){var l,i,s,c,u,p,f,m,h,v,$,y,x,b,w,_=!1;if(w=n.modifier?n.modifier:null,m=new String(Zt(n)),m.pos=0,1===m.length)y=""+n,r[y]||a[y]||(r[y]={type:"simple",tokens:n}),n=y;else{for(l=[],i=[],s="",x=[];m.pos<m.length;)if(h=m[St](m.pos++),rn.test(h))if(s.length&&(_?(i.length&&($=i[i.length-1],y=$+"."+s,p=r[y]||a[y],p||(f=E($,r,a),a[y]=At&e(f)?new String(f):o(f),a[y].modifier=s),i[i.length-1]=y),_=!1):"0"===s?(r[kt]||(r[kt]={type:"simple",tokens:0}),i.push(kt)):"^^"===s?(r[pt]||(r[pt]={type:"simple",tokens:Ue}),i.push(pt)):"^^1"===s?(r[ft]||(r[ft]={type:"simple",tokens:Be}),i.push(ft)):"^"===s?(r[mt]||(r[mt]={type:"simple",tokens:Ge}),i.push(mt)):"$"===s?(r[ht]||(r[ht]={type:"simple",tokens:We}),i.push(ht)):(r[s]||a[s]||(r[s]={type:"simple",tokens:s}),i.push(s)),s=""),"."===h)i.length&&m.pos<m.length&&!rn.test(m[St](m.pos))?_=!0:s+=h;else if('"'===h||"'"===h)c=g(m,h,"\\",1),c.length?(y=""+c,r[y]||(r[y]={type:"simple",tokens:c}),i.push(y)):(r[gt]||(r[gt]={type:"simple",tokens:""}),i.push(gt));else if("["===h)c=g(m,"]","\\",1),y="["+c+"]",r[y]||(r[y]={type:"simple",tokens:k("^(["+("^"===c[St](0)?"^"+d(c.slice(1)):d(c))+"])")}),i.push(y);else{if("]"===h){s+=h;continue}if("/"===h)c=g(m,h,"\\",0),v="",c.length&&(m.pos<m.length&&"i"===m[St](m.pos)&&(m.pos++,v="i"),y="/"+c+"/"+v,r[y]||(r[y]={type:"simple",tokens:k("^("+c+")",{l:0,x:0,i:"i"===v})}),i.push(y));else if("*"===h||"+"===h||"?"===h)i.length?($=i[i.length-1],y=""+$+h,a[y]||(a[y]={type:"*"===h?"zeroOrMore":"+"===h?"oneOrMore":"zeroOrOne",tokens:[$]}),i[i.length-1]=y):s+=h;else if("{"===h)i.length?(u=g(m,"}",0),u=t(u.split(","),Zt),u[0].length?u[0]=parseInt(u[0],10)||0:u[0]=0,0>u[0]&&(u[0]=0),2>u.length?u.push(u[0]):u[1].length?u[1]=parseInt(u[1],10)||Et:u[1]=Et,0>u[1]&&(u[1]=0),$=i[i.length-1],y=""+$+["{",u[0],",",isFinite(u[1])?u[1]:"","}"].join(""),a[y]||(a[y]={type:"repeat",repeat:[u[0],u[1]],tokens:[$]}),i[i.length-1]=y):s+=h;else{if("}"===h){s+=h;continue}"&"===h||"!"===h?i.length?($=i[i.length-1],y=""+$+h,a[y]||(a[y]={type:"!"===h?"negativeLookahead":"positiveLookahead",tokens:[$]}),i[i.length-1]=y):s+=h:"|"===h?(_=!1,i=L(i),i.length>1?(y=""+i.join(" "),a[y]||(a[y]={type:"sequence",tokens:i}),l.push(y)):i.length?l.push(i[0]):s+=h,i=[]):"("===h?(x.push([i,l,s]),i=[],l=[],s=""):")"===h&&(i=L(i),i.length>1?(y=""+i.join(" "),a[y]||(a[y]={type:"sequence",tokens:i}),l.push(y)):i.length&&l.push(i[0]),i=[],l=L(l,1),l.length>1?(y=""+l.join(" | "),a[y]||(a[y]={type:"alternation",tokens:l})):l.length&&(y=l[0]),l=[],b=x.pop(),i=b[0],l=b[1],s=b[2],$=y,y="("+$+")",a[y]||(a[y]=o(E($,r,a))),i.push(y))}}else s+=h;s.length&&(_?(i.length&&($=i[i.length-1],y=$+"."+s,p=r[y]||a[y],p||(f=E($,r,a),a[y]=At&e(f)?new String(f):o(f),a[y].modifier=s),i[i.length-1]=y),_=!1):"0"===s?(r[kt]||(r[kt]={type:"simple",tokens:0}),i.push(kt)):"^^"===s?(r[pt]||(r[pt]={type:"simple",tokens:Ue}),i.push(pt)):"^^1"===s?(r[ft]||(r[ft]={type:"simple",tokens:Be}),i.push(ft)):"^"===s?(r[mt]||(r[mt]={type:"simple",tokens:Ge}),i.push(mt)):"$"===s?(r[ht]||(r[ht]={type:"simple",tokens:We}),i.push(ht)):(r[s]||a[s]||(r[s]={type:"simple",tokens:s}),i.push(s))),s="",i=L(i),i.length>1?(y=""+i.join(" "),a[y]||(a[y]={type:"sequence",tokens:i}),l.push(y)):i.length&&l.push(i[0]),i=[],l=L(l,1),l.length>1?(y=""+l.join(" | "),a[y]||(a[y]={type:"alternation",tokens:l}),n=y):l.length&&(n=l[0]),l=[]}return w&&(r[n]||a[n])&&((r[n]||a[n]).modifier=w),n}function T(o,a,l,c,u,p,f,m,h,d,k){var g,v,$,y,x,q,O,S=null,L=null,j=null;if(Ue===o||Be===o||Ge===o||We===o)return new I(o,Ue===o?pt:Be===o?$T_FBNL$:Ge===o?mt:ht,o,L);if(!1===o||0===o)return new I(Ye,kt,0,L);if(""===o)return new I(He,gt,"",L);if(null===o)return new I(Ke,dt,Tt,L,j);if(Pt&e(o)&&($=o,o="NGRAM_"+$.join("_"),c[o]||(c[o]={type:"ngram",tokens:$})),o=""+o,m[o])return m[o];if(x=E(o,l,c),At&e(x)&&(x=D(x,l,c),x=l[x]||c[x]||null),!x)return null;if(g=x.type?ut[x.type[Ot]().replace(en,"")]||Ke:Ke,L=x.msg||null,j=x.modifier||null,v=x.tokens,Ke&g){if(Ue===v||Be===v||Ge===v||We===v||!1===v||0===v)return S=new I(v||Ye,o,v||0,L),m[o]=S,S;if(""===v)return S=new I(He,o,"",L),m[o]=S,S;if(null===v)return S=new I(Ke,o,Tt,L,j),m[o]=S,S;if(!v)return null}if(ze&g)x[yt]("action")?"nop"===x.action[0]?x.action[0]=we:"error"===x.action[0]?x.action[0]=_e:"context-start"===x.action[0]?x.action[0]=Le:"context-end"===x.action[0]?x.action[0]=De:"hypercontext-start"===x.action[0]?x.action[0]=Te:"hypercontext-end"===x.action[0]?x.action[0]=je:"push"===x.action[0]?x.action[0]=Re:"pop"===x.action[0]?x.action[0]=Ce:"define"===x.action[0]?x.action[0]=Me:"undefine"===x.action[0]?x.action[0]=qe:"defined"===x.action[0]?x.action[0]=Oe:"notdefined"===x.action[0]?x.action[0]=Se:"unique"===x.action[0]?x.action[0]=Ee:"indent"===x.action[0]?x.action[0]=Fe:"outdent"===x.action[0]&&(x.action[0]=Ae):x[yt]("nop")?x.action=[we,x.nop,!!x["in-context"],!!x["in-hypercontext"],!1]:x[yt]("error")?x.action=[_e,x.error,!1,!1,!1]:x[yt]("context")?x.action=[x.context?Le:De,x.context,!1,!1,!1]:x[yt]("hypercontext")?x.action=[x.hypercontext?Te:je,x.hypercontext,!1,!1,!1]:x[yt]("context-start")?x.action=[Le,x["context-start"],!1,!1,!1]:x[yt]("context-end")?x.action=[De,x["context-end"],!1,!1,!1]:x[yt]("hypercontext-start")?x.action=[Te,x["hypcontext-start"],!1,!1,!1]:x[yt]("hypercontext-end")?x.action=[je,x["hypcontext-end"],!1,!1,!1]:x[yt]("push")?x.action=[Re,x.push,!!x["in-context"],!!x["in-hypercontext"],x.autocomplete]:x[yt]("pop")?x.action=[Ce,x.pop,!!x["in-context"],!!x["in-hypercontext"],!1]:x[yt]("define")?x.action=[Me,At&e(x.define)?["*",x.define]:x.define,!!x["in-context"],!!x["in-hypercontext"],x.autocomplete]:x[yt]("undefine")?x.action=[qe,At&e(x.undefine)?["*",x.undefine]:x.undefine,!!x["in-context"],!!x["in-hypercontext"],x.autocomplete]:x[yt]("defined")?x.action=[Oe,At&e(x.defined)?["*",x.defined]:x.defined,!!x["in-context"],!!x["in-hypercontext"],!1]:x[yt]("notdefined")?x.action=[Se,At&e(x.notdefined)?["*",x.notdefined]:x.notdefined,!!x["in-context"],!!x["in-hypercontext"],!1]:x[yt]("unique")?x.action=[Ee,At&e(x.unique)?["*",x.unique]:x.unique,!!x["in-context"],!!x["in-hypercontext"],x.autocomplete]:x[yt]("indent")?x.action=[Fe,x.indent,!!x["in-context"],!!x["in-hypercontext"],!1]:x[yt]("outdent")&&(x.action=[Ae,x.outdent,!!x["in-context"],!!x["in-hypercontext"],!1]),!1===x.msg&&(L=!1),x.nop&&(x.action[0]=we),S=new I(ze,o,x.action.slice(),L,j),S.ci=!!x.caseInsensitive||x.ci,m[o]=S;else if(v=i(v),Ke&g){O=x.autocomplete?M(x,Yt&e(x.autocomplete)?i(x.autocomplete):v,o,k):null;var R={};if(q="undefined"!=typeof x.combine?x.combine:!!(Pt&e(x.tokens)),S=new I(Ke,o,b(o,v.slice(),a,q,!(!x.caseInsensitive&&!x.ci),p,f,R),L,j,null,O),R.keywords&&(S.keywords=R.keywords.join("|")),m[o]=S,null!=x.except){var C,F,A=i(x.except),N=A.length,P=[];for(C=0;N>C;C++)A[C]&&(F=T(A[C],a,l,c,u,p,f,m,h,d,k),F&&P.push(F));P.length&&(S.except=P)}}else Qe&g?(Ve===g&&_(x,d),S=new I(g,o,w(o,v.slice(),a,p,f),L),S.empty=x[yt]("empty")?!!x.empty:!0,S.mline=x[yt]("multiline")?!!x.multiline:!0,S.esc=x[yt]("escape")?x.escape:!1,S.inter=!!u[o+".inside"],Ve===g&&x.interleave&&h.push(z(S)),j&&(S.modifier=j),m[o]=S):ct&g&&(it===g?m[o]=new I(it,o,v,L,j):lt===g?(y=s(v),S=t(y,function(e,t){return new I(lt,o+"_NGRAM_"+t,null,L,j)}),m[o]=S,r(function(e){S[e].token=i(n(y[e],function(e,t){return e.concat(T(t,a,l,c,u,p,f,m,h,d,k))},[]))},0,y.length-1)):(ot===g||at===g?S=new I(g,o,null,L,j):Xe&g&&Pt&e(x.repeat)?(S=new I(Xe,o,null,L,j),S.min=x.repeat[0],S.max=x.repeat[1]):et===g?(S=new I(et,o,null,L,j),S.min=0,S.max=1):tt===g?(S=new I(tt,o,null,L,j),S.min=0,S.max=Et):nt===g?(S=new I(nt,o,null,L,j),S.min=1,S.max=Et):S=Ze===g?new I(Ze,o,null,L,j):new I(Je,o,null,L,j),m[o]=S,S.token=i(n(v,function(e,t){return e.concat(T(t,a,l,c,u,p,f,m,h,d,k))},[]))));return m[o]}function j(e,t){var n,r,o=e.Style,a=e.Lex,l=e.Syntax,i=[],s={};for(n in o)o[yt](n)&&(r=a[n]||l[n],!r||"block"!=r.type&&"comment"!==r.type||(t&&(o[n+".inside"]||o[n])?(n=o[n+".inside"]||o[n],s[yt](n)||(i.push(n),s[n]=1)):t||s[yt](n)||(i.push(n),s[n]=1)));return i}function R(t){var n={};return t.Lex=t.Lex||{},t.Syntax=t.Syntax||{},t=q(t),t.Parser&&t.Parser.length&&r(function o(a,l){var i,s,c,u=l[a];n[u]||(Pt&e(u)&&(i=u,u="NGRAM_"+i.join("_"),t.Syntax[u]||(t.Syntax[u]={type:"ngram",tokens:i})),s=E(u,t.Lex,t.Syntax),At&e(s)&&(s=D(s,t.Lex,t.Syntax),s=t.Lex[s]||t.Syntax[s]||null),s&&(n[u]=s,c=s.type?ut[s.type[Ot]().replace(en,"")]||Ke:Ke,ct&c&&r(o,0,s.tokens.length-1,s.tokens)))},0,t.Parser.length-1,t.Parser),t}function C(t){var r,a,l,i,s,c,u,p,f,m,h,d,k,g;return t.__parsed?t:(r=t.RegExpID||null,l=t.Extra?o(t.Extra):{},i=t.Style?o(t.Style):{},s=null,c=null,u=t.Lex?o(t.Lex):{},p=t.Syntax?o(t.Syntax):{},f={},m={},h={},k={},g={},d=[],a=t.Parser?o(t.Parser):[],t=q({Style:i,Fold:s,Match:c,Lex:u,Syntax:p,$parser:null,$interleaved:null,$comments:null,$autocomplete:null,$extra:l,__parsed:0}),t.$parser=n(a,function(t,n){var o=T(n,r,u,p,i,f,m,h,d,k,g)||null;return o&&(Pt&e(o)?t=t.concat(o):t.push(o)),t},[]),t.$interleaved=d&&d.length?d:null,t.$comments=k,t.$autocomplete=g&&g.autocomplete&&g.autocomplete.length?g.autocomplete:null,t.__parsed=1,t)}function F(t,n,r,o,a){var l,i,s=this;l=s.type=t,s.name=n,s.pattern=r,i=s.ptype=o||At,s.key=a||0,Ie===l?s.key=!1!==a:Pe===l?s.pattern[0]=new F(Ie,n+"_Start",r[0],null,!1):Tt===i?s.pattern=null:Bt===i&&(s.pattern=Bt&e(r)?[r,0]:[r[0],r[1]||0])}function A(t,n,r,o){var a,l,i,s,c,u,p,f,m,h,d,k=t,g=k.type,y=k.pattern,x=k.key;if(Pe===g){if(a=k.name,i=y[0],s=y[1],u=A(i,n,r,o))return c=s[u[0]],f=e(c),m=i.pattern[u[0]].ptype,Bt===m&&Gt&f&&(c.regex_pattern?(p=v(c,u[1]),c=new F(Ne,a+"_End",$(p,c.regex_pattern,{}),Bt)):(p=jt&f?u[1][c+1]:v(c,u[1]),c=new F(Ne,a+"_End",p,p.length>1?At:Nt))),c}else if(Ie===g){for(h=0,d=y.length;d>h;h++)if(p=A(y[h],n,r,o))return x?[h,p[1]]:p}else{if(l=k.ptype,Tt===l)return!1!==r&&n.end(),[x,""];if(Bt===l){if(p=y[0].xflags.l?n.match(y[0]):n.slice(n.pos).match(y[0]),p&&0===p.index)return!1!==r&&n.mov(p[y[1]||0].length),[x,y[1]>0?p[y[1]]:p]}else if(It===l){if(!0===o){p=-1;var b,w;for(d=y.length-1;d>=0;d--)b=n.indexOf(y[St](d),n.pos),b>-1&&(-1===p||p>b)&&(p=b,w=y[St](d));if(p>-1)return!1!==r&&(n.pos=p+1),[x,w]}else if(p=n[St](n.pos)||null,p&&-1<y.indexOf(p))return!1!==r&&n.mov(1),[x,p]}else if(Nt===l){if(!0===o){if(p=n.indexOf(y,n.pos),p>-1)return!1!==r&&(n.pos=p+1),[x,y]}else if(p=n[St](n.pos)||null,y===p)return!1!==r&&n.mov(1),[x,p]}else if(At===l)if(d=y.length,!0===o){if(p=n.indexOf(y,n.pos),p>-1)return!1!==r&&(n.pos=p+d),[x,y]}else if(y===n.substr(n.pos,d))return!1!==r&&n.mov(d),[x,y]}return!1}function N(e,t){this.val=e||null,t?this.prev=t:this.prev=null}function I(e,t,n,r,o,a,l,i){var s=this;s.type=e,s.name=t,s.token=n,s.modifier=o||null,s.except=a||null,s.autocompletions=l||null,s.keywords=i||null,s.pos=null,s.msg=!1===r?!1:r||null,s.$msg=null,s.status=0,s.empty=!1,s.ci=!1,s.mline=!0,s.esc=!1,s.inter=!1,s.found=0,s.min=0,s.max=1,s.i0=0,s.$id=null}function P(){var e=this;e.T=0,e.id=null,e.type=null,e.match=null,e.str="",e.pos=null,e.block=null,e.space=null}function z(e,t,n,r){var o=new I(e.type,e.name,e.token,e.msg,e.modifier,e.except,e.autocompletions,e.keywords);return o.empty=e.empty,o.ci=e.ci,o.mline=e.mline,o.esc=e.esc,o.inter=e.inter,o.found=e.found,o.min=e.min,o.max=e.max,o.i0=e.i0,t&&(o.status|=ve),n&&(o.modifier=n),r&&(o.$id=r),o}function U(e){var t=e.name;return e.$msg?e.$msg:e.status&ve?'Token "'+t+'"'+(e.keywords?": "+e.keywords:"")+" Expected":'Syntax Error: "'+t+'"'}function B(e,t,n,r,o,a,l){e.status&ke&&e.err&&(e.err[""+t+"_"+n+"_"+r+"_"+o+"_"+(a?a.name:"ERROR")]=[t,n,r,o,l||U(a)])}function W(e,t){for(var n=null,r=null;e;){if(t===e.val[0])return r={node:e,nodePrev:e.prev,nodeNext:n,val:e.val[1]};n=e,e=e.prev}return r}function G(e,t,n){return new N([t,n],e)}function Y(e,t,n){if(e.stack===t)t=e.stack=new N(n,e.stack);else{for(var r=e.stack;r&&r.prev!==t;)r=r.prev;t=new N(n,t),r&&(r.prev=t)}return t}function H(e,t){if(null==e)return null;if(t){for(var n=new N(e.val),r=n,o=e;o.prev;)r.prev=new N(o.prev.val),o=o.prev,r=r.prev;return n}return e}function K(e,t,n,r){var o,a,l,i,s,c=1/0,u=null,p=1/0;if(a=t.pos,t.spc(),l=t.pos,o=e.stack,t.pos<t.length){for(s=0;o&&(i=o.val,i.$id===r.$id);){for(;!(ze===i.type||Q(i,t,e,n)||(t.pos=i.pos>t.pos?i.pos:t.pos+1,e.stack=o,t.pos>=t.length)););e.stack=o,t.pos<t.length&&c>t.pos?(c=t.pos,u=o,p=s):c===t.pos&&p>s&&(c=t.pos,u=o,p=s),t.pos=l,o=o.prev,s++}c<t.length?(t.pos=c,e.stack=u):(t.end(),e.stack=null)}return l>=a&&t.pos===l}function Q(e,t,n,r){if(!e)return!1;var o=e.type,a=ct&o?X:Qe&o?J:ze&o?V:Z;return a(e,t,n,r)}function V(t,n,r,o){var a,l,i,s,c,u,p,f,m,h,d,k,g,$,y,x,b,w,_=t,M=_.token||null,q=_.ci,O=_.name,S=!(r.status&ke);if(_.status=0,_.$msg=null,!M||!o||!o.pos)return!0;if(w=!!(Qe&o.T),we===M[0]||w&&!o.block)return!0;if(a=M[0],l=M[1],$=M[2],y=M[3],m=M[4],c=_.msg,w?(b=o.block.match||o.block.str,h=o.block.pos[0][0],d=o.block.pos[0][1],k=o.block.pos[0][2],g=o.block.pos[0][3]):(b=o.match||o.str,h=o.pos[0],d=o.pos[1],k=o.pos[2],g=o.pos[3]),De===a)r.ctx=r.ctx?r.ctx.prev:null;else if(Le===a)r.ctx=new N({symb:null,queu:null},r.ctx);else if(je===a)r.hctx=r.hctx?r.hctx.prev:null;else if(Te===a)r.hctx=new N({symb:null,queu:null},r.hctx);else if(Me===a)i=l[1],s=l[0],i=v(i,b,!0),q&&(i=i[Ot]()),s+="::"+i,f=y&&r.hctx?W(r.hctx.val.symb,s):$&&r.ctx?W(r.ctx.val.symb,s):r.symb?W(r.symb,s):null,f||(y&&r.hctx?r.hctx.val.symb=G(r.hctx.val.symb,s,[h,d,k,g,s,i,o.type,m,q]):$&&r.ctx?r.ctx.val.symb=G(r.ctx.val.symb,s,[h,d,k,g,s,i,o.type,m,q]):r.symb=G(r.symb,s,[h,d,k,g,s,i,o.type,m,q]));else if(qe===a){if(i=l[1],s=l[0],i=v(i,b,!0),q&&(i=i[Ot]()),s+="::"+i,y&&r.hctx)f=W(r.hctx.val.symb,s);else if($&&r.ctx)f=W(r.ctx.val.symb,s);else{if(!r.symb)return!0;f=W(r.symb,s)}f&&(f.nodeNext?f.nodeNext.prev=f.nodePrev:y&&r.hctx?r.hctx.val.symb=r.hctx.val.symb.prev:$&&r.ctx?r.ctx.val.symb=r.ctx.val.symb.prev:r.symb=r.symb.prev)}else if(Oe===a){if(i=l[1],s=l[0],i=v(i,b,!0),q&&(i=i[Ot]()),s+="::"+i,f=y&&r.hctx?W(r.hctx.val.symb,s):$&&r.ctx?W(r.ctx.val.symb,s):r.symb?W(r.symb,s):null,!f)return!1!==c&&(_.$msg=c?v(c,i,!0):'Undefined "'+i+'"',x=U(_),B(r,h,d,k,g,_,x),_.status|=$e),!1}else if(Se===a){if(i=l[1],s=l[0],i=v(i,b,!0),q&&(i=i[Ot]()),s+="::"+i,y&&r.hctx)f=W(r.hctx.val.symb,s);else if($&&r.ctx)f=W(r.ctx.val.symb,s);else{if(!r.symb)return!0;f=W(r.symb,s)}if(f)return!1!==c&&(_.$msg=c?v(c,i,!0):'Defined "'+i+'"',x=U(_),B(r,f.val[0],f.val[1],f.val[2],f.val[3],_,x),B(r,h,d,k,g,_,x),_.status|=$e),!1}if(S)return!0;if(_e===a)return!c&&At&e(l)&&(c=l),_.$msg=c?v(c,b,!0):'Error "'+O+'"',B(r,h,d,k,g,_,U(_)),_.status|=$e,!1;if(Ee===a){if(y){if(!r.hctx)return!0;p=r.hctx.val.symb}else if($){if(!r.ctx)return!0;p=r.ctx.val.symb}else p=r.symb;if(i=l[1],s=l[0],i=v(i,b,!0),q&&(i=i[Ot]()),s+="::"+i,f=W(p,s))return!1!==c&&(_.$msg=c?v(c,i,!0):'Duplicate "'+i+'"',x=U(_),B(r,f.val[0],f.val[1],f.val[2],f.val[3],_,x),B(r,h,d,k,g,_,x),_.status|=$e),!1;y?r.hctx.val.symb=G(r.hctx.val.symb,s,[h,d,k,g,s,i,o.type,m,q]):$?r.ctx.val.symb=G(r.ctx.val.symb,s,[h,d,k,g,s,i,o.type,m,q]):r.symb=G(r.symb,s,[h,d,k,g,s,i,o.type,m,q])}else if(Ce===a){if(y){if(!r.hctx)return!0;u=r.hctx.val.queu}else if($){if(!r.ctx)return!0;u=r.ctx.val.queu}else u=r.queu;if(l){if(l=v(l,b),q&&(l=l[Ot]()),!u||l!==u.val[0])return!1!==c&&(u?(_.$msg=c?v(c,[u.val[0],l],!0):'Mismatched "'+u.val[0]+'","'+l+'"',x=U(_),B(r,u.val[1],u.val[2],u.val[3],u.val[4],_,x),B(r,h,d,k,g,_,x),u=u.prev):(_.$msg=c?v(c,["",l],!0):'Missing matching "'+l+'"',x=U(_),B(r,h,d,k,g,_,x)),_.status|=$e),y?r.hctx&&(r.hctx.val.queu=u):$?r.ctx&&(r.ctx.val.queu=u):r.queu=u,!1;u=u?u.prev:null}else u=u?u.prev:null;y?r.hctx&&(r.hctx.val.queu=u):$?r.ctx&&(r.ctx.val.queu=u):r.queu=u}else if(Re===a&&l){if(y){if(!r.hctx)return!0;u=r.hctx.val.queu}else if($){if(!r.ctx)return!0;u=r.ctx.val.queu}else u=r.queu;l=v(l,b),q&&(l=l[Ot]()),_.$msg=c?v(c,l,!0):'Missing matching "'+l+'"',u=new N([l,h,d,k,g,U(_)],u),y?r.hctx&&(r.hctx.val.queu=u):$?r.ctx&&(r.ctx.val.queu=u):r.queu=u}return!0}function Z(e,t,n,r,o){var a,l,i=e,s=i.token,c=i.modifier,u=i.type,p=i.name,f=i.except,m=n.line,h=t.pos,d=null,k=!1;if(i.status&=xe,i.$msg=o?null:i.msg||null,i.pos=t.pos,f&&!o){l=te(n,t);for(var g=0,$=f.length;$>g;g++)if(a=f[g],i!==a&&Ke===a.type&&Z(a,t,n,r,1))return i.pos=a.pos,te(n,t,l),!1}if(Ue===u)k=0===n.line;else if(Be===u)k=n.bline+1===n.line;else if(Ge===u)k=t.sol();else if(We===u)t.spc(),t.eol()?k=p:(i.pos=t.pos,t.bck(h));else if(Ye===u)i.status=0,k=!0;else if(He===u){if(null==r.space||t.eol()?t.spc()&&!t.eol()?(i.pos=t.pos,t.bck(h),i.status&ve&&(i.status|=$e)):k=!0:i.status&ve&&(i.status|=$e),i.status&=ye,!0===k)return k}else Tt===s?(t.end(),k=c||p):(d=A(s,t))&&(d=d[1],k=c||p);return o?k:(!1!==k&&(r.T=u,r.id=p,r.type=k,r.str=t.sel(h,t.pos),r.match=d,r.pos=[m,h,m,t.pos]),!k&&i.status&&i.$msg&&(i.$msg=v(i.$msg,p,!0)),k)}function J(e,t,n,r){var o,a,l,i,s,c,u,p,f,m,h,d,k,g,$,y,x,b,w,_,M,q,O=e,S=O.name,E=O.type,L=O.modifier,D=O.token,T=O.mline,j=O.inter,R=j?S+".inside":S,C=O.esc,F=!!C,N="",I="",P="",U="",B=O.$id||S,W=n.outer,G=W&&W[2],H=W&&W[1];if(O.status&=xe,O.$msg=O.msg||null,O.pos=t.pos,_=n.line,M=t.pos,Ve===E&&(O.status&=ye),
$=O.status&ve,l=0,i=0,n.block&&n.block.name===S?(i=1,l=1,g=R,o=n.block.end,p=n.block.sp,m=n.block.ip,f=n.block.ep,N=n.block.s,I=n.block.i):!n.block&&(o=A(D,t))&&(i=1,g=S,x=t.pos,p=[_,M],m=[[_,x],[_,x]],f=[_,x],N=t.sel(M,x),I="",U="",n.block={name:S,end:o,sp:p,ip:m,ep:f,s:N,i:I,e:U}),i){if(w=n.stack,a=Tt===o.ptype,y=a||O.empty,j){if(a&&l&&t.sol())return O.status&=ye,n.block=null,!1;if(!l)return x=t.pos,r.T=E,r.id=S,r.type=L||g,r.str=t.sel(M,x),r.match=null,r.pos=[_,M,_,x],Y(n,w,z(O,$,0,B)),L||g}if(x=t.pos,s=H?a&&t.eol():A(o,t),u=T,c=0,s)g=a?R:S,U=t.sel(x,t.pos);else if(b=t.pos,d=!1,H||F||It!==o.ptype&&Nt!==o.ptype&&At!==o.ptype){for(;!t.eol();){if(H){if(Q(H,t,G,r)){if(t.pos>b){a&&(s=1);break}return!0}if(a){k=t.nxt(1),P+=k;continue}}if(x=t.pos,!d&&A(o,t)){j&&t.pos>x&&x>b?(g=R,t.bck(x),c=1):(g=S,s=1),U=t.sel(x,t.pos);break}k=t.nxt(1),P+=k,d=F&&!d&&C===k,x=t.pos}a&&t.eol()&&(s=1)}else(q=A(o,t,!0,!0))?j&&t.pos>x+q[1].length?(g=R,t.mov(-q[1].length),c=1,P=t.sel(x,t.pos)):(g=S,s=1,P=t.sel(x,t.pos-q[1].length),U=q[1]):(t.end(),g=R,c=1,P=t.sel(x,t.pos));return u=T||F&&d,I+=P,m[1]=[_,x],f=[_,t.pos],s&&!y&&m[0][0]===m[1][0]&&m[0][1]===m[1][1]?(n.block=null,!1):(s||!u&&!c?n.block=null:(n.block.ip=m,n.block.ep=f,n.block.i=I,n.block.e=U,Y(n,w,z(O,$,0,B))),r.T=E,r.id=S,r.type=L||g,r.str=t.sel(M,t.pos),r.match=null,r.pos=[_,M,f[0],f[1]],O.pos=t.pos,n.block||(h=N+I+U,r.block={str:h,match:[h,I,N,U],part:[h,N,I,U],pos:[[p[0],p[1],f[0],f[1]],[p[0],p[1],m[0][0],m[0][1]],[m[0][0],m[0][1],m[1][0],m[1][1]],[m[1][0],m[1][1],f[0],f[1]]]}),L||g)}return O.status&&O.$msg&&(O.$msg=v(O.$msg,S,!0)),!1}function X(e,t,n,r){var o,a,l,i,s,c,u,f,m,h,d,k,g,v,$,y=e,x=y.type,b=(y.name,y.token),w=b.length,_=y.modifier;if(y.status&=xe,y.$msg=y.msg||null,f=t.pos,m=n.stack,y.pos=t.pos,c=0,u=0,it===x){y.status&=xe;var M=new String(b[0]),q=n.stack?n.stack.val:null;return M.subgrammar=1,M.next=q?new I(ot,q.name,[q]):null,M.required=q?q.status&ve:0,M}if(Ze===x){for(g=p(),y.status|=ve,k=[],$=te(n,t),d=0,h=d;w>h;h++){if(o=z(b[h],1,_,g),a=Q(o,t,n,r),y.pos=o.pos,o.status&ve&&(c++,k.push(U(o))),!1!==a)return a;o.status&$e&&(u++,te(n,t,$))}return c>0?y.status|=ve:y.status&=ye,w===u&&c>0?y.status|=$e:y.status&=xe,y.status&&!y.$msg&&k.length&&(y.$msg=k.join(" | ")),!1}if(st&x){v=!!(x&Je),g=y.$id||p(),v?y.status|=ve:y.status&=ye,$=te(n,t),d=0;do o=z(b[d++],v,_,g),a=Q(o,t,n,r);while(w>d&&(!0===a&&rt&o.type||!1===a&&!(o.status&ve)));if(y.pos=o.pos,!1!==a){if(!0!==a||Ye!==o.type)for(h=w-1;h>=d;h--)m=Y(n,m,z(b[h],1,_,g));return a.subgrammar&&w>d&&(a.next=new I(ot,b[d].name,[b[d]]),a.required=b[d].status&ve),a}return o.status&$e?(v?y.status|=$e:y.status&=xe,te(n,t,$)):v&&o.status&ve&&(y.status|=$e),y.status&&!y.$msg&&(y.$msg=U(o)),!1}if(rt&x)return it&b[0].type?!0:($=te(n,t,null,!1),a=Q(z(b[0],0),t,n,r),te(n,t,$),at===x?!1===a:!1!==a);for(g=y.$id||p(),l=y.found,i=y.min,s=y.max,y.status=0,k=[],$=te(n,t),h=0;w>h;h++){if(o=z(b[h],1,_,g),a=Q(o,t,n,r),y.pos=o.pos,!1!==a){if(++l,s>=l)return y.found=l,Y(n,m,z(y,0,0,p())),y.found=0,a;break}o.status&ve&&(c++,k.push(U(o))),o.status&$e&&te(n,t,$)}return i>l&&(y.status|=ve),(l>s||i>l&&c>0)&&(y.status|=$e),y.status&&!y.$msg&&k.length&&(y.$msg=k.join(" | ")),!1}function ee(e,t){var n=this;n.id=e?f("state"):"state",t instanceof ee?(n.line=t.line,n.bline=t.bline,n.status=t.status,n.stack=H(t.stack,!1),n.token=t.token,n.token2=t.token2,n.block=t.block,n.outer=t.outer?[t.outer[0],t.outer[1],new ee(e,t.outer[2])]:null,n.queu=t.queu||null,n.symb=t.symb||null,n.ctx=t.ctx?new N({symb:t.ctx.val.symb,queu:t.ctx.val.queu},t.ctx.prev):null,n.hctx=t.hctx?new N({symb:t.hctx.val.symb,queu:t.hctx.val.queu},t.hctx.prev):null,n.err=t.err||null,n.$eol$=t.$eol$,n.$blank$=t.$blank$):(n.line=-1,n.bline=-1,n.status=t||0,n.stack=null,n.token=null,n.token2=null,n.block=null,n.outer=null,n.queu=null,n.symb=null,n.ctx=null,n.hctx=null,n.err=n.status&ke?{}:null,n.$eol$=!0,n.$blank$=!0)}function te(e,t,n,r){return n?(e.status=n[0],e.block=n[1],e.outer=n[2],e.stack=n[3],t&&t.pos>n[4]&&t.bck(n[4]),void 0):(n=[e.status,e.block,e.outer,e.stack,t?t.pos:1/0],!1===r&&(e.status=0),n)}function ne(e){e.id=null,e.line=null,e.bline=null,e.status=null,e.stack=null,e.token=null,e.token2=null,e.block=null,e.outer=null,e.queu=null,e.symb=null,e.ctx=null,e.hctx=null,e.err=null}function re(e,t,n){var r=new String(e);return r.start=t||0,r.pos=n||0,r.sol=function(){return 0===r.pos},r.eol=function(){return r.pos>=r.length},r.end=function(){return r.pos=r.length,r},r.mov=function(e){return r.pos=0>e?Mt(0,r.pos+e):qt(r.length,r.pos+e),r},r.bck=function(e){return r.pos=Mt(0,e),r},r.sft=function(){return r.start=r.pos,r},r.nxt=function(e,t){var n,o,a="";if(!0===e){for(t=t||re.$NONSPC$;r.pos<r.length&&t.test(n=r[St](r.pos++));)a+=n;return a.length?a:null}for(e=e||1,o=0;o++<e&&r.pos<r.length;)a+=r[St](r.pos++);return a},r.cur=function(e){var t=r.slice(r.start,r.pos);return e&&(r.start=r.pos),t},r.sel=function(e,t){return r.slice(e,t)},r.spc=function(e,t){var n;return(n=r.slice(r.pos).match(t||re.$SPC$))?(!1!==e&&r.mov(n[0].length),n[0]):void 0},r}function oe(e,t,n,r,o){var a,l,i;for(null==t&&(t=e.search(re.$NONSPC$),-1==t&&(t=e.length)),a=r||0,l=o||0;;){if(i=e.indexOf("	",a),0>i||i>=t)return l+(t-a);l+=i-a,l+=n-l%n,a=i+1}}function ae(n,r){return Yt&e(n)&&(n=k("\\b("+t(i(n).sort(Jt),d).join("|")+")\\b")),!1===r?function(e){return!e||!n.test(e)}:function(e){return!!e&&n.test(e)}}function le(e,t,n,r,o,a){for(;;){n.lastIndex=e.col;var l=n.exec(e.text);if(!l){if(e.next()){e.text=e.line(e.row);continue}return}{if(t(e.token(e.row,l.index+1)))return e.col=l.index+l[0].length,l;e.col=l.index+1}}}function ie(e,t,n,r,o,a){for(var l,i,s;;){if(l=e.text.indexOf(o,e.col),-1===l){if(e.next()){e.text=e.line(e.row);continue}return}if(t(e.token(e.row,l+1)))return i=e.text.lastIndexOf(a,l),s=i>-1&&!re.$NOTEMPTY$.test(e.text.slice(i+1,l)),e.col=l+1,s?"autoclosed":"regular";e.col=l+1}}function se(e,t,n,r,o,a,l,i,s,c){if(-1===e){var u,p,f,m,h,d,k,g,v=1,$=t.first(),y=(a.length,l.length,!1===o);e:for(u=n;u>=$;--u)for(p=t.line(u),f=p.length,m=u===n?r-1:f;;){if(0>m)break;if(h=p.lastIndexOf(a,m),d=p.lastIndexOf(l,m),0>h&&0>d)break;if(m=Mt(h,d),y||c||t.token(u,m+1)==o)if(m===d)++v;else if(0===--v){k=u,g=m;break e}--m}return null==k||s&&k===n&&g===r?!1:[k,g,n,r]}var u,p,f,m,h,d,x,b,v=1,w=t.last(),y=(a.length,l.length,!1===o);e:for(u=n;w>=u;++u)for(p=t.line(u),f=p.length,m=u===n?r:0;;){if(m>=f)break;if(h=p.indexOf(a,m),d=p.indexOf(l,m),0>h&&0>d)break;if(0>h&&(h=f),0>d&&(d=f),m=qt(h,d),y||c||t.token(u,m+1)==o)if(m===h)++v;else if(0===--v){x=u,b=m;break e}++m}return null==x||s&&n===x&&b===r?!1:[n,r,x,b]}function ce(e){var t=e?e.data:null;t&&t.load&&t.ace_worker_base&&(importScripts(t.ace_worker_base),ace.define("ace/grammar_worker",["require","exports","module","ace/worker/mirror"],function(e,t,n){var r=e("./worker/mirror").Mirror;t.AceGrammarWorker=h(r,{constructor:function(e){var t=this;r.call(t,e),t.setTimeout(300)},$parser:null,init_parser:function(e,t){var n=this,r=Object.keys(e.subgrammars);if(n.$parser=new vn(C(e.grammar),null,!1),r&&r.length)for(var o=0,a=r.length;a>o;o++)n.$parser.subparser(r[o],new vn(C(e.subgrammars[r[o]]),null,!1));n.sender.callback(1,t)},onUpdate:function(){var e,t,n,r,o,a=this,l=a.sender,i=a.$parser;if(!i)return void l.emit("ace_grammar_worker_ok",null);if(e=a.doc.getValue(),!e||!e.length)return void l.emit("ace_grammar_worker_ok",null);if(t=i.parse(e,ke),!t)return void l.emit("ace_grammar_worker_ok",null);o=[];for(n in t)t[yt](n)&&(r=t[n],o.push({row:r[0],column:r[1],text:r[4]||"Syntax Error",type:"error",raw:r[4]||"Syntax Error",range:[r[0],r[1],r[2],r[3]]}));o.length?l.emit("ace_grammar_worker_error",o):l.emit("ace_grammar_worker_ok",null)}})}))}function ue(e,t){e[t]||(e[t]=[]);var n,r=e[t];if(r&&r.length)for(n=0;n<r.length;n++)e.removeMarker(r[n]);r.length=0}function pe(e,t,n,r){var o,a,l,i=t.length;for(ue(e,n),l=e[n],o=0;i>o;o++)a=t[o],a.range&&(l.push(e.addMarker(new r(a.range[0],a.range[1],a.range[2],a.range[3]),"ace_error-marker","text",0)),u(a,"range"))}function fe(e,t){ue(e,t),e.clearAnnotations()}function me(e,t,n,r){pe(e,t,n,r),e.setAnnotations(t)}function he(e,t,n){n=n||gn;var r=n.require("ace/range").Range,o=n.require("ace/worker/worker_client").WorkerClient,a=h(o,{constructor:function(e,t,r,o){var a=this,l=n.require,i=n.config;if(a.$sendDeltaQueue=a.$sendDeltaQueue.bind(a),a.changeListener=a.changeListener.bind(a),a.onMessage=a.onMessage.bind(a),l.nameToUrl&&!l.toUrl&&(l.toUrl=l.nameToUrl),!o)if(i.get("packaged")||!l.toUrl)o=o||i.moduleUrl(t,"worker");else{var s=a.$normalizePath;o=o||s(l.toUrl("ace/worker/worker.js",null,"_"));var c={};e.forEach(function(e){c[e]=s(l.toUrl(e,null,"_").replace(/(\.js)?(\?.*)?$/,""))})}try{a.$worker=new Worker(o)}catch(u){if(!(u instanceof window.DOMException))throw u;var p=a.$workerBlob(o),f=window.URL||window.webkitURL,m=f.createObjectURL(p);a.$worker=new Worker(m),f.revokeObjectURL(m)}a.$worker.postMessage({load:!0,ace_worker_base:hn.base+"/"+i.moduleUrl("ace/worker/json")+dn}),a.$worker.postMessage({init:!0,tlns:c,module:t,classname:r}),a.callbackId=1,a.callbacks={},a.$worker.onmessage=a.onMessage}}),l=n.require("ace/mode/folding/fold_mode").FoldMode,i=h(l,{constructor:function(e){var t=this;l.call(t),t.$mode=e,t.$folds={}},getFoldWidget:function(e,t,n){var r,o,a,l,i=this;return i.$mode.supportCodeFolding?(r=i.$folds,(o=i.$mode.folder(e,t,n))?r[o[0]]=r[o[2]]=o:(o=r[n])&&(n===o[0]?(delete r[n],o===r[o[2]]&&delete r[o[2]]):n===o[2]&&(a=o[0],(l=i.$mode.folder(e,t,a))?(r[l[0]]=r[l[2]]=l,o===r[a]&&delete r[a],o===r[n]&&delete r[n]):(o===r[a]&&delete r[a],o===r[n]&&delete r[n]))),o=r[n]?"markbeginend"===t?n===o[2]&&o[0]!==o[2]?"end":"start":n===o[0]?"start":"":""):""},getFoldWidgetRange:function(e,t,n,o){if(this.$mode.supportCodeFolding){var a=this.$folds[n];return a?new r(a[0],a[1],a[2],a[3]):void 0}}}),s=n.require("ace/mode/text").Mode,c=h(s,{constructor:function(e){var n=this;s.call(n),n.$id=f("ace_grammar_mode"),n.$grammar=e,n.$parser=new $n.Parser(C(e),t),n.$parser.Mode=n,n.$tokenizer=n.$parser,n.lineCommentStart=n.$parser.LC,n.blockComment=n.$parser.BC,n.$markers$=n.$id+"$markers$",n.foldType="fold_"+n.$id,n.foldingRules=new i(n),n.matchType="match_"+n.$id,n.matcher.clear=function(e){e.$bracketHighlight&&(e.removeMarker(e.$bracketHighlight),e.$bracketHighlight=null);var t=e[n.matchType];if(e[n.matchType]=null,t&&t.length)for(var r=0,o=t.length;o>r;r++)e.removeMarker(t[r])}},supportGrammarAnnotations:!1,createWorker:function(e){var t=this,n=t.$markers$;if(!t.supportGrammarAnnotations)return fe(e,n),null;var o=new a(["ace"],"ace/grammar_worker","AceGrammarWorker",hn.file+dn);return o.attachToDocument(e.getDocument()),o.call("init_parser",[{grammar:t.$grammar,subgrammars:t.getSubgrammars()}],function(){o.on("ace_grammar_worker_error",function(t){var o=t.data;me(e,o,n,r)}),o.on("ace_grammar_worker_ok",function(){fe(e,n)})}),o.on("terminate",function(){fe(e,n)}),o},supportAutoCompletion:!0,autocompleter:function u(e,t,r,o){var a=this;return a.supportAutoCompletion?e.parser.autocomplete(e.state,t,r,o,u.options||{},n):[]},getKeywords:function(e){return[]},supportCodeFolding:!0,folder:function(e,t,r){var o=this,a=e.getState(r),l=a&&a.parser||o.$parser,i=l.fold(e,r,n);return i?(i.start=!0,i.end=!1,i):void 0},supportCodeMatching:!0,matcher:function p(e,t){var o=this;return!1===t?(e.$highlightBrackets$&&(e.$highlightBrackets=e.$highlightBrackets$,e.$highlightBrackets$=null),o):(e.$highlightBrackets$||(e.$highlightBrackets$=e.$highlightBrackets),e.$highlightBrackets=function(){if(o.supportCodeMatching){var e=this;p.clear(e.session),e.$highlightPending||(e.$highlightPending=!0,setTimeout(function(){e.$highlightPending=!1;var t,a,l=e.getSelection();l.isBackwards()?(t=l.lead,a=l.anchor):(t=l.anchor,a=l.lead);var i=e.session.getTokenAt(a.row,a.column-1),s=i&&i.mode?i.mode.parser:o.$parser,c=s.match(e.session,a.row,a.column,n);null!=c&&(!1===c?l.isEmpty()?e.session[o.matchType]=[e.session.addMarker(new r(a.row,a.column-1,a.row,a.column),"ace_error-marker","text")]:e.session[o.matchType]=[e.session.addMarker(new r(t.row,t.column,a.row,a.column),"ace_error-marker","text")]:!1===c.match?e.session[o.matchType]=[e.session.addMarker(new r(c[0],c[1],c[2],c[3]),"ace_error-marker","text")]:e.session[o.matchType]=[e.session.addMarker(new r(c[0],c[1],c[2],c[3]),"ace_selection","text"),e.session.addMarker(new r(c[4],c[5],c[6],c[7]),"ace_selection","text")])},50))}},o)},getSubgrammars:function(){for(var e=this,t=e.$parser,n=Object.keys(t.$subgrammars),r={},o=0,a=n.length;a>o;o++)r[n[o]]=t.$subgrammars[n[o]].Mode.$grammar;return r},submode:function(e,t){var n=this;return n.$parser.subparser(e,t.$parser),n},dispose:function(){var e=this;e.$parser&&e.$parser.dispose(),e.$tokenizer=e.$parser=e.$grammar=e.autocompleter=e.getCompletions=e.foldingRules=e.folder=e.matcher=null}});return c.prototype.getCompletions=c.prototype.autocompleter,new c(e)}var de=1,ke=2,ge=32,ve=4,$e=8,ye=~ve,xe=~$e,be=ve|$e,we=0,_e=4,Me=8,qe=9,Oe=10,Se=11,Ee=12,Le=16,De=17,Te=18,je=19,Re=32,Ce=33,Fe=128,Ae=129,Ne=2,Ie=4,Pe=8,ze=4,Ue=8,Be=9,We=16,Ge=32,Ye=128,He=256,Ke=512,Qe=1024,Ve=1025,Ze=2048,Je=4096,Xe=8192,et=8193,tt=8194,nt=8195,rt=16384,ot=rt,at=16385,lt=32768,it=65536,st=Je|lt,ct=Ze|Je|Xe|rt|lt|it,ut={action:ze,simple:Ke,block:Qe,comment:Ve,subgrammar:it,alternation:Ze,sequence:Je,repeat:Xe,zeroorone:et,zeroormore:tt,oneormore:nt,positivelookahead:ot,negativelookahead:at,ngram:lt},pt="$|SOF|$",ft="$|NONBLANK|$",mt="$|SOL|$",ht="$|EOL|$",dt="$|ENDLINE|$",kt="$|EMPTY|$",gt="$|NONSPACE|$",vt=void 0,$t="prototype",yt="hasOwnProperty",xt="propertyIsEnumerable",bt=Object[$t],wt=bt.toString,_t=Object.create,Mt=Math.max,qt=Math.min,Ot="toLowerCase",St="charAt",Et=1/0,Lt=4,Dt=8,Tt=16,jt=32,Rt=33,Ct=34,Ft=64,At=128,Nt=129,It=130,Pt=256,zt=512,Ut=1024,Bt=2048,Wt=4096,Gt=At|jt,Yt=At|Pt,Ht=Bt|Pt,Kt=At|Pt|Bt,Qt={"[object Number]":jt,"[object String]":At,"[object Array]":Pt,"[object RegExp]":Bt,"[object Date]":Wt,"[object Function]":Ut,"[object Object]":zt},Vt=/^\s+|\s+$/g,Zt=String[$t].trim?function(e){return e.trim()}:function(e){return e.replace(Vt,"")},Jt=function(e,t){return t.length-e.length},Xt=/\r\n|\r|\n/g,en=/[\-_]/g,tn=0,nn=/([.*+?^${}()|[\]\/\\\-])/g,rn=/^([.!&\[\]{}()*+?\/|'"]|\s)/,on="(\\s|\\W|$)",an=/(l?i?l?)x(l?i?l?)$/,ln=/[*+]$/;ee.prototype.toString=function(){var e=this;return e.id+"_"+e.line+"_"+e.bline+"_"+(e.block?e.block.name:"0")},re.$SPC$=/^[\s\u00a0]+/,re.$NONSPC$=/[^\s\u00a0]/,re.$NOTEMPTY$=/\S/,re.$SPACE$=/^\s*/;var sn=h({constructor:function(e,t,n){var r=this;r.$grammar=e,r.$DEF=t||null,r.$ERR=n||null,r.DEF=r.$DEF,r.ERR=r.$ERR,r.$folders=[],r.$matchers=[],r.$subgrammars={}},$grammar:null,$subgrammars:null,$folders:null,$matchers:null,$n$:"name",$t$:"type",$v$:"token",$DEF:null,$ERR:null,DEF:null,ERR:null,dispose:function(){var e=this;return e.$grammar=e.$subgrammars=null,e.$folders=e.$matchers=null,e.$n$=e.$t$=e.$v$=null,e.$DEF=e.$ERR=e.DEF=e.ERR=null,e},token:function(e,t,n){if(t.token2){var r=t.token2[0];return e.pos=t.token2[1],e.sft(),t.token=t.token2[3],t.$eol$=e.eol(),t.$blank$=t.$blank$&&(t.token2[2]||t.$eol$),t.token2=null,r}var o,a,l,i,s,c,u,p,f,m,h,d,k,g,v,$,y,x,b=this,w=b.$grammar,_=w.Style,M=b.DEF,q=b.ERR,r={},O=b.$n$,S=b.$t$,E=b.$v$,L=w.$interleaved,D=w.$parser,T=D.length,j=L?L.length:0,R=t.outer,C=R&&R[2],F=R&&R[1];if(e.sol()&&(t.$eol$&&(t.$blank$&&(t.bline=t.line),t.$eol$=!1,t.line++),t.$blank$=t.bline+1===t.line),t.$actionerr$=!1,t.token=null,i=t.line,s=e.pos,m=!1,d=!0,h=!1,k=!1,R&&b===R[0]){if(r[O]=null,r[S]=M,r[E]=null,F){if(l=new P,Q(F,e,C,l))return t.outer=null,{parser:b,state:C};for(e.nxt(1);!e.eol();){if(Q(F,e,C,l)){if(e.pos>s)break;return t.outer=null,{parser:b,state:C}}e.nxt(1)}}else e.spc(),e.eol()?k=!0:e.end();return r[E]=e.cur(1),t.$eol$=e.eol(),t.$blank$=t.$blank$&&(k||t.$eol$),r}if(t.stack&&We===t.stack.val.type&&e.sol()&&(t.stack=t.stack.prev),(!t.stack||null==t.block)&&e.spc()){if(t.stack&&it===t.stack.val.type)return e.bck(s),o=t.stack.val,t.stack=t.stack.prev,m=Q(o,e,t,l),g=""+m,b.$subgrammars[g]?(v=b.$subgrammars[g],$=new ee(1,n[g]?n[g]:t.status),C=t):(v=b,$=new ee,C=t),$.outer=[b,m.next,C],{parser:v,state:$,toInner:g};d=!0,k=!0}if(r[O]=null,r[S]=M,r[E]=null,d)for(l=new P,k&&(l.space=[s,e.pos],e.sft()),c=0;d&&(t.stack||T>c)&&!e.eol();){if(p=e.pos,f=t.stack,F){if(e.spc(),Q(F,e,C,l))return l.space||e.pos>p?(l.space&&(e.start=l.space[0],e.pos=l.space[1]),r[E]=e.cur(1),t.$eol$=e.eol(),t.$blank$=t.$blank$&&!0,r):(t.outer=null,{parser:R[0],state:C,fromInner:t});e.bck(p)}if(y=!1,j&&!t.block)for(u=0;j>u;u++)if(o=L[u],m=Q(o,e,t,l),!1!==m){y=!0;break}if(d&&!y){if(!t.stack&&c>=T)break;t.stack?(o=t.stack.val,t.stack=t.stack.prev):o=D[c++],m=Q(o,e,t,l)}if(!1===m){if(o.status&be){t.token=o,k=K(t,e,l,o)||k,h=!0,d=!1;break}}else{if(m.subgrammar)return g=""+m,b.$subgrammars[g]?(v=b.$subgrammars[g],$=new ee(1,n[g]?n[g]:t.status),C=t):(v=b,$=new ee,C=t),$.outer=[b,m.next,C],l.space?(t.token2=[{parser:v,state:$,toInner:g},e.pos,k,t.token],t.token=null,e.start=l.space[0],e.pos=l.space[1],r[E]=e.cur(1),t.$eol$=e.eol(),t.$blank$=t.$blank$&&!0,r):{parser:v,state:$,toInner:g};if(t.stack&&t.stack.prev&&e.eol()&&Qe&t.stack.val.type&&t.block&&t.block.name===t.stack.val.name)for(u=t.stack.prev;u&&ze===u.val.type;)a=u,u=u.prev,x=V(a,e,t,l),a.status&$e?t.$actionerr$=!0:x&&!0!==m&&a.modifier&&(m=a.modifier);else if(t.stack&&ze===t.stack.val.type)for(;t.stack&&ze===t.stack.val.type;)a=t.stack.val,t.stack=t.stack.prev,x=V(a,e,t,l),a.status&$e?t.$actionerr$=!0:x&&!0!==m&&a.modifier&&(m=a.modifier);if(!0!==m){d=!1;break}}}return d&&(l.space?(e.start=l.space[0],e.pos=l.space[1],m=!1,l.space=null):e.nxt(1)),r[E]=e.cur(1),!1!==m?(m=m?_[m]||M:M,r[O]=o?o.name:null):h?(m=q,t.status&ke&&B(t,i,s,i,e.pos,o)):m=M,r[S]=m,l.space&&(t.token2=[r,e.pos,k,t.token],t.token=null,e.start=l.space[0],e.pos=l.space[1],r={},r[O]=null,r[S]=M,r[E]=e.cur(1),k=!0),t.$eol$=e.eol(),t.$blank$=t.$blank$&&(k||t.$eol$),r},get:function(e,t){for(var n=t.parser.token(e,t.state,t.inner);n&&n.parser;)n.fromInner&&t.parser!==n.parser&&(t.state.err=n.fromInner.err,t.name&&(t.inner[t.name]=n.fromInner)),n.state.err=t.state.err,n.state.line=t.state.line,n.state.bline=t.state.bline,n.state.$blank$=t.state.$blank$,n.state.$eol$=t.state.$eol$,n.state.$full_parse$=t.state.$full_parse$,t.state=n.state,t.parser=n.parser,t.name=n.toInner,n=t.parser.get(e,t);return n},tokenize:function(e,t,n,r){if(r=r||[],e.eol())t.state.line++,t.state.$blank$&&t.state.bline++;else for(;!e.eol();)r.push(t.parser.get(e,t));return r},parse:function(e,t){var n,o,a,l,i,s,c=(e||"").split(Xt),u=c.length,p=null;if(t=t||de,a=!!(t&ke),l=!!(t&de),o={parser:this,state:new ee(0,t),inner:{}},o.state.$full_parse$=!0,r(function(e){c[e]+="\n"},0,u-2),l?p=r(t&ge?function(e,t){o.parser.tokenize(re(c[e]),o,e,t)}:function(e,t){t.push(o.parser.tokenize(re(c[e]),o,e))},0,u-1,[]):r(function(e){var t=re(c[e]);if(t.eol())o.state.line++,o.state.$blank$&&o.state.bline++;else for(;!t.eol();)o.parser.get(t,o)},0,u-1),n=o.state,a&&n.queu)for(;n.queu;)i=n.queu.val,n.queu=n.queu.prev,B(n,i[1],i[2],i[3],i[4],null,i[5]);return s=l&&a?{tokens:p,errors:n.err}:l?p:n.err,ne(n),o=n=null,s},autocompletion:function(e,t,n){var r,o,a=e.stack,l={},i=n?O(e):null,s=S([e.token],[],l,i);for(t=t||0;a;){if(r=a.val,o=r.type,Xe&o){if(s=S([r],s,l,i),0<r.min&&t<s.length)break}else if((Ke===o||Ze===o||st&o)&&(s=S([r],s,l,i),t<s.length))break;a=a.prev}return i&&i.length?i.concat(s):s},subparser:function(e,t){var n=this;return!1===t?n.$subgrammars[yt](e)&&delete n.$subgrammars[e]:t&&(n.$subgrammars[e]=t),n},iterator:function(){},validate:function(){},autocomplete:function(){},indent:function(){},fold:function(){},match:function(){}}),cn={Pattern:function(e,t,n){return function(){}},Indented:function(e){return e=e||re.$NOTEMPTY$,function(t){var n,r,o,a,l,i,s,c,u,p=t.row;if(n=t.line(p),e.test(n)){for(r=t.indentation(n),i=null,l=n.length,c=p+1,u=t.last();u>=c;++c)if(o=t.line(c),a=t.indentation(o),a>r)i=c,s=o.length;else if(e.test(o))break;return i?[p,l,i,s]:void 0}}},Delimited:function(e,t,n,r){return e&&t&&e.length&&t.length?(n=n||l,function(o){var a,l,i,s,c,u,p=o.row,f=o.col;for(a=o.line(p),i=f,s=0;;){var c=0>=i?-1:a.lastIndexOf(e,i-1);if(-1!==c){if(1===s&&f>c)return;if(n(u=o.token(p,c+1))){l=c+e.length;break}i=c-1}else{if(1===s)return;s=1,i=a.length}}return se(1,o,p,l,u,e,t,n,!0,r)}):function(){}},MarkedUp:function(e,t,n,r,o){return e=e||l,t=t||"<",n=n||">",r=r||"/",o=o||k(d(t)+"("+d(r)+"?)([a-zA-Z_\\-][a-zA-Z0-9_\\-:]*)",{g:1}),function(a){a.col=0,a.min=a.first(),a.max=a.last(),a.text=a.line(a.row);for(var l,i,s,c,u,p,f,m,h,d=a.row;;){if(l=le(a,e,o,t,n,r),!l||a.row!==d||!(i=ie(a,e,o,t,n,r)))return;if(!l[1]&&"autoclosed"!==i)for(s=[a.row,a.col],u=l[2],c=null,p=[];;){if(f=le(a,e,o,t,n,r),d=a.row,m=a.col-(f?f[0].length:0),!f||!(i=ie(a,e,o,t,n,r)))return!1;if("autoclosed"!==i)if(f[1]){for(h=p.length-1;h>=0;--h)if(p[h]===f[2]){p.length=h;break}if(0>h&&(!u||u===f[2]))return[s[0],s[1],d,m]}else p.push(f[2])}}}}},un={Pattern:function(e,t,n){return function(){}},Delimited:function(e,t,n,r){return e&&t&&e.length&&t.length?(n=n||l,function(o){var a,l=o.col,i=o.row,s=o.line(i),c=!1,u=e.length,p=t.length;return l>=u&&(1===u&&e===s.charAt(l-1)||e===s.slice(l-u,l))?(a=se(1,o,i,l,c,e,t,n,!1,r),a?(a=[a[0],a[1]-u,a[0],a[1],a[2],a[3],a[2],a[3]+p],a.match="end"):(a=[i,l-u,i,l],a.match=!1),a):l>=p&&(1===p&&t===s.charAt(l-1)||t===s.slice(l-p,l))?(a=se(-1,o,i,l-p,c,e,t,n,!1,r),a?(a=[a[0],a[1],a[0],a[1]+u,a[2],a[3],a[2],a[3]+p],a.match="start"):(a=[i,l-p,i,l],a.match=!1),a):void 0}):function(){}},MarkedUp:function(e,t,n,r,o){return function(){}}},pn=!("undefined"==typeof global||"[object global]"!==wt.call(global)),fn=!(pn||"undefined"==typeof navigator),mn=!!(fn&&"function"==typeof importScripts&&navigator instanceof WorkerNavigator),hn=function(e,t,n){var r,o=null,a=null,l=null;return e?(o=__filename,a=__dirname,l=__dirname):n?(o=self.location.href,a=o.split("/").slice(0,-1).join("/")):t&&(l=document.location.href.split("#")[0].split("?")[0].split("/").slice(0,-1).join("/"),(r=document.getElementsByTagName("script"))&&r.length&&(o=r[r.length-1].src,a=o.split("/").slice(0,-1).join("/"))),{path:a,file:o,base:l}}(pn,fn,mn),dn="?nocache="+f("nonce")+"_"+~~(1e3*Math.random()),kn=function(){return(this.name||"")+"==>"+this.state.toString()},gn="undefined"!=typeof ace?ace:{require:function(){return{}},config:{}},vn=h(sn,{constructor:function yn(t,n,o){var a,i=this,s=null,c=null;if(sn.call(i,t,"text","invalid"),i.$v$="value",i.DEF=n||i.$DEF,i.ERR=t.Style.error||i.$ERR,i.LC=t.$comments.line||null,i.BC=t.$comments.block?{start:t.$comments.block[0][0],end:t.$comments.block[0][1]}:null,!1!==o){if(t.$comments.block&&t.$comments.block.length){a=yn.Type("comment");for(var u=0,p=t.$comments.block.length;p>u;u++)i.$folders.push(yn.Fold.Delimited(t.$comments.block[u][0],t.$comments.block[u][1],a,"comment"))}t.Fold&&At&e(t.Fold)?s=t.Fold[Ot]():t.$extra.fold&&(s=t.$extra.fold[Ot]()),c=t.Match&&At&e(t.Match)?t.Match[Ot]():t.$extra.match?t.$extra.match[Ot]():s;var f=j(t,1);a=f.length?yn.Type(f,!1):l,s&&(s=s.split("+"),r(function(e,t){var n,r=Zt(t[e]);"braces"===r?i.$folders.push(yn.Fold.Delimited("{","}",a)):"brackets"===r?i.$folders.push(yn.Fold.Delimited("[","]",a)):"parens"===r||"parentheses"===r?i.$folders.push(yn.Fold.Delimited("(",")",a)):"brace"===r||"cstyle"===r||"c"===r?(i.$folders.push(yn.Fold.Delimited("{","}",a)),i.$folders.push(yn.Fold.Delimited("[","]",a))):"indent"===r||"indentation"===r?i.$folders.push(yn.Fold.Indented()):"tags"===r||"markup"===r||"html"===r||"xml"===r?(i.$folders.push(yn.Fold.Delimited("<![CDATA[","]]>",yn.Type(["comment","tag"],!1))),i.$folders.push(yn.Fold.MarkedUp(yn.Type("tag"),"<",">","/"))):-1<(n=r.indexOf(","))&&i.$folders.push(yn.Fold.Delimited(r.slice(0,n),r.slice(n+1),a))},0,s.length-1,s)),c&&(c=c.split("+"),r(function(e,t){var n,r=Zt(t[e]);"braces"===r?i.$matchers.push(yn.Match.Delimited("{","}")):"brackets"===r?i.$matchers.push(yn.Match.Delimited("[","]")):"parens"===r||"parentheses"===r?i.$matchers.push(yn.Match.Delimited("(",")")):"brace"===r||"cstyle"===r||"c"===r?(i.$matchers.push(yn.Match.Delimited("{","}")),i.$matchers.push(yn.Match.Delimited("[","]")),i.$matchers.push(yn.Match.Delimited("(",")"))):"tags"===r||"markup"===r||"html"===r||"xml"===r?i.$matchers.push(yn.Match.MarkedUp(yn.Type("tag"),"<",">","/")):-1<(n=r.indexOf(","))&&i.$matchers.push(yn.Match.Delimited(r.slice(0,n),r.slice(n+1)))},0,c.length-1,c))}},LC:null,BC:null,dispose:function(){var e=this;return e.LC=e.BC=null,sn[$t].dispose.call(e)},tokenize:function(e,t,n,r){var o;if(r=r||[],e.eol())t.state.line++,t.state.$blank$&&t.state.bline++;else for(;!e.eol();)o=t.parser.get(e,t),o.mode=t,r.push(o);return r},getLineTokens:function(e,t,n){var r,o=this;return r=t?{parser:t.parser,state:new ee(1,t.state),inner:t.inner,name:t.name,toString:kn}:{parser:o,state:new ee(1),inner:{},name:null,toString:kn},{tokens:r.parser.tokenize(re(e),r,n),state:r}},autocomplete:function(e,t,r,o,a,l){a=a||{};var i=this,s=[],c=a[yt]("caseInsesitiveMatch")?!!a.caseInsesitiveMatch:!1,u=a[yt]("prefixMatch")?!!a.prefixMatch:!0,p=a[yt]("inContext")?!!a.inContext:!1,f=a[yt]("dynamic")?!!a.dynamic:!1;if(f||i.$grammar.$autocomplete){var m=o,h=m[Ot](),d=m.length,k=!1,g=1e3,v=function(e,t){var n,r,o,a,l,i,s,p=t.word,f=p.length;return d?f>=d&&(n=t.meta,r=!!p.ci,s=c||r,s?(l=p[Ot](),i=h):(l=p,i=m),(a=l.indexOf(i))>=0&&(!u||0===a)&&(o=s?p.indexOf(m):a,e.push({name:p,value:p,meta:n,score:1e3-10*(f-d)-5*(0>o?a+3:o)}))):e.push({name:p,value:p,meta:t.meta,score:k?1e3-10*f:g--}),e};f||p?(k=!1,s=n(i.autocompletion(e,null,f),v,s),!s.length&&i.$grammar.$autocomplete&&(k=!0,s=n(i.$grammar.$autocomplete,v,s))):(k=!0,s=n(i.$grammar.$autocomplete,v,s))}return s},iterator:function(e,t){var n=e.getTabSize();return{row:0,col:0,min:0,max:0,line:function(t){return e.getLine(t)},first:function(){return 0},last:function(){return e.getLength()-1},next:function(){var e=this;if(!(e.row>=e.max))return e.col=0,e.row++,!0},prev:function(){var e=this;if(!(e.row<=e.min))return e.col=0,e.row--,!0},indentation:function(e){return oe(e,null,n)},state:function(t,n){var r=e.getState(t);return r.state||r},token:function(t,n){return e.getTokenAt(t,n).type},tokens:function(t){return e.getTokens(t)}}},fold:function(e,t,n){var r,o,a,l=this,i=l.$folders,s=i.length;if(s)for(o=l.iterator(e,n),o.row=t,o.col=0,r=0;s>r;r++)if((a=i[r](o))||!1===a)return a},match:function(e,t,n,r){var o,a,l,i=this,s=i.$matchers,c=s.length;if(c)for(a=i.iterator(e,r),a.row=t,a.col=n||0,o=0;c>o;o++)if((l=s[o](a))||!1===l)return l}});vn.Type=ae,vn.Fold=cn,vn.Match=un,mn&&(onmessage=ce);var $n={VERSION:"4.2.0",clone:o,extend:a,pre_process:R,parse:C,getMode:he,Parser:vn};return $n});