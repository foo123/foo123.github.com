/**
*
*   AceGrammar
*   @version: 0.11
*
*   Transform a grammar specification in JSON format, into an ACE syntax-highlight parser mode
*   https://github.com/foo123/ace-grammar
*
**/!function(t,e,n){"use strict";var r,o="object"==typeof module&&module.exports,l="function"==typeof define&&define.amd;o?module.exports=(module.$deps=module.$deps||{})[e]=module.$deps[e]||n.call(t,{NODE:module})||1:l&&"function"==typeof require&&"function"==typeof require.specified&&require.specified(e)?define(e,["require","exports","module"],function(e,r,o){return n.call(t,{AMD:o})}):e in t||(t[e]=r=n.call(t,{})||1)&&l&&define(e,[],function(){return r})}(this,"AceGrammar",function(t){"use strict";function e(t){var e=this;e._=null,e.s=t?""+t:"",e.start=e.pos=0,e.lCP=e.lCV=0,e.lS=0}function n(t){this._=t||[]}function r(t,e){var r=this;r.id=e?Ne("state"):"state",r.l=t||0,r.stack=new n,r.data=new n,r.col=0,r.indent=0,r.t=null,r.inBlock=null,r.endBlock=null}function o(t,e,n,r){var l=this;switch(l.$class=o,l.mt=x,l.tt=t||le,l.tn=e,l.tk=r||0,l.tg=0,l.tp=null,l.p=null,l.np=null,l.tt){case le:case se:l.tp=n,l.get=se===l.tt?We:Ge;break;case oe:l.tp=n,l.p={},l.p[""+n.charAt(0)]=1,l.get=Ze;break;case ce:l.tp=n[0],l.p=n[1].peek||null,l.np=n[1].negativepeek||null,l.tg=n[2]||0,l.get=He;break;case pe:l.tp=null,l.get=Ye}}function l(t,e,n){var r=this;r.$class=l,r.mt=A,r.tn=t,r.ms=e,r.ownKey=!1!==n}function s(t,e,n){var r=this;r.$class=s,r.mt=O,r.tn=t,r.s=new l(r.tn+"_Start",e,!1),r.e=n}function i(t,e,n,r){var l=ve(e);if(ee===l)return e;if(!r[t]){n=n||0;var s,i=0;e&&e.isCharList&&(i=1,delete e.isCharList),s=pe&l?new o(pe,t,e,n):le===l?new o(le,t,e,n):oe&l?i?new o(se,t,e,n):new o(oe,t,e,n):ie&l?new o(ce,t,e,n):e,r[t]=s}return r[t]}function u(t,e,n,r,o,s){if(!s[t]){var a,c,f,p,h,g,m,k=0,d=0,v=1;if(a=we(e),f=a.length,1==f)m=i(t,Ie(a[0],n,o),0,s);else if(f>1){for(p=(f>>1)+1,c=0;p>=c;c++)h=ve(a[c]),g=ve(a[f-1-c]),(le!==h||le!==g)&&(v=0),ie&h||ie&g?k=1:(Be(a[c],n)||Be(a[f-1-c],n))&&(d=1);if(!v||r&&oe&ve(r))if(!r||k||d){for(c=0;f>c;c++)a[c]=ie&ve(a[c])?u(t+"_"+c,a[c],n,r,o,s):i(t+"_"+c,Ie(a[c],n,o),c,s);m=f>1?new l(t,a):a[0]}else m=i(t,Me(a,r),0,s);else a=a.slice().join(""),a.isCharList=1,m=i(t,a,0,s)}s[t]=m}return s[t]}function a(t,e,n,r,o){if(!o[t]){var l,u,a,c,f,p,h;for(c=[],f=[],l=Ce(e),u=0,a=l.length;a>u;u++)p=i(t+"_0_"+u,Ie(l[u][0],n,r),u,o),h=l[u].length>1?ce!==p.tt||oe!==ve(l[u][1])||Be(l[u][1],n)?i(t+"_1_"+u,Ie(l[u][1],n,r),u,o):l[u][1]:p,c.push(p),f.push(h);o[t]=new s(t,c,f)}return o[t]}function c(t,e,n){var r=this;r.$class=c,r.tt=t||L,r.id=e,r.tk=n,r.REQ=0,r.ERR=0,r.ACT=0,r.CLONE=["tk"]}function f(t,e,n,r,o,l){var s=this;s.$class=f,s.tt=t,s.id=e,s.tk=n,s.REQ=0,s.ERR=0,s.ACT=0,s.mline="undefined"==typeof r?1:r,s.esc=o||"\\",s.inter=l,s.CLONE=["tk","mline","esc","inter"]}function p(t,e,n,r,o){var l=this;l.$class=p,l.tt=t||Q,l.id=e||null,l.tk=null,l.ts=null,l.min=r||0,l.max=o||T,l.found=0,l.CLONE=["ts","min","max","found"],n&&l.set(n)}function h(t,e,n){p.call(this,t,e,n,1,1),this.$class=h}function g(t,e,n){p.call(this,t,e,n,1,1),this.$class=g}function m(t,e,n){p.call(this,t,e,n,1,1),this.$class=m}function k(t,e,n,r,o,l,s,i,E,R,w){var C,y,_,b,x,A,O,M,V,F,Z,H,Y,J,X,te,ee,ne,re,le,se,ue,ae=null;if(null===t)return new c(S,"EOL",t);if(""===t)return new c(D,"NONSPACE",t);if(!1===t||0===t)return new c(B,"EMPTY",t);if(ie&ve(t)&&(te=t,t="NGRAM_"+te.join("_"),r[t]||(r[t]={type:"ngram",tokens:te})),t=""+t,i[t])return i[t];if(n[t]?(C=n[t],me&ve(C)&&(C=n[t]={type:"simple",tokens:C})):C=r[t]?r[t]:t,oe&ve(C))if(te=C,1===te.length)C=n[te]={type:"simple",tokens:te};else if(re=te.split(" | ").map(Le),ue=re.length,ue>1){for(se=ue-1;se>=0;se--)le=re[se],le.length?n[le]||r[le]||(ee=le.charAt(le.length-1),ne=le.slice(0,-1),n[ne]||r[ne]?"*"===ee?r[le]={type:"group",match:"zeroOrMore",tokens:[ne]}:"+"===ee?r[le]={type:"group",match:"oneOrMore",tokens:[ne]}:"?"===ee?r[le]={type:"group",match:"zeroOrOne",tokens:[ne]}:n[le]||r[le]||(n[le]={type:"simple",tokens:le}):n[le]={type:"simple",tokens:le}):re[se]=!1;C=r[te]={type:"group",match:"either",tokens:re}}else ee=te.charAt(te.length-1),ne=te.slice(0,-1),n[ne]||r[ne]?"*"===ee?C=r[te]={type:"group",match:"zeroOrMore",tokens:[ne]}:"+"===ee?C=r[te]={type:"group",match:"oneOrMore",tokens:[ne]}:"?"===ee?C=r[te]={type:"group",match:"zeroOrOne",tokens:[ne]}:n[te]||r[te]||(C=n[te]={type:"simple",tokens:te}):C=n[te]={type:"simple",tokens:te};for(;C.extend;)J=C.extend,X=n[J]||r[J],delete C.extend,X&&((oe|ie)&ve(X)&&(X={type:"simple",tokens:X}),C=_e(X,C));if("undefined"==typeof C.type&&(C.either?(C.type="group",C.match="either",C.tokens=C.either,delete C.either):C.all||C.sequence?(C.type="group",C.match="all",C.tokens=C.all||C.sequence,C.all?delete C.all:delete C.sequence):C.zeroOrMore?(C.type="group",C.match="zeroOrMore",C.tokens=C.zeroOrMore,delete C.zeroOrMore):C.oneOrMore?(C.type="group",C.match="oneOrMore",C.tokens=C.oneOrMore,delete C.oneOrMore):C.zeroOrOne&&(C.type="group",C.match="zeroOrOne",C.tokens=C.zeroOrOne,delete C.zeroOrOne)),y=C.type?W[C.type.toUpperCase().replace(tn,"")]:L,L&y){if(""===C.tokens)return ae=new c(D,t,t),i[t]=ae,ae;if(null===C.tokens)return ae=new c(S,t,t),i[t]=ae,ae;if(!1===C.tokens||0===C.tokens)return ae=new c(B,t,t),i[t]=ae,ae}if(C.tokens=we(C.tokens),L&y)C.autocomplete&&v(C,t,w),b=null,C.push?b=[Je,C.push]:"undefined"!=typeof C.pop&&(b=[Xe,C.pop]),_="undefined"==typeof C.combine?"\\b":C.combine,ae=new c(L,t,u(t,C.tokens.slice(),e,_,l,s)),ae.ta=b,i[t]=ae;else if(I&y)$&y&&d(C,R),ae=new f(y,t,a(t,C.tokens.slice(),e,l,s),C.multiline,C.escape,o[t+".inside"]?1:0),i[t]=ae,C.interleave&&E.push(ae.clone());else if(q&y){for(A=C.tokens.slice(),ie&ve(C.match)?ae=new p(Q,t,null,C.match[0],C.match[1]):(x=G[C.match.toUpperCase()],ae=P===x?new p(P,t,null,0,1):z===x?new p(z,t,null,0,T):U===x?new p(U,t,null,1,T):j&x?new h(j,t,null):new g(N,t,null)),i[t]=ae,O=[],F=0,Z=A.length;Z>F;F++)O=O.concat(k(A[F],e,n,r,o,l,s,i,E,R,w));ae.set(O)}else if(K&y){for(ae=Ce(C.tokens.slice()).slice(),M=[],F=0,Z=ae.length;Z>F;F++)M[F]=ae[F].slice(),ae[F]=new m(K,t+"_NGRAM_"+F,null);for(i[t]=ae,F=0,Z=ae.length;Z>F;F++){for(V=M[F],O=[],H=0,Y=V.length;Y>H;H++)O=O.concat(k(V[H],e,n,r,o,l,s,i,E,R,w));ae[F].set(O)}}return i[t]}function d(t,e){var n,r,o,l,s,i=Ce(t.tokens.slice());for(l=0,s=i.length;s>l;l++)n=i[l][0],r=i[l].length>1?i[l][1]:i[l][0],o=i[l].length>2?i[l][2]:"",null===r?(e.line=e.line||[],e.line.push(n)):(e.block=e.block||[],e.block.push([n,r,o]))}function v(t,e,n){var r=[].concat(we(t.tokens)).map(function(t){return{word:t,meta:e}});n.autocomplete=(n.autocomplete||[]).concat(r)}function E(t){var e,n,r,o,l,s,i,u,a,c,f,p,h,g,m,d;if(t.__parsed)return t;for(f={},p={},h={},m={},d={},g=[],t=ye(t),e=t.RegExpID||null,t.RegExpID=null,delete t.RegExpID,s=t.Lex||{},t.Lex=null,delete t.Lex,i=t.Syntax||{},t.Syntax=null,delete t.Syntax,l=t.Style||{},o=t.Parser||[],r=o.length,n=[],u=0;r>u;u++)a=o[u],c=k(a,e,s,i,l,f,p,h,g,m,d)||null,c&&(ie&ve(c)?n=n.concat(c):n.push(c));return t.Parser=n,t.cTokens=g,t.Style=l,t.Comments=m,t.Keywords=d,t.Extra=t.Extra||{},t.__parsed=1,t}function R(t,e,n){var r=this,o=nn,l=rn;r.$sendDeltaQueue=r.$sendDeltaQueue.bind(r),r.changeListener=r.changeListener.bind(r),r.onMessage=r.onMessage.bind(r),o.nameToUrl&&!o.toUrl&&(o.toUrl=o.nameToUrl);var s;if(l.get("packaged")||!o.toUrl)s=l.moduleUrl(e,"worker");else{var i=r.$normalizePath;s=i(o.toUrl("ace/worker/worker.js",null,"_"));var u={};t.forEach(function(t){u[t]=i(o.toUrl(t,null,"_").replace(/(\.js)?(\?.*)?$/,""))})}r.$worker=new Worker(s),r.$worker.postMessage({load:!0,ace_worker_base:qe.base+"/"+rn.moduleUrl("ace/worker/json")}),r.$worker.postMessage({init:!0,tlns:u,module:e,classname:n}),r.callbackId=1,r.callbacks={},r.$worker.onmessage=r.onMessage}function w(t,e){var n,r=this;r.LC=t.Comments.line||null,r.BC=t.Comments.block?{start:t.Comments.block[0][0],end:t.Comments.block[0][1]}:null,r.LC&&(n=ie&ve(r.LC)?r.LC.map(Te).join("|"):Te(r.LC),r.rxLine=new RegExp("^(\\s*)(?:"+n+") ?")),r.BC&&(r.rxStart=new RegExp("^(\\s*)(?:"+Te(r.BC.start)+")"),r.rxEnd=new RegExp("(?:"+Te(r.BC.end)+")\\s*$")),r.DEF=e.DEFAULT,r.ERR=t.Style.error||e.ERROR,r.Keywords=t.Keywords.autocomplete||null,r.Tokens=t.Parser||[],r.cTokens=t.cTokens.length?t.cTokens:null,r.Style=t.Style}function C(){ace.define("ace/grammar_worker",["require","exports","module","ace/worker/mirror"],function(t,e){var n,r=t("./worker/mirror").Mirror;e.AceGrammarWorker=n=function(t){var e=this;r.call(e,t),e.setTimeout(500)},n[H]=Re(Ee(r[H]),{constructor:n,parser:null,Init:function(t,e){var n=this;n.parser=new w(E(t),{DEFAULT:_,ERROR:b}),n.sender.callback(1,e)},onUpdate:function(){var t,e,n,r,o,l,s,i,u,a=this,c=a.sender,f=a.parser,p=0;if(!f)return void c.emit("ok",null);if(t=a.doc.getValue(),!t||!t.length)return void c.emit("ok",null);for(r=[],e=f.parse(t),l=e.length,o=0;l>o;o++)if(n=e[o],n&&n.length)for(u=0,s=0;s<n.length;s++)i=n[s],f.ERR==i.type&&(r.push({row:o,column:u,text:i.error||"Syntax Error",type:"error",raw:i.error||"Syntax Error"}),p=1),u+=i.value.length;p?c.emit("error",r):c.emit("ok",null)}})})}function y(t,e){var n,r=ye(t),o=new w(E(t),{DEFAULT:e||_,ERROR:b});return n={getTokenizer:function(){return o},supportGrammarAnnotations:!1,createWorker:function(t){if(!n.supportGrammarAnnotations)return null;rn.setModuleUrl("ace/grammar_worker",qe.file);var e=new R(["ace"],"ace/grammar_worker","AceGrammarWorker");return e.attachToDocument(t.getDocument()),e.call("Init",[r],function(){e.on("error",function(e){t.setAnnotations(e.data)}),e.on("ok",function(){t.clearAnnotations()})}),e},transformAction:function(){},toggleCommentLines:function(t,e,n,r){return o.tCL(t,e,n,r)},toggleBlockComment:function(t,e,n,r){return o.tBC(t,e,n,r)},getNextLineIndent:function(t,e,n){return o.getNextLineIndent(t,e,n)},checkOutdent:function(){return!1},autoOutdent:function(){},getKeywords:function(){var t=o.Keywords;return t?t.map(function(t){var e=t.word,n=t.meta;return{name:e,value:e,score:1e3,meta:n}}):[]},getCompletions:function(t,e,n,r){var l=o.Keywords;if(!l)return[];var s=r.length;return l.map(function(t){var e=t.word,n=t.meta,o=e.length,l=o>=s&&r===e.substr(0,s);return{name:e,value:e,score:l?1e3-o:0,meta:n}})}}}var _,b,T=1/0,x=2,A=4,O=8,L=16,S=17,D=18,B=20,I=32,M=33,$=34,j=64,N=128,Q=256,P=257,z=258,U=259,q=512,K=1024,V=2048,F=4096,G={EITHER:j,ALL:N,ZEROORONE:P,ZEROORMORE:z,ONEORMORE:U,REPEATED:Q},W={INDENT:V,DEDENT:F,BLOCK:I,COMMENT:$,ESCAPEDBLOCK:M,SIMPLE:L,GROUP:q,NGRAM:K},Z=void 0,H="prototype",Y="hasOwnProperty",J="propertyIsEnumerable",X=(Object.keys,Array[H],Object[H]),te=(Function[H],X.toString),ee=4,ne=5,re=8,oe=16,le=17,se=18,ie=32,ue=64,ae=128,ce=256,fe=512,pe=1024,he=2048,ge=4096,me=oe|ie,ke=ue|ie,de={"[object Array]":ie,"[object RegExp]":ce,"[object Date]":fe,"[object Number]":ee,"[object String]":oe,"[object Function]":ae,"[object Object]":ue},ve=function(t){var e;return null===t?pe:!0===t||!1===t?re:Z===t?he:(e=te.call(t),e=de[e]||ge,ee===e||t instanceof Number?isNaN(t)?ne:ee:oe===e||t instanceof String?1===t.length?le:oe:ie===e||t instanceof Array?ie:ce===e||t instanceof RegExp?ce:fe===e||t instanceof Date?fe:ae===e||t instanceof Function?ae:ue===e?ue:ge)},Ee=Object.create,Re=function(){var t,e,n,r,o,l,s,i=arguments;for(e=i[0]||{},t=i.length,l=1;t>l;l++)if(n=i[l],ue===ve(n))for(o in n)n[Y](o)&&n[J](o)&&(r=n[o],s=ve(r),e[o]=ee&s?0+r:me&s?r.slice(0):r);return e},we=function(t,e){return e||ie!==ve(t)?[t]:t},Ce=function(t,e){return t=we(t,e),(e||ie!==ve(t[0]))&&(t=[t]),t},ye=function(t){var e,n=ve(t);if(!(ke&n))return t;var r,o={};for(r in t)t[Y](r)&&t[J](r)&&(e=ve(t[r]),o[r]=ue&e?ye(t[r]):me&e?t[r].slice():t[r]);return o},_e=function(){var t=arguments,e=t.length;if(1>e)return null;if(2>e)return ye(t[0]);var n,r,o,l,s=t[0],i=ye(s);for(e--,r=1;e>r;r++)if(n=t[r])for(o in n)n[Y](o)&&n[J](o)&&(s[Y](o)&&s[J](o)?(l=ve(s[o]),ue&~oe&l&&(i[o]=_e(s[o],n[o]))):i[o]=ye(n[o]));return i},be=/([.*+?^${}()|[\]\/\\\-])/g,Te=function(t){return t.replace(be,"\\$1")},xe=/\$(\d{1,2})/g,Ae=function(t,e){var n,r,o,l;for(l=function(t,n){return e[1+parseInt(n,10)]},n=t.split("$$"),o=n.length,r=0;o>r;r++)n[r]=n[r].replace(xe,l);return n.join("$")},Oe=/^\s+|\s+$/g,Le=String[H].trim?function(t){return t.trim()}:function(t){return t.replace(Oe,"")},Se=function(t,e){return e.length-t.length},De=/\r\n|\r|\n/g,Be=function(t,e){return oe&ve(e)&&oe&ve(t)&&e.length&&e.length<=t.length&&e==t.substr(0,e.length)},Ie=function(t,e,n){if(!t||ee==ve(t))return t;var r,o=e?e.length||0:0;if(o&&e==t.substr(0,o)){var l,s,i,u,r,a,c=t.substr(o),f=c[0],p="";for(r=c.length;r--&&(a=c[r],f!=a);)"i"==a.toLowerCase()&&(p="i");return l=c.substring(1,r),s="^("+l+")",n[s]||(i=new RegExp(s,p),u={peek:null,negativepeek:null},n[s]=[i,u]),n[s]}return t},Me=function(t,e){var n={},r="",o=ve(e);(oe==o||le==o)&&(r=e);var l=t.sort(Se).map(function(t){return n[t.charAt(0)]=1,Te(t)}).join("|");return[new RegExp("^("+l+")"+r),{peek:n,negativepeek:null},1]},$e=0,je=function(){return++$e},Ne=function(t){return[t||"uuid",++$e,(new Date).getTime()].join("_")},Qe="undefined"!=typeof global&&"[object global]"==te.call(global)?1:0,Pe=Qe||"undefined"==typeof navigator?0:1,ze="function"==typeof importScripts&&navigator instanceof WorkerNavigator?1:0,Ue=function(){var t,e,n=null;return Qe?(n=__filename,{path:__dirname,file:__filename,base:__dirname}):(ze?n=self.location.href:Pe&&(t=document.location.href.split("#")[0].split("?")[0].split("/").slice(0,-1).join("/"),(e=document.getElementsByTagName("script"))&&e.length&&(n=e[e.length-1].src)),n?{path:n.split("/").slice(0,-1).join("/"),file:n,base:t}:{path:null,file:null,base:null})},qe=Ue(),Ke=Math.max,Ve=/^[\s\u00a0]+/,Fe=/[^\s\u00a0]/;e.col=function(t,e,n,r,o){var l,s;for(null===e&&(e=t.search(Fe),-1==e&&(e=t.length)),l=r||0,s=o||0;e>l;++l)s+="	"==t.charAt(l)?n-s%n:1;return s},e._=function(t){var n=new e;return n._=t,n.s=""+t.string,n.start=t.start,n.pos=t.pos,n.lCP=t.lastColumnPos,n.lCV=t.lastColumnValue,n.lS=t.lineStart,n},e[H]={constructor:e,_:null,s:"",start:0,pos:0,lCP:0,lCV:0,lS:0,dispose:function(){var t=this;return t._=null,t.s=null,t.start=null,t.pos=null,t.lCP=null,t.lCV=null,t.lS=null,t},toString:function(){return this.s},sol:function(){return 0===this.pos},eol:function(){return this.pos>=this.s.length},chr:function(t,e){var n=this,r=n.s.charAt(n.pos)||null;return r&&t===r?(!1!==e&&(n.pos+=1,n._&&(n._.pos=n.pos)),r):!1},chl:function(t,e){var n=this,r=n.s.charAt(n.pos)||null;return r&&-1<t.indexOf(r)?(!1!==e&&(n.pos+=1,n._&&(n._.pos=n.pos)),r):!1},str:function(t,e,n){var r,o=this,l=o.pos,s=o.s,i=s.charAt(l)||null;return i&&e[i]&&(r=t.length,t===s.substr(l,r))?(!1!==n&&(o.pos+=r,o._&&(o._.pos=o.pos)),t):!1},rex:function(t,e,n,r,o){{var l,s=this,i=s.pos,u=s.s;u.charAt(i)||null}return l=u.slice(i).match(t),!l||l.index>0?!1:(!1!==o&&(s.pos+=l[r||0].length,s._&&(s._.pos=s.pos)),l)},spc:function(t){var e,n=this,r=n.pos,o=n.s.slice(r);return(e=o.match(Ve))?(!1!==t&&(n.pos+=e[0].length,n._&&(n._.pos=n.pos)),1):0},end:function(){var t=this;return t.pos=t.s.length,t._&&(t._.pos=t.pos),t},nxt:function(){var t,e=this,n=e.s;return e.pos<n.length?(t=n.charAt(e.pos++)||null,e._&&(e._.pos=e.pos),t):void 0},bck:function(t){var e=this;return e.pos=Ke(0,e.pos-t),e._&&(e._.pos=e.pos),e},bck2:function(t){var e=this;return e.pos=Ke(0,t),e._&&(e._.pos=e.pos),e},col:function(t){var n=this;return t=t||1,n.lCP<n.start&&(n.lCV=e.col(n.s,n.start,t,n.lCP,n.lCV),n.lCP=n.start,n._&&(n._.start=n.start,n._.lastColumnPos=n.lCP,n._.lastColumnValue=n.lCV,n._.lineStart=n.lS)),n.lCV-(n.lS?e.col(n.s,n.lS,t):0)},ind:function(t){var n=this;return t=t||1,e.col(n.s,null,t)-(n.lS?e.col(n.s,n.lS,t):0)},cur:function(t){var e=this,n=e.s.slice(e.start,e.pos);return t&&(e.start=e.pos),n},sft:function(){return this.start=this.pos,this}},n[H]={constructor:n,_:null,dispose:function(){var t=this;return t._=null,t},toString:function(){return this._.slice().reverse().join("\n")},clone:function(){return new n(this._.slice())},isEmpty:function(){return 0>=this._.length},pos:function(){return this._.length},peek:function(t){var e=this,n=e._;if(t=arguments.length?t:-1,n.length){if(0>t&&0<=n.length+t)return n[n.length+t];if(t>=0&&t<n.length)return n[t]}return null},pop:function(){return this._.pop()},shift:function(){return this._.shift()},push:function(t){var e=this;return e._.push(t),e},unshift:function(t){var e=this;return e._.unshift(t),e},pushAt:function(t,e,n,r){var o=this,l=o._;return n&&r&&(e[n]=r),t<l.length?l.splice(t,0,e):l.push(e),o},empty:function(t,e){{var n=this,r=n._;r.length}if(t&&e)for(;r.length&&r[r.length-1]&&r[r.length-1][t]===e;)r.pop();else r.length=0;return n}},r[H]={constructor:r,id:null,l:0,col:0,indent:0,stack:null,data:null,t:null,inBlock:null,endBlock:null,dispose:function(){var t=this;return t.stack&&t.stack.dispose(),t.data&&t.data.dispose(),t.stack=null,t.data=null,t.id=null,t.t=null,t.l=null,t.col=null,t.indent=null,t.inBlock=null,t.endBlock=null,t},clone:function(t){var e=this,n=new r(e.l,t);return n.t=e.t,n.col=e.col,n.indent=e.indent,n.stack=e.stack.clone(),n.data=e.data.clone(),n.inBlock=e.inBlock,n.endBlock=e.endBlock,n},toString:function(){var t=this;return["",t.id,t.l,t.t,t.inBlock||"0"].join("_")}};var Ge=function(t,e){var n,r=this;return(n=t.chr(r.tp,e))?[r.tk,n]:!1},We=function(t,e){var n,r=this;return(n=t.chl(r.tp,e))?[r.tk,n]:!1},Ze=function(t,e){var n,r=this;return(n=t.str(r.tp,r.p,e))?[r.tk,n]:!1},He=function(t,e){var n,r=this;return(n=t.rex(r.tp,r.p,r.np,r.tg,e))?[r.tk,n]:!1},Ye=function(t,e){var n=this;return!1!==e&&t.end(),[n.tk,""]};o[H]={constructor:o,$class:null,mt:null,tt:null,tn:null,tp:null,tg:0,tk:0,p:null,np:null,get:function(){return!1},toString:function(){var t=this;return["[","Matcher: ",t.tn,", Pattern: ",t.tp?t.tp.toString():null,"]"].join("")}},l[H]=Re(Ee(o[H]),{constructor:l,ms:null,ownKey:!0,get:function(t,e){var n,r,o=this,l=o.ms,s=l.length,i=o.ownKey;for(n=0;s>n;n++)if(r=l[n].get(t,e))return i?[n,r[1]]:r;return!1}}),s[H]=Re(Ee(o[H]),{constructor:s,s:null,e:null,get:function(t,e){var n,r=this,l=r.s,s=r.e;if(n=l.get(t,e)){var i,u=s[n[0]],a=ve(u),c=l.ms[n[0]].tt;return ce===c&&(ee===a?(i=n[1][u+1],u=new o(i.length>1?oe:le,r.tn+"_End",i)):oe===a&&(i=Ae(u,n[1]),u=new o(i.length>1?oe:le,r.tn+"_End",i))),u}return!1}});var Je=1,Xe=2;c[H]={constructor:c,$class:null,sID:null,id:null,tt:null,tk:null,ta:null,REQ:0,ERR:0,ACT:0,CLONE:null,act:function(t,e){var n,r,o=this.ta||null,l=e.data;if(n)if(n=o[0],r=o[1],Xe===n){if(r&&(t&&(r=ee===ve(r)?t[1][r]:Ae(r,t[1])),l.isEmpty()||r!==l.peek()))return r;l.pop()}else Je===n&&r&&(t&&(r=ee===ve(r)?t[1][r]:Ae(r,t[1])),l.push(r));return 0},get:function(t,e){var n=this,r=n.ta,o=n.tk,l=n.tt,s=n.id,i=null;if(n.ACT=0,B===l)return n.ERR=0,n.REQ=0,!0;if(S===l){if(t.spc(),t.eol())return s}else if(D===l)n.ERR=n.REQ&&t.spc()&&!t.eol()?1:0,n.REQ=0;else if(i=o.get(t))return r&&(n.ACT=n.act(i,e)),s;return!1},req:function(t){return this.REQ=!!t,this},err:function(){var t=this;return t.REQ?'Token "'+t.id+'" Expected':t.ACT?'Token "'+t.ACT+'" No Match':'Syntax Error: "'+t.id+'"'},clone:function(){var t,e,n,r=this,o=r.CLONE;if(t=new r.$class,t.tt=r.tt,t.id=r.id,t.tm=r.tm?r.tm.slice():r.tm,o&&o.length)for(e=0,n=o.length;n>e;e++)t[o[e]]=r[o[e]];return t},toString:function(){var t=this;return["[","Tokenizer: ",t.id,", Matcher: ",t.tk?t.tk.toString():null,"]"].join("")}},f[H]=Re(Ee(c[H]),{constructor:f,inter:0,mline:0,esc:null,get:function(t,e){var n,r,o,l,s,i,u,a,c,f=this,p=0,h=0,g="",m=f.mline,k=f.tk,d=f.id,v=f.tt,E=f.inter,R=E?d+".inside":d,w=0,C=M===v,y=f.esc;if($===v&&(f.REQ=0),s=0,e.inBlock===d?(h=1,n=e.endBlock,s=1,i=R):!e.inBlock&&(n=k.get(t))&&(h=1,e.inBlock=d,e.endBlock=n,i=d),h){if(o=e.stack.pos(),l=pe===n.tt,E){if(s&&l&&t.sol())return f.REQ=0,e.inBlock=null,e.endBlock=null,!1;if(!s)return e.stack.pushAt(o,f.clone(),"sID",d),i}if(p=n.get(t),r=m,c=0,p)i=l?R:d;else for(a=t.pos;!t.eol();){if(u=t.pos,!(C&&w||!n.get(t))){E&&t.pos>u&&u>a?(i=R,t.bck2(u),c=1):(i=d,p=1);break}g=t.nxt(),w=!w&&g==y}return r=m||C&&w,p||!r&&!c?(e.inBlock=null,e.endBlock=null):e.stack.pushAt(o,f.clone(),"sID",d),i}return!1}}),p[H]=Re(Ee(c[H]),{constructor:p,ts:null,min:0,max:1,found:0,set:function(t){return t&&(this.ts=we(t)),this},get:function(t,e){var n,r,o,l,s,i,u=this,a=u.ts,c=a.length,f=u.found,p=u.min,h=u.max,g=0;for(u.ERR=0,u.REQ=0,u.ACT=0,l=t.pos,s=e.stack.pos(),i=u.id+"_"+je(),n=0;c>n;n++){if(r=a[n].clone().req(1),o=r.get(t,e),!1!==o){if(++f,h>=f)return u.found=f,e.stack.pushAt(s,u.clone(),"sID",i),u.found=0,u.ACT=r.ACT,o;break}r.REQ&&g++,r.ERR&&t.bck2(l)}return u.REQ=p>f,u.ERR=f>h||p>f&&g>0,!1}}),h[H]=Re(Ee(p[H]),{constructor:h,get:function(t,e){var n,r,o,l,s=this,i=s.ts,u=i.length,a=0,c=0;for(s.REQ=1,s.ERR=0,s.ACT=0,l=t.pos,o=0;u>o;o++){if(r=i[o].clone().req(1),n=r.get(t,e),a+=r.REQ?1:0,!1!==n)return s.ACT=r.ACT,n;r.ERR&&(c++,t.bck2(l))}return s.REQ=a>0,s.ERR=u==c&&a>0,!1}}),g[H]=Re(Ee(p[H]),{constructor:g,get:function(t,e){var n,r,o,l,s,i=this,u=i.ts,a=u.length;if(i.REQ=1,i.ERR=0,i.ACT=0,o=t.pos,l=e.stack.pos(),n=u[0].clone().req(1),r=n.get(t,e),s=i.id+"_"+je(),!1!==r){if(!0!==r)for(var c=a-1;c>0;c--)e.stack.pushAt(l+a-c-1,u[c].clone().req(1),"sID",s);return i.ACT=n.ACT,r}return n.ERR?(i.ERR=1,t.bck2(o)):n.REQ&&(i.ERR=1),!1}}),m[H]=Re(Ee(p[H]),{constructor:m,get:function(t,e){var n,r,o,l,s,i,u=this,a=u.ts,c=a.length;if(u.REQ=0,u.ERR=0,u.ACT=0,o=t.pos,l=e.stack.pos(),n=a[0].clone().req(0),r=n.get(t,e),s=u.id+"_"+je(),!1!==r){if(!0!==r)for(i=c-1;i>0;i--)e.stack.pushAt(l+c-i-1,a[i].clone().req(1),"sID",s);return u.ACT=n.ACT,r}return n.ERR&&t.bck2(o),!1}});var tn=/[\-_]/g,en="undefined"!=typeof ace?ace:{require:function(){return{}},config:{}},nn=en.require,rn=en.config;R[H]=Re(Ee((nn("ace/worker/worker_client").WorkerClient||Object)[H]),{constructor:R}),w[H]=Re(Ee((nn("ace/tokenizer").Tokenizer||Object)[H]),{constructor:w,ERR:null,DEF:null,LC:null,BC:null,rxLine:null,rxStart:null,rxEnd:null,Keywords:null,cTokens:null,Tokens:null,Style:null,dispose:function(){var t=this;return t.ERR=null,t.DEF=null,t.LC=null,t.BC=null,t.rxLine=null,t.rxStart=null,t.rxEnd=null,t.Keywords=null,t.cTokens=null,t.Tokens=null,t.Style=null,t},parse:function(t){t=t||"";var e,n,o=this,l=t.split(De),s=l.length,i=[];for(n={state:new r,tokens:null},e=0;s>e;e++)n=o.getLineTokens(l[e],n.state,e),i.push(n.tokens);return i},getLineTokens:function(t,n,o){var l,s,i,u,a,c,f,p,h,g,m,k=this,d=k.cTokens,v=k.Tokens,E=v.length,R=null,w=k.DEF,C=k.ERR,y=k.Style;for(c=[],g=new e(t),n=n?n.clone(1):new r(1,1),n.l=1+o,m=n.stack,f={type:null,value:"",error:null},p=null,h=null,g.sol()&&!m.isEmpty()&&S===m.peek().tt&&m.pop();!g.eol();)if(s=0,h&&h!==f.type?(f.type&&c.push(f),f={type:h,value:g.cur(1),error:R},R=null):f.type&&(f.value+=g.cur(1)),h=!1,!m.isEmpty()&&D===m.peek().tt||!g.spc()){for(;!m.isEmpty()&&!g.eol();){if(d){for(u=0,i=0;u<d.length;)if(a=d[u++],n.t=p=a.get(g,n),!1!==p){h=y[p]||w,i=1;break}if(i){s=1;break}}if(a=m.pop(),n.t=p=a.get(g,n),!1!==p){if(!0!==p){h=y[p]||w,a.ACT&&(m.empty("sID",a.sID),n.t=p=C,h=C,R=a.err()),s=1;break}}else{if(a.ERR||a.REQ){m.empty("sID",a.sID),g.nxt(),n.t=p=C,h=C,R=a.err(),s=1;break}h=!1}}if(!s){if(g.eol())break;for(l=0;E>l;l++)if(a=v[l],n.t=p=a.get(g,n),!1!==p){if(!0!==p){h=y[p]||w,a.ACT&&(m.empty("sID",a.sID),n.t=p=C,h=C,R=a.err()),s=1;break}}else{if(a.ERR||a.REQ){m.empty("sID",a.sID),g.nxt(),n.t=p=C,h=C,R=a.err(),s=1;break}h=!1}if(!s){if(g.eol())break;g.nxt(),n.t=p=w,h=w}}}else n.t=p=w,h=w;return h&&h!==f.type?(f.type&&c.push(f),c.push({type:h,value:g.cur(1),error:R}),R=null):f.type&&(f.value+=g.cur(1),c.push(f)),f=null,{state:n,tokens:c}},tCL:function(t,e,n,r){var o,l,s,i,u,a=this,c=e.doc,f=!0,p=!0,h=1/0,g=e.getTabSize(),m=!1;if(a.LC){var k,d=ie==ve(a.LC)?a.LC[0]:a.LC,v=a.rxLine,E=d+" ";m=e.getUseSoftTabs(),s=function(t,e){var n,r,o=t.match(v);o&&(n=o[1].length,r=o[0].length,u(t,n,r)||" "!=o[0][r-1]||r--,c.removeInLine(e,n,r))},l=function(t,e){(!f||/\S/.test(t))&&(u(t,h,h)?c.insertInLine({row:e,column:h},E):c.insertInLine({row:e,column:h},d))},i=function(t){return v.test(t)},u=function(t,e,n){for(var r=0;e--&&" "==t.charAt(e);)r++;if(r%g!=0)return!1;for(r=0;" "==t.charAt(n++);)r++;return g>2?r%g!=g-1:r%g==0}}else{if(!a.BC)return!1;var d=a.BC.start,R=a.BC.end,w=a.rxStart,C=a.rxEnd;l=function(t,e){i(t,e)||(!f||/\S/.test(t))&&(c.insertInLine({row:e,column:t.length},R),c.insertInLine({row:e,column:h},d))},s=function(t,e){var n;(n=t.match(C))&&c.removeInLine(e,t.length-n[0].length,t.length),(n=t.match(w))&&c.removeInLine(e,n[1].length,n[0].length)},i=function(t,n){if(w.test(t))return!0;for(var r=e.getTokens(n),o=0;o<r.length;o++)if("comment"===r[o].type)return!0}}o=function(t){for(var e=n;r>=e;e++)t(c.getLine(e),e)},k=1/0,o(function(t,e){var n=t.search(/\S/);-1!==n?(h>n&&(h=n),p&&!i(t,e)&&(p=!1)):k>t.length&&(k=t.length)}),1/0==h&&(h=k,f=!1,p=!1),m&&h%g!=0&&(h=Math.floor(h/g)*g),o(p?s:l)},tBC:function(t,e,n,r){var o,l,s,i,u,a,c,f,p,h,g,m=this,k=nn("ace/token_iterator").TokenIterator,d=nn("ace/range").Range,v=m.BC,E=/comment/;if(v){if(o=new k(e,r.row,r.column),l=o.getCurrentToken(),s=e.selection,i=s.toOrientedRange(),l&&E.test(l.type)){for(;l&&E.test(l.type);){if(p=l.value.indexOf(v.start),-1!=p){h=o.getCurrentTokenRow(),g=o.getCurrentTokenColumn()+p,c=new d(h,g,h,g+v.start.length);break}l=o.stepBackward()}for(o=new k(e,r.row,r.column),l=o.getCurrentToken();l&&E.test(l.type);){if(p=l.value.indexOf(v.end),-1!=p){h=o.getCurrentTokenRow(),g=o.getCurrentTokenColumn()+p,f=new d(h,g,h,g+v.end.length);break}l=o.stepForward()}f&&e.remove(f),c&&(e.remove(c),u=c.start.row,a=-v.start.length)}else a=v.start.length,u=n.start.row,e.insert(n.end,v.end),e.insert(n.start,v.start);i.start.row==u&&(i.start.column+=a),i.end.row==u&&(i.end.column+=a),e.selection.fromOrientedRange(i)}},indent:function(t){return t.match(/^\s*/)[0]},getNextLineIndent:function(t,e){return e.match(/^\s*/)[0]}}),ze&&(onmessage=function(t){var e=t.data;e.load&&e.ace_worker_base&&(importScripts(e.ace_worker_base),C())}),_="text",b="invalid";t.AceGrammar={VERSION:"0.11",extend:_e,parse:E,getMode:y};return t.AceGrammar});