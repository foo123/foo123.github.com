/*
	jQuery Plugin to setup Google Maps V2 in divs
	
	version: 0.1
	You need to include the Google Map API Version 2 js script by obtaining a key from Google, it's free
	
	new in version 0.3.0
	-- added support for kml overlays
	
	Parameters are
	
	aData		:		Array of javascript objects that include the coordinates of each destination along with title and caption texts/html
						eg: [
								{lat:35.54567, lng:22.34546, title:"Foo City", info:"<img src='foocity.jpg' />"},
								{lat:35.5455, lng:22.345353, title:"Foo City2", info:"<div><a href='http://foocity2.com'><img src='foocity2.jpg' /></a></div>"}
							]
							lat is latitude, lng is longitude
	center		:		Object contating the coordinates for the center of the map long with zoom eg:
						{lat: 35.6788, long: 12.35566, zoom: 10}
						
	kml			:		kml(xml) file url for overlay
	
	You can access the map object of each element through jquery data map property
	
	eg: var map=$("mydiv").data("map");
	
	For documentation look at non-minified version or in the site.
	Note this software is provided AS IS with no warranty. It is provided free of charge for u to use.
	Author: Nikos M.
	Site: http://nikos-web-development.netai.net

*/
(function(a){a.fn.googlemapv2=function(b){var c={aData:null,center:null,kml:null},d=a.extend(c,b),e=function(a){function g(a){var b=new GLatLng(d.aData[a].lat,d.aData[a].lng),c=d.aData[a].title,e={title:c},f=new GMarker(b,e);return f.value=a,GEvent.addListener(f,"click",function(){f.openInfoWindowHtml(d.aData[a].info)}),f}if(GBrowserIsCompatible()){var b=new GMap2(a[0]),c=new GLatLng(d.center.lat,d.center.lng);b.setCenter(c,d.center.zoom),b.setMapType(G_NORMAL_MAP),b.setUIToDefault(),a.data({map:b});for(var e=0;e<d.aData.length;e++)b.addOverlay(g(e));if(d.kml!=null){var f=new GGeoXml(d.kml);b.addOverlay(f)}}};return this.each(function(){e(a(this))}),this}})(jQuery)