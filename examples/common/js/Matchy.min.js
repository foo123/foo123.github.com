/**
*  Matchy
*  Exact and fuzzy string searching algorithms for PHP, JavaScript, Python
*
*  @version: 2.0.0
*  https://github.com/foo123/Matchy
*
**/
!function(r,t,n){"use strict";"object"==typeof module&&module.exports?(module.$deps=module.$deps||{})&&(module.exports=module.$deps[t]=n.call(r)):"function"==typeof define&&define.amd&&"function"==typeof require&&"function"==typeof require.specified&&require.specified(t)?define(t,["module"],function(t){return n.moduleUri=t.uri,n.call(r)}):t in r||(r[t]=n.call(r)||1)&&"function"==typeof define&&define.amd&&define(function(){return r[t]})}("undefined"!=typeof self?self:this,"Matchy",function(t){"use strict";function r(){}function e(t,r){return-1}function n(t,r){if(!(this instanceof n))return new n(t,r);"+"===(r="*"===(r="?"===(r=null==r?"l":r)?{min:0,max:1}:r)?{min:0,max:i}:r)&&(r={min:1,max:i}),this.input=t,this.type=r}r.VERSION="2.0.0",r.prototype={constructor:r,fsa:function(e,t,r){for(var c=e.length,u={},n=0;n<c;++n)u[e.charAt(n)]=1;function i(t,r){var n=t.length;if((r=null==r?0:r)<0&&(r+=n),0<n&&0<c&&r+c<=n)for(var e,u=0,i=r;i<n;++i)if(e=t.charAt(i),u=l(u,e),c===u)return i-c+1;return-1}var o=function(t,r,n){t=e.slice(0,t);return t===(e.slice(0,r)+n).slice(-t.length)},f=a(0,c+1,0).map(function(){return{}}),l=function(t,r){if(!k(u,r)||1!==u[r])return 0;if(k(f[t],r))return f[t][r];for(var n=O(c,t+1);0<n&&!o(n,t,r);)--n;return f[t][r]=n};return null==t?i:i(t,r)},rabinkarp:function(a,t,r){function n(t,r){var n=t.length;if((r=null==r?0:r)<0&&(r+=n),0<n&&0<h&&r+h<=n){for(var e,u,i,c,o={},f=0,l=0;l<h;++l)k(o,c=a.charAt(l))||(o[c]=f++);for(l=r;l<n;++l)k(o,c=t.charAt(l))||(o[c]=f++);for(e=1,u=o[a.charAt(0)]%s,i=o[t.charAt(r)]%s,l=1;l<h;++l)e=e*f%s,u=(u*f+o[a.charAt(l)])%s,i=(i*f+o[t.charAt(r+l)])%s;for(n-=h,l=r;l<=n;++l){if(u===i&&t.slice(l,l+h)===a)return l;l<n&&(i=(f*(i-e*o[t.charAt(l)])+o[t.charAt(l+h)])%s)<0&&(i+=s)}}return-1}var h=a.length,s=3989;return null==t?n:n(t,r)},knuthmorrispratt:function(i,t,r){var n,e,u,c=i.length,o=a(0,c,0);for(o[0]=-1,e=1,n=0;e<c;){if((u=i.charAt(e))===i.charAt(n))o[e]=o[n];else for(o[e]=n;0<=n&&u!==i.charAt(n);)n=o[n];++e,++n}function f(t,r){var n=t.length;if((r=null==r?0:r)<0&&(r+=n),0<n&&0<c&&r+c<=n)for(var e=0,u=r;u<n;)if(i.charAt(e)===t.charAt(u)){if(++u,++e===c)return u-e}else(e=o[e])<0&&(++u,++e);return-1}return null==t?f:f(t,r)},boyermoore:function(i,t,r){var c=i.length,n=a(0,c+1,0),o=a(0,c+1,0),e=c,u=c+1;for(n[e]=u;0<e;){for(;u<=c&&i.charAt(e-1)!==i.charAt(u-1);)0===o[u]&&(o[u]=u-e),u=n[u];--u,n[--e]=u}for(u=n[0],e=0;e<c;++e)0===o[e]&&e===(o[e]=u)&&(u=n[u]);function f(t,r){var n=t.length;if((r=null==r?0:r)<0&&(r+=n),0<n&&0<c&&r+c<=n)for(var e,u=r;u+c<=n;){for(e=c-1;0<=e&&i.charAt(e)===t.charAt(u+e);)--e;if(e<0)return u;u+=o[e+1]}return-1}return null==t?f:f(t,r)},twoway:function(f,t,r){function n(t,r,n){for(var e,u,i=1,c=1,o=1,f=0;o+c<=r;)u=t.charAt(o+c-1),(u=n*((e=t.charAt(f+c-1))<u?1:u<e?-1:0))<0?(o+=c,c=1,i=o-f):0<u?(o=(f=o)+1,i=c=1):c===i?(o+=i,c=1):++c;return[f,i]}function e(t,r){var n=t.length;if((r=null==r?0:r)<0&&(r+=n),0<n&&0<a&&r+a<=n){var e,u,i,c,o=r;if(s)for(i=0;o+a<=n;){for(e=p(l,i)+1;e<=a&&f.charAt(e-1)===t.charAt(o+e-1);)++e;if(e<=a)o+=p(e-l,i-h+1),i=0;else{for(u=l;i<u&&f.charAt(u-1)===t.charAt(o+u-1);)--u;if(u<=i)return o;o+=h,i=a-h}}else for(c=p(l,a-l)+1;o+a<=n;){for(e=l+1;e<=a&&f.charAt(e-1)===t.charAt(o+e-1);)++e;if(e<=a)o+=e-l;else{for(u=l;0<u&&f.charAt(u-1)===t.charAt(o+u-1);)--u;if(0===u)return o;o+=c}}}return-1}var l,a=f.length,u=n(f,a,1),i=n(f,a,-1),h=(u[0]>=i[0]?(l=u[0],u):(l=i[0],i))[1],s=2*l<a&&f.slice(0,l)===f.slice(l,l+h).slice(-l);return null==t?e:e(t,r)},commentzwalter:function(t,r,n){return null==r?e:-1},baezayatesgonnet:function(t,r,n){return null==r?e:-1},ahocorasick:function(t,r,n){return null==r?e:-1}},n.prototype={constructor:n,input:null,type:null,q0:function(){var t,r=this.type,n=this.input;return M(r)?k(r,"min")?[n.q0(),0]:(t=O(r.errors,n.length),r.transpositions?[f(0,t,1),f(0,t,1),[],[],""]:[f(0,t,1),f(0,t,1)]):"l"===r?0:"^"!==r&&"$"!==r&&("!"===r?n.q0():"|"===r?n.map(function(t){return t.q0()}):","===r?[n[0].q0(),0]:void 0)},d:function(n,e){var t,r=this.type,u=this.input;if(M(r)){if(k(r,"min"))return n=[u.d(n[0],e),n[1]],n=u.accept(n[0])?[u.q0(),n[1]+1]:n;if(z(e))return n;var i,c,o,f,l,a,h,s=!!r.transpositions,p=u,d=u.length,A=O(r.errors,d),m=n[0],v=n[1],g=null,y=null,j=[],q=[],b=m.length,x=0,$=-1,w=0;for(s&&(g=n[2],y=n[3],h=n[4],x=g.length,f=0),0<b&&0===m[0]&&v[0]<A&&(w=l=v[$=c=0]+1,j.push(c),q.push(l)),o=0;o<b&&!(d<=(c=m[o]));++o){if(a=p.charAt(c)===e?0:1,l=v[o]+a,i=o+1<b?m[o+1]:-1,++c-1===$&&(l=O(l,w+1)),c===i&&(l=O(l,v[o+1]+1)),s&&h===p.charAt(c-1)&&e===p.charAt(c-2)){for(;f<x&&g[f]<c-2;)++f;f<x&&c-2===g[f]&&(l=O(l,y[f]+a))}l<=A&&($=c,w=l,j.push(c),q.push(l))}return s?[j,q,m,v,e]:[j,q]}return"l"===r?z(e)?n:n<u.length&&e===u.charAt(n)?n+1:0:"^"===r?z(e)&&0===e:"$"===r?z(e)&&1===e:"!"===r?u.d(n,e):"|"===r?u.map(function(t,r){return t.d(n[r],e)}):","===r?u[c=n[1]].accept(n[0])?c+1<u.length?(r=[u[c].d(n[0],e),c],t=[u[c+1].d(u[c+1].q0(),e),c+1],u[c+1].reject(t[0])&&!u[c].reject(r[0])?r:t):n:[u[c].d(n[0],e),c]:void 0},accept:function(n){var t=this.type,r=this.input;return M(t)?k(t,"min")?t.min<=n[1]&&n[1]<=t.max:0<n[0].length&&n[0][n[0].length-1]===r.length:"l"===t?n===r.length:"^"===t||"$"===t?n:"!"===t?r.reject(n):"|"===t?0<r.filter(function(t,r){return t.accept(n[r])}).length:","===t?n[1]+1===r.length&&r[n[1]].accept(n[0]):void 0},reject:function(n){var t=this.type,r=this.input;return M(t)?k(t,"min")?n[1]>=t.max&&r.accept(n[0])||n[1]<t.min&&r.reject(n[0]):!n[0].length:"l"===t?0===n:"^"===t||"$"===t?!n:"!"===t?r.accept(n):"|"===t?r.length===r.filter(function(t,r){return t.reject(n[r])}).length:","===t?r[n[1]].reject(n[0]):void 0},match:function(t,r,n){var e=this,u=r||0,i=u,c=t.length;for(null==n&&(n=e.q0());;){if(c<=i){if(c<++u)break;i=u,n=e.q0()}if(0===i&&(n=e.d(n,0)),n=e.d(n,t.charAt(i)),c-1===i&&(n=e.d(n,1)),e.accept(n))return u;e.reject(n)?i=c:++i}return-1}},r.NFA=n;var u=Math,O=u.min,p=u.max,i=1/0,c=Object.prototype.hasOwnProperty,o=Object.prototype.toString;function k(t,r){return c.call(t,r)}function z(t){return"number"==typeof t}function M(t){return"[object Object]"===o.call(t)}function a(t,r,n){for(var e=new Array(r),u=0,i=t;u<r;++i,++u)e[i]=n;return e}function f(t,r,n){null==n&&(n=1);for(var e=[];t<=r;)e.push(t),t+=n;return e}return r});