/**
*  Matchy
*  Exact and fuzzy string searching algorithms for PHP, JavaScript, Python
*
*  @version: 3.0.0
*  https://github.com/foo123/Matchy
*
**/
!function(t,r,n){"use strict";"object"==typeof module&&module.exports?(module.$deps=module.$deps||{})&&(module.exports=module.$deps[r]=n.call(t)):"function"==typeof define&&define.amd&&"function"==typeof require&&"function"==typeof require.specified&&require.specified(r)?define(r,["module"],function(r){return n.moduleUri=r.uri,n.call(t)}):r in t||(t[r]=n.call(t)||1)&&"function"==typeof define&&define.amd&&define(function(){return t[r]})}("undefined"!=typeof self?self:this,"Matchy",function(r){"use strict";function t(){}function e(r,t){return-1}function i(r,t){if(!(this instanceof i))return new i(r,t);this.type=t="+"===(t="*"===(t="?"===(t=null==t?"l":t)?{min:0,max:1}:t)?{min:0,max:n}:t)?{min:1,max:n}:t,this.input=M(t)&&S(t,"total_errors")?i.makeFuzzy(r,t.total_errors,!!t.transpositions):r}t.VERSION="3.0.0",t.prototype={constructor:t,fsa:function(e,r,t){for(var o=e.length,i={},n=0;n<o;++n)i[e.charAt(n)]=1;function u(r,t){var n=r.length;if((t=null==t?0:t)<0&&(t+=n),0<n&&0<o&&t+o<=n)for(var e,i=0,u=t;u<n;++u)if(e=r.charAt(u),i=f(i,e),o===i)return u-o+1;return-1}var c=function(r,t,n){r=e.slice(0,r);return r===(e.slice(0,t)+n).slice(-r.length)},a=l(0,o+1,0).map(function(){return{}}),f=function(r,t){if(!S(i,t)||1!==i[t])return 0;if(!S(a[r],t)){for(var n=_(o,r+1);0<n&&!c(n,r,t);)--n;a[r][t]=n}return a[r][t]};return null==r?u:u(r,t)},rabinkarp:function(l,r,t){function n(r,t){var n=r.length;if((t=null==t?0:t)<0&&(t+=n),0<n&&0<h&&t+h<=n){for(var e,i,u,o,c={},a=0,f=0;f<h;++f)S(c,o=l.charAt(f))||(c[o]=a++);for(f=t;f<n;++f)S(c,o=r.charAt(f))||(c[o]=a++);for(e=1,i=c[l.charAt(0)]%s,u=c[r.charAt(t)]%s,f=1;f<h;++f)e=e*a%s,i=(i*a+c[l.charAt(f)])%s,u=(u*a+c[r.charAt(t+f)])%s;for(n-=h,f=t;f<=n;++f){if(i===u&&r.slice(f,f+h)===l)return f;f<n&&(u=(a*(u-e*c[r.charAt(f)])+c[r.charAt(f+h)])%s)<0&&(u+=s)}}return-1}var h=l.length,s=3989;return null==r?n:n(r,t)},knuthmorrispratt:function(u,r,t){var n,e,i,o=u.length,c=l(0,o,0);for(c[0]=-1,e=1,n=0;e<o;){if((i=u.charAt(e))===u.charAt(n))c[e]=c[n];else for(c[e]=n;0<=n&&i!==u.charAt(n);)n=c[n];++e,++n}function a(r,t){var n=r.length;if((t=null==t?0:t)<0&&(t+=n),0<n&&0<o&&t+o<=n)for(var e=0,i=t;i<n;)if(u.charAt(e)===r.charAt(i)){if(++i,++e===o)return i-e}else(e=c[e])<0&&(++i,++e);return-1}return null==r?a:a(r,t)},boyermoore:function(u,r,t){var o=u.length,n=l(0,o+1,0),c=l(0,o+1,0),e=o,i=o+1;for(n[e]=i;0<e;){for(;i<=o&&u.charAt(e-1)!==u.charAt(i-1);)0===c[i]&&(c[i]=i-e),i=n[i];--i,n[--e]=i}for(i=n[0],e=0;e<o;++e)0===c[e]&&e===(c[e]=i)&&(i=n[i]);function a(r,t){var n=r.length;if((t=null==t?0:t)<0&&(t+=n),0<n&&0<o&&t+o<=n)for(var e,i=t;i+o<=n;){for(e=o-1;0<=e&&u.charAt(e)===r.charAt(i+e);)--e;if(e<0)return i;i+=c[e+1]}return-1}return null==r?a:a(r,t)},twoway:function(a,r,t){function n(r,t,n){for(var e,i,u=1,o=1,c=1,a=0;c+o<=t;)i=r.charAt(c+o-1),(i=n*((e=r.charAt(a+o-1))<i?1:i<e?-1:0))<0?(c+=o,o=1,u=c-a):0<i?(c=(a=c)+1,u=o=1):o===u?(c+=u,o=1):++o;return[a,u]}function e(r,t){var n=r.length;if((t=null==t?0:t)<0&&(t+=n),0<n&&0<l&&t+l<=n){var e,i,u,o,c=t;if(s)for(u=0;c+l<=n;){for(e=p(f,u)+1;e<=l&&a.charAt(e-1)===r.charAt(c+e-1);)++e;if(e<=l)c+=p(e-f,u-h+1),u=0;else{for(i=f;u<i&&a.charAt(i-1)===r.charAt(c+i-1);)--i;if(i<=u)return c;c+=h,u=l-h}}else for(o=p(f,l-f)+1;c+l<=n;){for(e=f+1;e<=l&&a.charAt(e-1)===r.charAt(c+e-1);)++e;if(e<=l)c+=e-f;else{for(i=f;0<i&&a.charAt(i-1)===r.charAt(c+i-1);)--i;if(0===i)return c;c+=o}}}return-1}var f,l=a.length,i=n(a,l,1),u=n(a,l,-1),h=(i[0]>=u[0]?(f=i[0],i):(f=u[0],u))[1],s=2*f<l&&a.slice(0,f)===a.slice(f,f+h).slice(-f);return null==r?e:e(r,t)},commentzwalter:function(r,t,n){return null==t?e:-1},baezayatesgonnet:function(r,t,n){return null==t?e:-1},ahocorasick:function(r,t,n){return null==t?e:-1}},i.makeFuzzy=function(r,t,n){var e;return e=r,"[object String]"===o.call(e)?r=new i(r,{errors:t,transpositions:!!n}):r instanceof i&&(M(r.type)&&S(r.type,"errors")||("l"===r.type?r=new i(r.input,{errors:t,transpositions:!!n}):(e=r.input,"[object Array]"===o.call(e)?r.input=r.input.map(function(r){return i.makeFuzzy(r,t,n)}):r.input instanceof i&&(r.input=i.makeFuzzy(r.input,t,n))))),r},i.prototype={constructor:i,input:null,type:null,q0:function(){var r,t=this.type,n=this.input;return M(t)&&(r=S(t,"min")?[n.q0(),0]:S(t,"errors")?(r=_(t.errors,n.length),t.transpositions?[c(0,r,1),c(0,r,1),[],[],""]:[c(0,r,1),c(0,r,1)]):n.q0()),"l"===t&&(r=0),"^"===t&&(r=!1),"$"===t&&(r=!1),"!"===t&&(r=n.q0()),"|"===t&&(r=n.map(function(r){return r.q0()})),{q:r=","===t?[n[0].q0(),0]:r,e:0}},d:function(r,n){var t=this.type,e=this.input,i=r.q,u=r.e;if(M(t))if(S(t,"min")){var o=i[0].e;r=e.d(i[0],n),i=[r,i[1]],u+=i[0].e-o,e.accept(r)&&(i=[e.q0(),i[1]+1])}else if(S(t,"errors")){if(!E(n)){var c,a,f,l,h,s,p,m=!!t.transpositions,A=e,d=e.length,v=_(t.errors,d),y=v+1,g=i[0],q=i[1],j=null,b=null,z=[],k=[],w=g.length,x=0,$=-1,F=0;for(m&&(j=i[2],b=i[3],p=i[4],x=j.length,l=0),0<w&&0===g[0]&&q[0]<v&&(F=h=q[$=a=0]+1,z.push(a),k.push(h)),f=0;f<w&&!(d<=(a=g[f]));++f){if(s=A.charAt(a)===n?0:1,h=q[f]+s,c=f+1<w?g[f+1]:-1,++a-1===$&&(h=_(h,F+1)),a===c&&(h=_(h,q[f+1]+1)),m&&p===A.charAt(a-1)&&n===A.charAt(a-2)){for(;l<x&&j[l]<a-2;)++l;l<x&&a-2===j[l]&&(h=_(h,b[l]+s),++l)}h<=v&&(y=O.min(y,h),$=a,F=h,z.push(a),k.push(h))}i=m?[z,k,g,q,n]:[z,k],u=y}}else i=e.d(i,n),u=i.e;return"l"!==t||E(n)||(i=i<e.length&&n===e.charAt(i)?i+1:0),"^"===t&&(i=E(n)&&0===n),"$"===t&&(i=E(n)&&1===n),"!"===t&&(i=e.d(i,n),u=i.e),"|"===t&&(o=u,u=1/0,(i=e.map(function(r,t){return r.d(i[t],n)})).forEach(function(r,t){e[t].reject(r)||(u=O.min(u,r.e))}),isFinite(u)||(u=o+1)),","===t&&(a=i[1],o=i[0].e,e[a].accept(i[0])?a+1<e.length&&(r=e[a].d(i[0],n),t=e[a+1].d(e[a+1].q0(),n),!e[a].reject(r)&&(e[a+1].reject(t)||r.e-o<t.e)?(i=[r,a],u+=r.e-o):(i=[t,a+1],u+=t.e)):(i=[e[a].d(i[0],n),a],u+=i[0].e-o)),{q:i,e:u}},accept:function(r){var t=this.type,n=this.input,e=r.q,r=r.e;return M(t)?S(t,"min")?t.min<=e[1]&&e[1]<=t.max:S(t,"errors")?0<e[0].length&&e[0][e[0].length-1]===n.length:r<=t.total_errors&&n.accept(e):"l"===t?e===n.length:"^"===t||"$"===t?e:"!"===t?n.reject(e):"|"===t?0<n.filter(function(r,t){return r.accept(e[t])}).length:","===t?e[1]+1===n.length&&n[e[1]].accept(e[0]):void 0},reject:function(r){var t=this.type,n=this.input,e=r.q,r=r.e;return M(t)?S(t,"min")?e[1]>=t.max&&n.accept(e[0])||e[1]<t.min&&n.reject(e[0]):S(t,"errors")?!e[0].length:r>t.total_errors||n.reject(e):"l"===t?0===e:"^"===t||"$"===t?!e:"!"===t?n.accept(e):"|"===t?n.length===n.filter(function(r,t){return r.reject(e[t])}).length:","===t?n[e[1]].reject(e[0]):void 0},match:function(r,t,n,e){var i,u,o=this,c=t||0,a=c,f=r.length;for(null==e&&(e=o.q0()),i="";;){if(f<=a){if(f<++c)break;a=c,e=o.q0(),i=r.charAt(a-1)}if(u=i,i=r.charAt(a),0!==a&&"\n"!==u||(e=o.d(e,0)),e=o.d(e,i),f-1!==a&&"\n"!==i||(e=o.d(e,1)),o.accept(e))return n?r.slice(c,a+1):c;o.reject(e)?a=f:++a}return n?null:-1}},t.NFA=i;var O=Math,_=O.min,p=O.max,n=1/0,u=Object.prototype.hasOwnProperty,o=Object.prototype.toString;function S(r,t){return u.call(r,t)}function E(r){return"number"==typeof r}function M(r){return"[object Object]"===o.call(r)}function l(r,t,n){for(var e=new Array(t),i=0,u=r;i<t;++u,++i)e[u]=n;return e}function c(r,t,n){null==n&&(n=1);for(var e=[];r<=t;)e.push(r),r+=n;return e}return t});