/**
*  Matchy
*  Exact and fuzzy string searching algorithms for PHP, JavaScript, Python
*
*  @version: 3.0.0
*  https://github.com/foo123/Matchy
*
**/
!function(r,t,n){"use strict";"object"==typeof module&&module.exports?(module.$deps=module.$deps||{})&&(module.exports=module.$deps[t]=n.call(r)):"function"==typeof define&&define.amd&&"function"==typeof require&&"function"==typeof require.specified&&require.specified(t)?define(t,["module"],function(t){return n.moduleUri=t.uri,n.call(r)}):t in r||(r[t]=n.call(r)||1)&&"function"==typeof define&&define.amd&&define(function(){return r[t]})}("undefined"!=typeof self?self:this,"Matchy",function(t){"use strict";function r(){}function i(t,r,n){return n?null:-1}function u(t,r){if(!(this instanceof u))return new u(t,r);this.type=r="+"===(r="*"===(r="?"===(r=null==r?"l":r)?{min:0,max:1}:r)?{min:0,max:n}:r)?{min:1,max:n}:r,this.input=N(r)&&S(r,"total_errors")?u.makeFuzzy(t,r.total_errors,!!r.transpositions):t}r.VERSION="3.0.0",r.prototype={constructor:r,fsa:function(o,t,r,n){for(var l=o.length,e={},i=0;i<l;++i)e[o.charAt(i)]=1;function u(t,r,n){var e=t.length;if((r=null==r?0:r)<0&&(r+=e),0<e&&0<l&&r+l<=e)for(var i,u=0,c=r;c<e;++c)if(i=t.charAt(c),u=a(u,i),l===u)return n?o:c-l+1;return n?null:-1}var c=function(t,r,n){t=o.slice(0,t);return t===(o.slice(0,r)+n).slice(-t.length)},f=h(0,l+1,0).map(function(){return{}}),a=function(t,r){if(!S(e,r)||1!==e[r])return 0;if(!S(f[t],r)){for(var n=E(l,t+1);0<n&&!c(n,t,r);)--n;f[t][r]=n}return f[t][r]};return null==t?u:u(t,r,n)},rabinkarp:function(h,t,r,n){function e(t,r,n){var e=t.length;if((r=null==r?0:r)<0&&(r+=e),0<e&&0<s&&r+s<=e){for(var i,u,c,o,l={},f=0,a=0;a<s;++a)S(l,o=h.charAt(a))||(l[o]=f++);for(a=r;a<e;++a)S(l,o=t.charAt(a))||(l[o]=f++);for(i=1,u=l[h.charAt(0)]%p,c=l[t.charAt(r)]%p,a=1;a<s;++a)i=i*f%p,u=(u*f+l[h.charAt(a)])%p,c=(c*f+l[t.charAt(r+a)])%p;for(e-=s,a=r;a<=e;++a){if(u===c&&t.slice(a,a+s)===h)return n?h:a;a<e&&(c=(f*(c-i*l[t.charAt(a)])+l[t.charAt(a+s)])%p)<0&&(c+=p)}}return n?null:-1}var s=h.length,p=3989;return null==t?e:e(t,r,n)},knuthmorrispratt:function(c,t,r,n){var e,i,u,o=c.length,l=h(0,o,0);for(l[0]=-1,i=1,e=0;i<o;){if((u=c.charAt(i))===c.charAt(e))l[i]=l[e];else for(l[i]=e;0<=e&&u!==c.charAt(e);)e=l[e];++i,++e}function f(t,r,n){var e=t.length;if((r=null==r?0:r)<0&&(r+=e),0<e&&0<o&&r+o<=e)for(var i=0,u=r;u<e;)if(c.charAt(i)===t.charAt(u)){if(++u,++i===o)return n?c:u-i}else(i=l[i])<0&&(++u,++i);return n?null:-1}return null==t?f:f(t,r,n)},boyermoore:function(c,t,r,n){var o=c.length,e=h(0,o+1,0),l=h(0,o+1,0),i=o,u=o+1;for(e[i]=u;0<i;){for(;u<=o&&c.charAt(i-1)!==c.charAt(u-1);)0===l[u]&&(l[u]=u-i),u=e[u];--u,e[--i]=u}for(u=e[0],i=0;i<o;++i)0===l[i]&&i===(l[i]=u)&&(u=e[u]);function f(t,r,n){var e=t.length;if((r=null==r?0:r)<0&&(r+=e),0<e&&0<o&&r+o<=e)for(var i,u=r;u+o<=e;){for(i=o-1;0<=i&&c.charAt(i)===t.charAt(u+i);)--i;if(i<0)return n?c:u;u+=l[i+1]}return n?null:-1}return null==t?f:f(t,r,n)},twoway:function(f,t,r,n){function e(t,r,n){for(var e,i,u=1,c=1,o=1,l=0;o+c<=r;)i=t.charAt(o+c-1),(i=n*((e=t.charAt(l+c-1))<i?1:i<e?-1:0))<0?(o+=c,c=1,u=o-l):0<i?(o=(l=o)+1,u=c=1):c===u?(o+=u,c=1):++c;return[l,u]}function i(t,r,n){var e=t.length;if((r=null==r?0:r)<0&&(r+=e),0<e&&0<h&&r+h<=e){var i,u,c,o,l=r;if(p)for(c=0;l+h<=e;){for(i=m(a,c)+1;i<=h&&f.charAt(i-1)===t.charAt(l+i-1);)++i;if(i<=h)l+=m(i-a,c-s+1),c=0;else{for(u=a;c<u&&f.charAt(u-1)===t.charAt(l+u-1);)--u;if(u<=c)return n?f:l;l+=s,c=h-s}}else for(o=m(a,h-a)+1;l+h<=e;){for(i=a+1;i<=h&&f.charAt(i-1)===t.charAt(l+i-1);)++i;if(i<=h)l+=i-a;else{for(u=a;0<u&&f.charAt(u-1)===t.charAt(l+u-1);)--u;if(0===u)return n?f:l;l+=o}}}return n?null:-1}var a,h=f.length,u=e(f,h,1),c=e(f,h,-1),s=(u[0]>=c[0]?(a=u[0],u):(a=c[0],c))[1],p=2*a<h&&f.slice(0,a)===f.slice(a,a+s).slice(-a);return null==t?i:i(t,r,n)},commentzwalter:function(t,r,n,e){return null==r?i:e?null:-1},baezayatesgonnet:function(t,r,n,e){return null==r?i:e?null:-1},ahocorasick:function(t,r,n,e){return null==r?i:e?null:-1}},u.makeFuzzy=function(t,r,n){var e;return e=t,"[object String]"===c.call(e)?t=new u(t,{errors:r,transpositions:!!n}):t instanceof u&&(N(t.type)&&S(t.type,"errors")||("l"===t.type?t=new u(t.input,{errors:r,transpositions:!!n}):(e=t.input,"[object Array]"===c.call(e)?t.input=t.input.map(function(t){return u.makeFuzzy(t,r,n)}):t.input instanceof u&&(t.input=u.makeFuzzy(t.input,r,n))))),t},u.prototype={constructor:u,input:null,type:null,q0:function(){var t,r=this.type,n=this.input;return N(r)&&(t=S(r,"min")?[n.q0(),0]:S(r,"errors")?(t=E(r.errors,n.length),r.transpositions?[o(0,t,1),o(0,t,1),[],[],""]:[o(0,t,1),o(0,t,1)]):n.q0()),"l"===r&&(t=0),"^"===r&&(t=!1),"$"===r&&(t=!1),"!"===r&&(t=n.q0()),"|"===r&&(t=n.map(function(t){return t.q0()})),{q:t=","===r?[[n[0].q0(),0,0]]:t,e:0}},d:function(t,u){var c,r=this.type,o=this.input,l=t.q,f=t.e;if(N(r))if(S(r,"min")){var n=l[0].e;t=o.d(l[0],u),l=[t,l[1]],f+=l[0].e-n,o.accept(t)&&(l=[o.q0(),l[1]+1])}else if(S(r,"errors")){if(!M(u)){var e,i,a,h,s,p,m,d=!!r.transpositions,A=o,g=o.length,v=E(r.errors,g),y=v+1,j=l[0],q=l[1],b=null,w=null,_=[],z=[],k=j.length,x=0,$=-1,F=0;for(d&&(b=l[2],w=l[3],m=l[4],x=b.length,h=0),0<k&&0===j[0]&&q[0]<v&&(F=s=q[$=i=0]+1,_.push(i),z.push(s)),a=0;a<k&&(i=j[a],!(g<=i));++a){if(p=A.charAt(i)===u?0:1,s=q[a]+p,e=a+1<k?j[a+1]:-1,++i-1===$&&(s=E(s,F+1)),i===e&&(s=E(s,q[a+1]+1)),d&&m===A.charAt(i-1)&&u===A.charAt(i-2)){for(;h<x&&b[h]<i-2;)++h;h<x&&i-2===b[h]&&(s=E(s,w[h]+p),++h)}s<=v&&(y=O.min(y,s),$=i,F=s,_.push(i),z.push(s))}l=d?[_,z,j,q,u]:[_,z],f=y}}else l=o.d(l,u),f=l.e;return"l"!==r||M(u)||(l=l<o.length&&u===o.charAt(l)?l+1:0),"^"===r&&(l=M(u)&&0===u),"$"===r&&(l=M(u)&&1===u),"!"===r&&(l=o.d(l,u),f=l.e),"|"===r&&(n=f,f=1/0,(l=o.map(function(t,r){return t.d(l[r],u)})).forEach(function(t,r){o[r].reject(t)||(f=O.min(f,t.e))}),isFinite(f)||(f=n+1)),","===r&&(g=o.length,c=0,t=l,l=[],t.forEach(function(t){var r,n,e=t[1],i=t[0].e;o[e].accept(t[0])?e+1<g?(r=o[e].d(t[0],u),n=o[e+1].d(o[e+1].q0(),u),o[e].reject(r)||(t=[r,e,t[2]],l.push(t)),o[e+1].reject(n)||(t=[n,++e,t[2]+i],l.push(t))):l.push(t):(t=[o[e].d(t[0],u),e,t[2]],l.push(t)),c<e?(c=e,f=t[0].e+t[2]):e===c&&(f=O.min(f,t[0].e+t[2]))})),{q:l,e:f}},accept:function(t){var r,n=this.type,e=this.input,i=t.q;t.e;return N(n)?S(n,"min")?n.min<=i[1]&&i[1]<=n.max:S(n,"errors")?0<i[0].length&&i[0][i[0].length-1]===e.length:e.accept_with_errors(i,n.total_errors):"l"===n?i===e.length:"^"===n||"$"===n?i:"!"===n?e.reject(i):"|"===n?0<e.filter(function(t,r){return t.accept(i[r])}).length:","===n?(r=e.length,0<i.filter(function(t){return t[1]+1===r&&e[t[1]].accept(t[0])}).length):void 0},reject:function(t){var r=this.type,n=this.input,e=t.q;t.e;return N(r)?S(r,"min")?e[1]>=r.max&&n.accept(e[0])||e[1]<r.min&&n.reject(e[0]):S(r,"errors")?!e[0].length:n.reject_with_errors(e,r.total_errors):"l"===r?0===e:"^"===r||"$"===r?!e:"!"===r?n.accept(e):"|"===r?n.length===n.filter(function(t,r){return t.reject(e[r])}).length:","===r?e.length===e.filter(function(t){return n[t[1]].reject(t[0])}).length:void 0},accept_with_errors:function(t,r){var n,e,i,u;return!!this.accept(t)&&(null==r||(n=this.type,e=this.input,i=t.q,t=t.e,N(n)||","!==n?t<=r:","===n?(u=e.length,0<i.filter(function(t){return t[1]+1===u&&t[0].e+t[2]<=r&&e[t[1]].accept(t[0])}).length):void 0))},reject_with_errors:function(t,r){var n,e,i;return!!this.reject(t)||null!=r&&(n=this.type,e=this.input,i=t.q,t=t.e,N(n)||","!==n?r<t:","===n?i.length===i.filter(function(t){return t[0].e+t[2]>r||e[t[1]].reject(t[0])}).length:void 0)},match:function(t,r,n,e){var i,u,c=this,o=r||0,l=o,f=t.length;for(null==e&&(e=c.q0()),i="";;){if(f<=l){if(f<++o)break;l=o,e=c.q0(),i=t.charAt(l-1)}if(u=i,i=t.charAt(l),0!==l&&"\n"!==u||(e=c.d(e,0)),e=c.d(e,i),f-1!==l&&"\n"!==i||(e=c.d(e,1)),c.accept(e))return n?t.slice(o,l+1):o;c.reject(e)?l=f:++l}return n?null:-1}},r.NFA=u;var O=Math,E=O.min,m=O.max,n=1/0,e=Object.prototype.hasOwnProperty,c=Object.prototype.toString;function S(t,r){return e.call(t,r)}function M(t){return"number"==typeof t}function N(t){return"[object Object]"===c.call(t)}function h(t,r,n){for(var e=new Array(r),i=0,u=t;i<r;++u,++i)e[u]=n;return e}function o(t,r,n){null==n&&(n=1);for(var e=[];t<=r;)e.push(t),t+=n;return e}return r});