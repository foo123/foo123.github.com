/**
* minicarousel
* Optimized responsive Carousel for Desktop and Mobile
* @VERSION: 1.2.1
* https://github.com/foo123/minicarousel
*/
!function(e){"use strict";var g=Math,p=Array.prototype.forEach,y=Object.prototype.hasOwnProperty,n=/^\s+|\s+$/g,d=String.prototype.trim?function(e){return e.trim()}:function(e){return e.replace(n,"")};function r(){if(null==r.passiveSupported){var e={};try{Object.defineProperty(e,"passive",{get:function(){return!(r.passiveSupported=!0)}}),window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch(e){r.passiveSupported=!1}}return r.passiveSupported}function m(e,n,t,i){e.attachEvent?e.attachEvent("on"+n,t):e.addEventListener(n,t,r()?i:"object"==typeof i?!!i.capture:!!i)}function f(e,n,t,i){e.detachEvent?e.detachEvent("on"+n,t):e.removeEventListener(n,t,r()?i:"object"==typeof i?!!i.capture:!!i)}function x(e,n){return e.classList?e.classList.contains(n):-1!==(" "+e.className+" ").indexOf(" "+n+" ")}function v(e,n){e.classList?e.classList.add(n):-1===(" "+e.className+" ").indexOf(" "+n+" ")&&(e.className=""===e.className?n:e.className+" "+n)}function $(e,n,t){e.style.setProperty?e.style.setProperty(n,t):e.style[n]=t}function w(e){return("function"==typeof window.getComputedStyle?window.getComputedStyle(e,null):e.currentStyle)||{}}function S(e,n,t){return g.min(g.max(e,n),t)}function b(e){return e}function L(e){return e<.5?2*e*e:1-g.pow(2-2*e,2)/2}function N(e){return e<.5?4*e*e*e:1-g.pow(2-2*e,3)/2}function h(e,n,t,i,r){return r?n:e+(n-e)*i(t)}function E(i,e,r,a,o,l){if(!i)return function(){};var s,c,u,p={},d={},m=null,f=!1;for(s in a=a||b,e)if(y.call(e,s))if("style"===s)for(c in p.style={},e.style)y.call(e.style,c)&&(p.style[c]=[parseFloat(i.style[c])||0,parseFloat(e.style[c])||0],i.style[c]?d[c]="%"===i.style[c].slice(-1)?"%":-1!==["px","em","rem","pt","vw","vh"].indexOf(i.style[c].slice(-2))?i.style[c].slice(-2):"":d[c]="");else p[s]=[+i[s]||0,+e[s]||0];return requestAnimationFrame(function e(n){var t=!1,t=f||r<=0?(u=1,!0):(null==m&&(l&&l(i),m=n),u=S((n-m)/r,0,1),r+m<=n);for(s in p)if(y.call(p,s))if("style"===s)for(c in p.style)y.call(p.style,c)&&$(i,c,String(h(p.style[c][0],p.style[c][1],u,a,t))+d[c]);else i[s]=h(p[s][0],p[s][1],u,a,t);t?o&&requestAnimationFrame(function(){o(i)}):requestAnimationFrame(e)}),function(){f=!0}}function P(e,n){return n=n||w(e),g.max(1,parseFloat(n.getPropertyValue("--visible-items"))||0)}function F(e,n){n=n||w(e);e=g.round(P(e,n)),n=g.max(0,parseFloat(n.getPropertyValue("--scroll-by"))||0);return g.min(n=n<=0?e:n,e)}function O(e,n){n=i(e)+a(e,n),e=e.children[0].scrollLeft||0;return{index:g.round(e/n),size:n,scroll:e}}function V(e,n){n=n||w(e);var t=g.round(F(e,n));return t*i(e)+t*a(e,n)}function i(e){return e&&e.children[0].children[0].children.length?e.children[0].children[0].children[0].offsetWidth:0}function a(e,n){return n=n||w(e),g.max(0,parseInt(n.getPropertyValue("--gap"))||0)}function k(e,n){n=n||w(e),$(e,"--_egapnz",0<(parseFloat(n.getPropertyValue("--extra-gap"))||0)?1:0)}function q(e,n){var t,i,r,a,o,l,s,c,u,p,d,m,f,y,v,h;e&&e.children[0]&&x(e.children[0],"minicarousel-viewport")&&(n=n<0?-1:1,d=w(e),(l=e.children[0]).children[0],m=O(e,d),s=(h=e)?h.children[0].children[0].children:[],c=s.length,h=g.round(P(e,d)),u=g.round(F(e,d)),y=e,(y=(v=(v=d)||w(y)).getPropertyValue("--easing"))&&y.length&&(y=y.slice(1,-1).toLowerCase()),p={duration:g.max(0,parseFloat(v.getPropertyValue("--animation"))||0),easing:"cubic"===y?N:"quadratic"===y?L:b,constantSpeed:!parseFloat(v.getPropertyValue("--constant-animation")),withInertia:!!parseFloat(v.getPropertyValue("--inertia-animation"))},y=m.size,m=(v=m.index)*y-(y=m.scroll),f=l.scrollWidth-l.clientWidth-y,d=V(e,d)+(n<0?-m:m),m=n<0?y<d?-y:-d:f<d?f:d,f=g.max(0,y+m),e.$minicarousel.stop&&e.$minicarousel.stop(),e.$minicarousel.index=d=c?n<0?g.max(0,v-u):g.min(v+u,g.max(0,c-h)):0,0<(a=g.abs(d-v))&&a<u&&p.constantSpeed&&(p.duration*=a/u),i=S(v,0,c-1),r=S(v+h-1,0,c-1),o=p.duration/2,e.$minicarousel.stop=E(l,{scrollLeft:f},p.duration,p.easing,function(){if(p.withInertia)for(c=s.length,t=i;t<=r;++t)0<=t&&t<c&&(e=s[t],n="animation",e.style.removeProperty?e.style.removeProperty(n):e.style[n]="");var e,n},function(){if(p.withInertia)if(n<0)for(t=i;t<=r;++t)a=S(100*(r-t),0,o),0<=t&&t<c&&$(s[t],"animation","minicarousel-animation-rev "+String(p.duration-a)+"ms ease "+String(a)+"ms");else for(t=r;i<=t;--t)a=S(100*(t-i),0,o),0<=t&&t<c&&$(s[t],"animation","minicarousel-animation "+String(p.duration-a)+"ms ease "+String(a)+"ms")}))}function C(t){var i,r,n,e,a,o,l,s,c,u=this;if(!(u instanceof C))return new C(t);i=function(e){var n=e.target.closest("a");n&&(x(n,"minicarousel-prev-bt")?(e.preventDefault&&e.preventDefault(),q(n.parentNode,-1)):x(n,"minicarousel-next-bt")&&(e.preventDefault&&e.preventDefault(),q(n.parentNode,1)))},r=function(e){e=e.target.parentNode;e.$minicarousel.index=O(e).index},n=function(e){var n,t,i,r;e.$minicarousel&&(n=w(e),t=e.$minicarousel.index,i=g.round(F(e,n)),r=V(e,n),k(e,n),e.children[0].scrollLeft=g.round(t/i)*r)},l=function(){p.call(t,n)},s=200,c=null,e=function(){var e=this,n=arguments;clearTimeout(c),c=setTimeout(function(){l.apply(e,n)},s)},a=function(e){var n,t;(n=e.querySelector(".minicarousel-prev-bt"))&&e===n.parentNode?(n.$minicarousel&&f(n,"click",n.$minicarousel,{passive:!1,capture:!1}),m(n,"click",n.$minicarousel=i,{passive:!1,capture:!1})):((n=document.createElement("a")).href="#",v(n,"minicarousel-prev-bt"),m(n,"click",n.$minicarousel=i,{passive:!1,capture:!1}),e.appendChild(n)),(t=e.querySelector(".minicarousel-next-bt"))&&e===t.parentNode?(t.$minicarousel&&f(n,"click",t.$minicarousel,{passive:!1,capture:!1}),m(t,"click",t.$minicarousel=i,{passive:!1,capture:!1})):((t=document.createElement("a")).href="#",v(t,"minicarousel-next-bt"),m(t,"click",t.$minicarousel=i,{passive:!1,capture:!1}),e.appendChild(t)),e.children[0]&&(e.children[0].scrollLeft=0),m(e.children[0],"scrollend",r,!1),v(e,"minicarousel-js"),k(e),e.$minicarousel={stop:null,index:0}},o=function(e){var n=e.querySelector(".minicarousel-prev-bt"),t=e.querySelector(".minicarousel-next-bt");n&&e===n.parentNode&&(e.removeChild(n),n.$minicarousel&&f(n,"click",n.$minicarousel,{passive:!1,capture:!1}),n.$minicarousel=null),t&&e===t.parentNode&&(e.removeChild(t),t.$minicarousel&&f(t,"click",t.$minicarousel,{passive:!1,capture:!1}),t.$minicarousel=null),f(e.children[0],"scrollend",r,!1),n="minicarousel-js",(t=e).classList?t.classList.remove(n):t.className=d((" "+t.className+" ").replace(" "+n+" "," ")),e.$minicarousel=null},u.dispose=function(){f(window,"resize",e),p.call(t,o),t=[]},u.add=function(e){return e&&-1===t.indexOf(e)&&(a(e),t.push(e)),u},u.remove=function(e){var n;return e&&-1!==(n=t.indexOf(e))&&(t.splice(n,1),o(e)),u},u.update=function(e){return(e=e||t[0])&&-1!==t.indexOf(e)&&n(e),u},u.goTo=function(e,n){return(e=e||t[0])&&-1!==t.indexOf(e)&&q(e,(+n||0)<0?-1:1),u},t=Array.prototype.slice.call(t||[]),p.call(t,a),m(window,"resize",e)}C.prototype={constructor:C,dispose:null,add:null,remove:null,update:null,goTo:null},C.VERSION="1.2.1",e.Element&&(e.Element.prototype.$minicarousel=null),e.minicarousel=C}("undefined"!=typeof self?self:window);