/**
*  Contemplate
*  Light-weight Template Engine for PHP, Python, Node and client-side JavaScript
*
*  @version: 0.6.8
*  https://github.com/foo123/Contemplate
*
*  @inspired by : Simple JavaScript Templating, John Resig - http://ejohn.org/ - MIT Licensed
*  http://ejohn.org/blog/javascript-micro-templating/
*
**/
!function(e,t,n){"use strict";var r,u="object"==typeof module&&module.exports,i="function"==typeof define&&define.amd;u?module.exports=(module.$deps=module.$deps||{})[t]=module.$deps[t]||n.call(e,{NODE:module})||1:i&&"function"==typeof require&&"function"==typeof require.specified&&require.specified(t)?define(t,["require","exports","module"],function(t,r,u){return n.call(e,{AMD:u})}):t in e||(e[t]=r=n.call(e,{})||1)&&i&&define(t,[],function(){return r})}(this,"Contemplate",function(e,t){"use strict";function n(e,t){var n,r={},u={},i={},o={},l={},a={};if(i[0]="HTML_SPECIALCHARS",i[1]="HTML_ENTITIES",o[0]="ENT_NOQUOTES",o[2]="ENT_COMPAT",o[3]="ENT_QUOTES",l=isNaN(e)?e?e.toUpperCase():"HTML_SPECIALCHARS":i[e],a=isNaN(t)?t?t.toUpperCase():"ENT_COMPAT":o[t],"HTML_SPECIALCHARS"!==l&&"HTML_ENTITIES"!==l)throw new Error("Table: "+l+" not supported");r[38]="&amp;","HTML_ENTITIES"===l&&(r[160]="&nbsp;",r[161]="&iexcl;",r[162]="&cent;",r[163]="&pound;",r[164]="&curren;",r[165]="&yen;",r[166]="&brvbar;",r[167]="&sect;",r[168]="&uml;",r[169]="&copy;",r[170]="&ordf;",r[171]="&laquo;",r[172]="&not;",r[173]="&shy;",r[174]="&reg;",r[175]="&macr;",r[176]="&deg;",r[177]="&plusmn;",r[178]="&sup2;",r[179]="&sup3;",r[180]="&acute;",r[181]="&micro;",r[182]="&para;",r[183]="&middot;",r[184]="&cedil;",r[185]="&sup1;",r[186]="&ordm;",r[187]="&raquo;",r[188]="&frac14;",r[189]="&frac12;",r[190]="&frac34;",r[191]="&iquest;",r[192]="&Agrave;",r[193]="&Aacute;",r[194]="&Acirc;",r[195]="&Atilde;",r[196]="&Auml;",r[197]="&Aring;",r[198]="&AElig;",r[199]="&Ccedil;",r[200]="&Egrave;",r[201]="&Eacute;",r[202]="&Ecirc;",r[203]="&Euml;",r[204]="&Igrave;",r[205]="&Iacute;",r[206]="&Icirc;",r[207]="&Iuml;",r[208]="&ETH;",r[209]="&Ntilde;",r[210]="&Ograve;",r[211]="&Oacute;",r[212]="&Ocirc;",r[213]="&Otilde;",r[214]="&Ouml;",r[215]="&times;",r[216]="&Oslash;",r[217]="&Ugrave;",r[218]="&Uacute;",r[219]="&Ucirc;",r[220]="&Uuml;",r[221]="&Yacute;",r[222]="&THORN;",r[223]="&szlig;",r[224]="&agrave;",r[225]="&aacute;",r[226]="&acirc;",r[227]="&atilde;",r[228]="&auml;",r[229]="&aring;",r[230]="&aelig;",r[231]="&ccedil;",r[232]="&egrave;",r[233]="&eacute;",r[234]="&ecirc;",r[235]="&euml;",r[236]="&igrave;",r[237]="&iacute;",r[238]="&icirc;",r[239]="&iuml;",r[240]="&eth;",r[241]="&ntilde;",r[242]="&ograve;",r[243]="&oacute;",r[244]="&ocirc;",r[245]="&otilde;",r[246]="&ouml;",r[247]="&divide;",r[248]="&oslash;",r[249]="&ugrave;",r[250]="&uacute;",r[251]="&ucirc;",r[252]="&uuml;",r[253]="&yacute;",r[254]="&thorn;",r[255]="&yuml;"),"ENT_NOQUOTES"!==a&&(r[34]="&quot;"),"ENT_QUOTES"===a&&(r[39]="&#39;"),r[60]="&lt;",r[62]="&gt;";for(n in r)r.hasOwnProperty(n)&&(u[String.fromCharCode(n)]=r[n]);return u}function r(e,t,r,u){var i=n("HTML_ENTITIES",t),o="";if(e=null==e?"":e+"",!i)return!1;if(t&&"ENT_QUOTES"===t&&(i["'"]="&#039;"),u||null==u)for(o in i)i.hasOwnProperty(o)&&(e=e.split(o).join(i[o]));else e=e.replace(/([\s\S]*?)(&(?:#\d+|#x[\da-f]+|[a-zA-Z][\da-z]*);|$)/g,function(e,t,n){for(o in i)i.hasOwnProperty(o)&&(t=t.split(o).join(i[o]));return t+n});return e}function u(e){return e=(e+"").toString(),encodeURIComponent(e).replace(/!/g,"%21").replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A").replace(/%20/g,"+")}function i(e,t){var n,r=0;if(null===e||"undefined"==typeof e)return 0;if(e.constructor!==Array&&e.constructor!==Object)return 1;"COUNT_RECURSIVE"===t&&(t=1),1!=t&&(t=0);for(n in e)e.hasOwnProperty(n)&&(r++,1!=t||!e[n]||e[n].constructor!==Array&&e[n].constructor!==Object||(r+=i(e[n],1)));return r}function o(e){var t,n=function(e){var t=/\W*function\s+([\w\$]+)\s*\(/.exec(e);return t?t[1]:"(Anonymous)"},r=function(e){if(!e||"object"!=typeof e||"number"!=typeof e.length)return!1;var t=e.length;return e[e.length]="bogus",t!==e.length?(e.length-=1,!0):(delete e[e.length],!1)};return e&&"object"==typeof e?(t=null,r(e)||(!t||0!==parseInt(t.local_value,10)&&(!t.local_value.toLowerCase||"off"!==t.local_value.toLowerCase()))&&"[object Object]"===Object.prototype.toString.call(e)&&"Object"===n(e.constructor)):!1}function l(e){var t,n={};if(e&&"object"==typeof e&&e.change_key_case)return e.flip();for(t in e)e.hasOwnProperty(t)&&(n[e[t]]=t);return n}function a(){var e=/%%|%(\d+\$)?([-+\'#0 ]*)(\*\d+\$|\*|\d+)?(\.(\*\d+\$|\*|\d+))?([scboxXuideEfFgG])/g,t=arguments,n=0,r=t[n++],u=function(e,t,n,r){n||(n=" ");var u=e.length>=t?"":Array(1+t-e.length>>>0).join(n);return r?e+u:u+e},i=function(e,t,n,r,i,o){var l=r-e.length;return l>0&&(e=n||!i?u(e,r,o,n):e.slice(0,t.length)+u("",l,"0",!0)+e.slice(t.length)),e},o=function(e,t,n,r,o,l,a){var s=e>>>0;return n=n&&s&&{2:"0b",8:"0",16:"0x"}[t]||"",e=n+u(s.toString(t),l||0,"0",!1),i(e,n,r,o,a)},l=function(e,t,n,r,u,o){return null!=r&&(e=e.slice(0,r)),i(e,"",t,n,u,o)},a=function(e,r,a,s,c,f,d){var p,_,g,h,m;if("%%"==e)return"%";for(var v=!1,O="",E=!1,C=!1,b=" ",T=a.length,A=0;a&&T>A;A++)switch(a.charAt(A)){case" ":O=" ";break;case"+":O="+";break;case"-":v=!0;break;case"'":b=a.charAt(A+1);break;case"0":E=!0;break;case"#":C=!0}if(s=s?"*"==s?+t[n++]:"*"==s.charAt(0)?+t[s.slice(1,-1)]:+s:0,0>s&&(s=-s,v=!0),!isFinite(s))throw new Error("sprintf: (minimum-)width must be finite");switch(f=f?"*"==f?+t[n++]:"*"==f.charAt(0)?+t[f.slice(1,-1)]:+f:"fFeE".indexOf(d)>-1?6:"d"==d?0:void 0,m=r?t[r.slice(0,-1)]:t[n++],d){case"s":return l(String(m),v,s,f,E,b);case"c":return l(String.fromCharCode(+m),v,s,f,E);case"b":return o(m,2,C,v,s,f,E);case"o":return o(m,8,C,v,s,f,E);case"x":return o(m,16,C,v,s,f,E);case"X":return o(m,16,C,v,s,f,E).toUpperCase();case"u":return o(m,10,C,v,s,f,E);case"i":case"d":return p=+m||0,p=Math.round(p-p%1),_=0>p?"-":O,m=_+u(String(Math.abs(p)),f,"0",!1),i(m,_,v,s,E);case"e":case"E":case"f":case"F":case"g":case"G":return p=+m,_=0>p?"-":O,g=["toExponential","toFixed","toPrecision"]["efg".indexOf(d.toLowerCase())],h=["toString","toUpperCase"]["eEfFgG".indexOf(d)%2],m=_+Math.abs(p)[g](f),i(m,_,v,s,E)[h]();default:return e}};return r.replace(e,a)}function s(e,t){t=t?(t+"").replace(/([\[\]\(\)\.\?\/\*\{\}\+\$\^\:])/g,"$1"):" \\s ";var n=new RegExp("^["+t+"]+","g");return(e+"").replace(n,"")}function c(e,t){t=t?(t+"").replace(/([\[\]\(\)\.\?\/\*\{\}\+\$\^\:])/g,"\\$1"):" \\s ";var n=new RegExp("["+t+"]+$","g");return(e+"").replace(n,"")}function f(e,t){var n,r=0,u=0;for(e+="",t?(t+="",n=t.replace(/([\[\]\(\)\.\?\/\*\{\}\+\$\^\:])/g,"$1")):n=" \n\r	\f            ​\u2028\u2029　",r=e.length,u=0;r>u;u++)if(-1===n.indexOf(e.charAt(u))){e=e.substring(u);break}for(r=e.length,u=r-1;u>=0;u--)if(-1===n.indexOf(e.charAt(u))){e=e.substring(0,u+1);break}return-1===n.indexOf(e.charAt(0))?e:""}function d(){return Math.floor((new Date).getTime()/1e3)}function p(e,t){var n,r,u,i=/\\?([a-z])/gi,o=function(e,t){return e=e.toString(),e.length<t?o("0"+e,t,"0"):e},l=["Sun","Mon","Tues","Wednes","Thurs","Fri","Satur","January","February","March","April","May","June","July","August","September","October","November","December"];u=function(e,t){return r[e]?r[e]():t},r={d:function(){return o(r.j(),2)},D:function(){return r.l().slice(0,3)},j:function(){return n.getDate()},l:function(){return l[r.w()]+"day"},N:function(){return r.w()||7},S:function(){var e=r.j();return 4>e|e>20&&(["st","nd","rd"][e%10-1]||"th")},w:function(){return n.getDay()},z:function(){var e=new Date(r.Y(),r.n()-1,r.j()),t=new Date(r.Y(),0,1);return Math.round((e-t)/864e5)},W:function(){var e=new Date(r.Y(),r.n()-1,r.j()-r.N()+3),t=new Date(e.getFullYear(),0,4);return o(1+Math.round((e-t)/864e5/7),2)},F:function(){return l[6+r.n()]},m:function(){return o(r.n(),2)},M:function(){return r.F().slice(0,3)},n:function(){return n.getMonth()+1},t:function(){return new Date(r.Y(),r.n(),0).getDate()},L:function(){var e=r.Y();return e%4===0&e%100!==0|e%400===0},o:function(){var e=r.n(),t=r.W(),n=r.Y();return n+(12===e&&9>t?1:1===e&&t>9?-1:0)},Y:function(){return n.getFullYear()},y:function(){return r.Y().toString().slice(-2)},a:function(){return n.getHours()>11?"pm":"am"},A:function(){return r.a().toUpperCase()},B:function(){var e=3600*n.getUTCHours(),t=60*n.getUTCMinutes(),r=n.getUTCSeconds();return o(Math.floor((e+t+r+3600)/86.4)%1e3,3)},g:function(){return r.G()%12||12},G:function(){return n.getHours()},h:function(){return o(r.g(),2)},H:function(){return o(r.G(),2)},i:function(){return o(n.getMinutes(),2)},s:function(){return o(n.getSeconds(),2)},u:function(){return o(1e3*n.getMilliseconds(),6)},e:function(){throw"Not supported (see source code of date() for timezone on how to add support)"},I:function(){var e=new Date(r.Y(),0),t=Date.UTC(r.Y(),0),n=new Date(r.Y(),6),u=Date.UTC(r.Y(),6);return e-t!==n-u?1:0},O:function(){var e=n.getTimezoneOffset(),t=Math.abs(e);return(e>0?"-":"+")+o(100*Math.floor(t/60)+t%60,4)},P:function(){var e=r.O();return e.substr(0,3)+":"+e.substr(3,2)},T:function(){return"UTC"},Z:function(){return 60*-n.getTimezoneOffset()},c:function(){return"Y-m-d\\TH:i:sP".replace(i,u)},r:function(){return"D, d M Y H:i:s O".replace(i,u)},U:function(){return n/1e3|0}};var a=function(e,t){return n=void 0===t?new Date:new Date(t instanceof Date?t:1e3*t),e.replace(i,u)};return a(e,t)}function _(e,t,n){for(var r=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sun","Mon","Tues","Wednes","Thurs","Fri","Satur","January","February","March","April","May","June","July","August","September","October","November","December","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],u=p(t,n),i=0,o=r.length;o>i;i++)e[r[i]]&&(u=u.replace(r[i],e[r[i]]));return u}var g,h="0.6.8",m=Object,v=Array,O=String,E=Function,C=m.keys,b=parseInt,T=parseFloat,A=m.prototype,y=v.prototype,S=E.prototype,w=S.call.bind(A.toString),D=S.call.bind(A.hasOwnProperty),N=S.call.bind(y.slice),j="undefined"!=typeof global&&"[object global]"===w(global),M=function(e){return e instanceof v||"[object Array]"===w(e)},x=j?require("fs"):null,I=x?x.writeFileSync:null,L=x?x.readFileSync:null,k=x?x.existsSync:null,U=x?x.statSync:null,K=(x?x.realpathSync:null,x?x.writeFile:null),H=x?x.readFile:null,R=(x?x.exists:null,x?x.stat:null,x?x.realpath:null,function(e,t,n,r){var u;return u=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),r?(u.onload=function(){r(200===u.status?u.responseText:"")},u.open(e,t,!0),u.send(n),""):(u.open(e,t,!1),u.send(n),200===u.status?u.responseText:"")}),F=!1,P={},B={},$=!1,q=0,G="./",Y={},z={},V={},J={},W="<%",X="%>",Z="",Q="",et="",tt="' + \"\\n\" + '",nt="",rt=j?require("os").EOL:"\n",ut=!0,it=null,ot=0,lt="    ",at=0,st=0,ct=0,ft=0,dt=2,pt=null,_t=null,gt=null,ht=null,mt=null,vt=-1,Ot=null,Et=0,Ct=/[ -]/g,bt=/\n\r|\r\n|\n|\r/g,Tt=/^[a-zA-Z_]/,At=/^[0-9]/,yt=/^[a-zA-Z0-9_]/i,St=/^\s/,wt={specials:null,replacements:null,functions:null,controls:null,controls2:null},Dt=["include","template","extends","endblock","block","elsefor","endfor","for","set","unset","isset","elseif","else","endif","if"],Nt=["htmlselect","htmltable","plugin_([a-zA-Z0-9_]+)","haskey","lowercase","uppercase","camelcase","snakecase","pluralise","concat","ltrim","rtrim","trim","sprintf","addslashes","stripslashes","tpl","uuid","html","url","count","ldate","date","now","locale","dq","q","l","s","n","f"],jt={},Mt=function(){st=0,ct=0,ft=0,dt=2,ot=0,pt=[],_t={},gt=[[null,-1]],Ot=null},xt=function(){it.push([st,ct,ft,dt,ot,pt,_t,gt,Ot])},It=function(){var e=it.pop();st=e[0],ct=e[1],ft=e[2],dt=e[3],ot=e[4],pt=e[5],_t=e[6],gt=e[7],Ot=e[8]},Lt=function(){return N(arguments).join(rt)},kt=function(e,t){if(2>arguments.length&&(t=ot),t>=0){t=0===t?t:t+1;var n,r,u=new v(t).join(lt);for(e=e.split(bt),r=e.length,n=0;r>n;n++)e[n]=u+e[n];return e.join(rt)}return e},Ut=function(){var e=N(arguments);if(!(e.length<1)){var t,n,r,u=e.shift(),i=e.length;for(t=0;i>t;t++)if(r=e[t])for(n in r)D(r,n)&&(u[n]=r[n]);return u}},Kt=function(e,t){var n,r;if(t)r=f(t).split(" "),W=f(r[0]),X=f(r[1]);else{for(n=e.split("\n");n.length&&!f(n[0]).length;)n.shift();n.length&&(r=f(n.shift()).split(" "),W=f(r[0]),X=f(r[1])),e=n.join("\n")}return e},Ht=function(e,t){return J[e]?$&&t?(t(J[e]),""):J[e]:z[e]?j&&x?$&&t?(H(z[e],{encoding:g.ENCODING},function(e,n){t(e?"":n)}),""):L(z[e],{encoding:g.ENCODING}):"#"===z[e].charAt(0)?$&&t?(t(window.document.getElementById(z[e].substring(1)).innerHTML||""),""):window.document.getElementById(z[e].substring(1)).innerHTML||"":$&&t?(R("GET",z[e],null,t),""):R("GET",z[e]):""},Rt=function(e){return' ("undefined" !== typeof('+e+")) "},Ft=function(e){e=e.split(",");var t=f(e.shift()),n=f(e.join(","));return"';"+rt+kt(t+" = ("+n+");")+rt},Pt=function(e){return e&&e.length?(e=f(e),"';"+rt+kt('if ("undefined" !== typeof('+e+")) delete "+e+";")+rt):"'; "+rt},Bt=function(e){var t="';"+kt(mn({IFCOND:e}));return ct++,ot++,t},$t=function(e){ot--;var t="';"+kt(vn({ELIFCOND:e}));return ot++,t},qt=function(){ot--;var e="';"+kt(On());return ot++,e},Gt=function(){ct--,ot--;var e="';"+kt(En());return e},Yt=function(e){e=e.split(" as ");var t,n=f(e[0]),r="_O"+ ++at,u=e[1].split("=>"),i=u.length>=2;if(i){var o=f(u[0])+"__RAW__",l=f(u[1])+"__RAW__",a="_OK"+ ++at,s="_K"+ ++at,c="_L"+ ++at,d="_V"+ ++at;t="';"+kt(Cn({O:n,_O:r,_OK:a,K:o,_K:s,_L:c,V:l,_V:d,ASSIGN1:"data['"+o+"'] = "+a+"["+s+"]; data['"+l+"'] = "+d+" = "+r+"["+a+"["+s+"]];"},2)),dt=2,ot+=2}else{var l=f(u[0])+"__RAW__",s="_K"+ ++at,c="_L"+ ++at,d="_V"+ ++at;t="';"+kt(Cn({O:n,_O:r,_K:s,_L:c,V:l,_V:d,ASSIGN1:"data['"+l+"'] = "+d+" = "+r+"["+s+"];"},1)),dt=1,ot+=2}return st++,ft++,t},zt=function(){var e;return 2===dt?(ft--,ot+=-2,e="';"+kt(bn(null,2)),ot+=1):(ft--,ot+=-2,e="';"+kt(bn(null,1)),ot+=1),e},Vt=function(){var e;return ft===st?2===dt?(st--,ft--,ot+=-2,e="';"+kt(Tn(null,3))):(st--,ft--,ot+=-2,e="';"+kt(Tn(null,2))):(st--,ot+=-1,e="';"+kt(Tn(null,1))),e},Jt=function(e){return V[e]||(xt(),Mt(),V[e]=" "+ln(Kt(Ht(e)),!1)+"'; "+rt,It()),kt(V[e])},Wt=function(e){e=e.split(",");var t=f(e.shift()),n=e.join(",");return"' + %tpl( \""+t+'", '+n+" ); "+rt},Xt=function(e){return Ot=f(e),"'; "+rt},Zt=function(e){return e=f(e),pt.push([e,-1,-1,0,gt[0][1]]),_t[e]=_t[e]?_t[e]+1:1,vt=pt.length,gt.unshift([e,vt-1]),ht=e,mt=null,"' +  __||"+e+"||__"},Qt=function(){if(1<gt.length){var e=gt.shift();return mt=e[0],vt=e[1]+1,ht=null,"__||/"+e[0]+"||__"}return""},en=function(e,t,n){var r,u,i,o,l;for(r=e.split(t),u=r.length,i=[],o=0;u>o;o++)l=r[o].split(n),i.push(l[0]),l.length>1&&i.push(l[1]);return i},tn=function(e,t,n){if(t)switch(n=n||"",t){case"isset":return n=n.replace(wt.controls2,tn),Rt(n);case"set":return n=n.replace(wt.controls2,tn),Ft(n);case"unset":return n=n.replace(wt.controls2,tn),Pt(n);case"if":return n=n.replace(wt.controls2,tn),Bt(n);case"elseif":return n=n.replace(wt.controls2,tn),$t(n);case"else":return qt(n);case"endif":return Gt(n);case"for":return n=n.replace(wt.controls2,tn),Yt(n);case"elsefor":return zt(n);case"endfor":return Vt(n);case"extends":return Xt(n);case"block":return Zt(n);case"endblock":return Qt(n);case"template":return n=n.replace(wt.controls2,tn),Wt(n);case"include":return Jt(n)}return e},nn=function(e){for(var t,n,r,u,i,o,l,a,s,c,f=[],d=pt.length;d--;)n=pt[d],t=n[0],l=n[1],a=n[2],s=n[3],c=n[4],r="__||"+t+"||__",u="__i__.renderBlock( '"+t+"' ); ",i=r.length,o=u.length,c>-1&&(pt[c][3]+=o-(a-l+1)),a+=s,1===_t[t]&&f.push([t,hn({BLOCKCODE:e.slice(l+i,a-i-1)+"';"})]),e=e.slice(0,l)+u+e.slice(a+1),1<=_t[t]&&_t[t]--;return pt=null,_t=null,gt=null,[e,f]},rn=function(e,t,n,r){for(var u=t,i=!1,o="";r>n&&(o=e[n++],u+=o,t!==o||i);)i=!i&&"\\"===o;return u},un=function(e,t,n,r){if(r=r||"VARSTR",Tt.test(e[t])){var u,i,o,l,a,s,c,f,d,p,_,g=0,h={},m=[],v=0;for(i=e[t++];n>t&&yt.test(e[t]);)i+=e[t++];for(l=i,i="data['"+i+"']",a=l.length,v=0;n>t&&St.test(e[t]);)v++,t++;for(c=0;n>t&&("."===e[t]||"["===e[t]);){for(f=e[t++];n>t&&St.test(e[t]);)v++,t++;if("."===f){for(o="";n>t&&yt.test(e[t]);)o+=e[t++];if(s=o.length,!s)break;i+="['"+o+"']",a+=v+1+s,v=0}else if("["===f){if(c++,d=e[t],'"'===d||"'"===d)o=rn(e,d,t+1,n),g++,p="__##"+r+g+"##__",h[p]=o,i+=f+p,s=o.length,t+=s,a+=v+1+s,v=0;else if(At.test(d)){for(o=e[t++];n>t&&At.test(e[t]);)o+=e[t++];i+=f+o,s=o.length,a+=v+1+s,v=0}else if("$"===d)_=e.slice(t+1),u=un(_,0,_.length,r+"_"+g+"_"),u&&(o=u[u.length-1],i+=f+o[0][0],s=o[1],t+=s+1,a+=v+2+s,v=0,m=m.concat(u));else{if("]"!==d)break;if(!(c>0))break;c--,i+=f+e[t++],a+=v+2,v=0}for(;n>t&&St.test(e[t]);)v++,t++;if("]"===e[t]){if(!(c>0))break;c--,i+=e[t++],a+=v+1,v=0}}for(;n>t&&St.test(e[t]);)v++,t++}return m.push([[i,l],a,h]),m}return null},on=function(e,t,n){return n&&jt[n]?"Contemplate.plugin_"+n:"Contemplate."+t},ln=function(e,t){var n,r,u,i,o,l,a,s,c,f,d,p,_,h,m,v,O,E;for(n=en(e,W,X),r=n.length,l=!1,u="",o=0;r>o;o++){if(i=n[o],l){for(a="	"+i.replace(wt.specials," ")+"",d=a.length,c={},s={},p=0,_="",h="",m=0;d>p;)if(_=a[p++],'"'===_||"'"===_)v=rn(a,_,p,d),m++,f="__##STR"+m+"##__",s[f]=v,h+=f,p+=v.length-1;else if("$"===_)if(v=un(a,p,d)){for(O=0;O<v.length;O++)E=v[O],m++,f="__##VAR"+m+"##__",c[f]=E[0],s=g.merge(s,E[2]);h+=f,p+=E[1]}else h+="$";else h+=_;a=h,ht=null,mt=null,vt=-1,a=a.replace(wt.controls,tn).replace(wt.functions,on).replace(wt.replacements,"' + ( $1 ) + '");for(f in c)a=a.split(f+"__RAW__").join(c[f][1]),a=a.split(f).join(c[f][0]);for(f in s)a=a.split(f).join(s[f]);i=a.split("	").join(Z).split("").join(kt(Q)),ht?(ht="__||"+ht+"||__",pt[vt-1][1]=u.length+a.indexOf(ht)):mt&&(mt="__||/"+mt+"||__",pt[vt-1][2]=u.length+a.indexOf(mt)+mt.length),l=!1}else ut&&(i=i.split("\\").join("\\\\")),i=i.split("'").join("\\'").split(/\n/).join(nt),l=!0;u+=i}return!1!==t?nn(u):u},an=function(e){return G+e.replace(Ct,"_")+"_tpl.js"},sn=function(e){return"Contemplate_"+e.replace(Ct,"_")+"_Cached"},cn=function(e,t){Mt();var n,r,u,i,o=ln(Kt(Ht(e),t)),l={};for(i=o[0],o=o[1],r=o.length,u=Ot?An(null,1):An({FCODE:"__p__ += '"+i+"';"},2),n=0;r>n;n++)l[o[n][0]]=new E("Contemplate,__i__",o[n][1]);return[new E("Contemplate,__i__",u),l]},fn=function(e,t,n,r){Mt();var u,i,o,l,a,s,c,f=ln(Kt(Ht(e),r));for(c=f[0],f=f[1],a=f.length,s=[],l=0;a>l;l++)s.push(rt+gn({BLOCKNAME:f[l][0],BLOCKMETHODNAME:f[l][0],BLOCKMETHODCODE:kt(f[l][1],1)}));s=s.length?rt+"_blocks = { "+rt+kt(s.join(","+rt),1)+rt+"};"+rt:"",Ot?(i="this.extend( '"+Ot+"' );",o=yn(null,1)):(i="",o=yn({RCODE:"__p__ += '"+c+"';"},2)),u=et?et:"";var d=_n({CLASSNAME:n,TPLID:e,PREFIXCODE:u,EXTENDCODE:kt(i,2),BLOCKS:kt(s,2),RENDERCODE:kt(o,4)});return pn(t,d)},dn=function(e,t){if(J[e]){var n,r;return t.parsed?r=Sn(g,e,new E("Contemplate,__i__",t.parsed)):(n=cn(e,t.separators),r=Sn(g,e,n[0]).setBlocks(n[1])),Ot&&r.extend(g.tpl(Ot)),r}if(j||(q=g.CACHE_TO_DISK_NONE),!0!==t.autoUpdate&&g.CACHE_TO_DISK_NOUPDATE===q){var u=an(e),i=sn(e);if(k(u)||fn(e,u,i,t.separators),k(u)){var o=require(u)(g),r=(new o).setId(e);return r}return null}if(!0===t.autoUpdate||g.CACHE_TO_DISK_AUTOUPDATE===q){var u=an(e),i=sn(e);if(k(u)){var l=U(u),a=U(z[e]);l.mtime.getTime()<=a.mtime.getTime()&&fn(e,u,i,t.separators)}else fn(e,u,i,t.separators);if(k(u)){var o=require(u)(g),r=(new o).setId(e);return r}return null}var n=cn(e,t.separators),r=Sn(g,e,n[0]).setBlocks(n[1]);return Ot&&r.extend(g.tpl(Ot)),r},pn=function(e,t,n){return n?void K(e,t,{encoding:g.ENCODING},function(e){n(!e)}):I(e,t,{encoding:g.ENCODING})},_n=function(e){var t=Lt;return[e.PREFIXCODE,t("","!function (root, moduleName, moduleDefinition) {","","    //","    // export the module","","    // node, CommonJS, etc..","    if ( 'object' === typeof(module) && module.exports ) module.exports = moduleDefinition();","","    // AMD, etc..","    else if ( 'function' === typeof(define) && define.amd ) define( moduleDefinition );","","    // browser, etc..","    else root[ moduleName ] = moduleDefinition();","","","}(this, '"),e.CLASSNAME,t("', function( ) {",'    "use strict";',"    return function( Contemplate ) {","    /* Contemplate cached template '"),e.TPLID,t("' */","    /* quasi extends main Contemplate class */","    ","    var Contemplate_tpl = Contemplate.tpl;","    ","    /* constructor */","    function "),e.CLASSNAME,t("(id)","    {","        /* initialize internal vars */","        var _extends = null, _blocks = null;","        ","        this.id = id;","        this.d = null;","        ","        ","        /* tpl-defined blocks render code starts here */",""),e.BLOCKS,t("","        /* tpl-defined blocks render code ends here */","        ","        /* template methods */","        ","        this.setId = function(id) {","            if ( id ) this.id = id;","            return this;","        };","        ","        this.extend = function(tpl) {","            if ( tpl && tpl.substr )","                _extends = Contemplate_tpl( tpl );","            else","                _extends = tpl;","            return this;","        };","        ","        /* render a tpl block method */","        this.renderBlock = function(block, __i__) {","            if ( !__i__ ) __i__ = this;","            if ( _blocks && _blocks[block] ) return _blocks[block](__i__);","            else if ( _extends ) return _extends.renderBlock(block, __i__);","            return '';","        };","        ","        /* tpl render method */","        this.render = function(data, __i__) {","            if ( !__i__ ) __i__ = this;","            var __p__ = '';","            if ( _extends )","            {","                __p__ = _extends.render(data, __i__);","            }","            else","            {","                /* tpl main render code starts here */",""),e.RENDERCODE,t("","                /* tpl main render code ends here */","            }","            this.d = null;","            return __p__;","        };","        ","        /* extend tpl assign code starts here */",""),e.EXTENDCODE,t("","        /* extend tpl assign code ends here */","    };","    ","    ","    // export it","    return "),e.CLASSNAME,t(";","    };","});","")].join("")},gn=function(e){var t=Lt;return[t("","/* tpl block render method for block '"),e.BLOCKNAME,t("' */","'"),e.BLOCKMETHODNAME,t("': function(__i__) {",""),e.BLOCKMETHODCODE,t("","}","")].join("")},hn=function(e){var t=Lt;return[t("","var __p__ = '', data = __i__.d;",""),e.BLOCKCODE,t("","return __p__;","")].join("")},mn=function(e){var t=Lt;return[t("","if ("),e.IFCOND,t(")","{","")].join("")},vn=function(e){var t=Lt;return[t("","}","else if ("),e.ELIFCOND,t(")","{","")].join("")},On=function(){var e=Lt;return e("","}","else","{","")},En=function(){var e=Lt;return e("","}","")},Cn=function(e,t){var n=Lt;return 2===t?[n("","var "),e._O," = ",e.O,", ",e._OK," = Contemplate.keys(",e._O,n(");","if ("),e._OK," && ",e._OK,n(".length)","{","    var "),e._K,", ",e._V,", ",e._L," = ",e._OK,".length",n(";","    for ("),e._K,"=0; ",e._K,"<",e._L,"; ",e._K,n("++)","    {","        "),e.ASSIGN1,n("","        ","")].join(""):[n("","var "),e._O," = Contemplate.values(",e.O,n(");","if ("),e._O," && ",e._O,n(".length)","{","    var "),e._K,", ",e._V,", ",e._L," = ",e._O,".length",n(";","    for ("),e._K,"=0; ",e._K,"<",e._L,"; ",e._K,n("++)","    {","        "),e.ASSIGN1,n("","        ","")].join("")},bn=function(e,t){var n=Lt;return 2===t?n("","    }","}","else","{  ",""):n("","    }","}","else","{  ","")},Tn=function(e,t){var n=Lt;return 3===t?n("","    }","}",""):2===t?n("","    }","}",""):n("","}","")},An=function(e,t){var n=Lt;return 1===t?"return '';":[n("","var __p__ = '', data = __i__.d;",""),e.FCODE,n("","return __p__;","")].join("")},yn=function(e,t){var n=Lt;return 1===t?"__p__ = '';":[n("","__i__.d = data;",""),e.RCODE,n("","")].join("")},Sn=function(e,t,n){var r=e.tpl,u=e.merge,i=function(t,n){var i=null,o=null,l=null;this.id=null,this.d=null,t&&(this.id=t,i=n),this.setId=function(e){return e&&(this.id=e),this},this.extend=function(e){return o=e&&e.substr?r(e):e,this},this.setRenderFunction=function(e){return i=e,this},this.setBlocks=function(e){return l||(l={}),l=u(l,e),this},this.renderBlock=function(t,n){return n||(n=this),l&&l[t]?l[t](e,n):o?o.renderBlock(t,n):""},this.render=function(t,n){var r="";return n||(n=this),o?r=o.render(t,n):i&&(n.d=t,r=i(e,n)),this.d=null,r}};return new i(t,n)};return g={VERSION:h,CACHE_TO_DISK_NONE:0,CACHE_TO_DISK_AUTOUPDATE:2,CACHE_TO_DISK_NOUPDATE:4,ENCODING:"utf8",init:function(){F||(it=[],wt.specials=new RegExp("[\\n\\r\\v\\t]","g"),wt.replacements=new RegExp("\\t[ ]*(.*?)[ ]*\\v","g"),wt.controls=new RegExp("\\t[ ]*%("+Dt.join("|")+")\\b[ ]*\\((.*)\\)","g"),wt.controls2=new RegExp("%("+Dt.join("|")+")\\b[ ]*\\((.*)\\)","g"),wt.functions=new RegExp("%("+Nt.join("|")+")\\b","g"),nt=tt,Z="'; "+rt,Q=rt+"__p__ += '",F=!0)},addPlugin:function(e,t){e&&t&&(jt[e]=!0,g["plugin_"+e]=t)},setPrefixCode:function(e){e&&(et=""+e)},setLocaleStrings:function(e){P=g.merge(P,e)},clearLocaleStrings:function(){P={}},setPlurals:function(e){if(e){for(var t in e)null==e[t]&&(e[t]=t+"s");B=g.merge(B,e)}},clearPlurals:function(){B={}},setTemplateSeparators:function(e){e&&(e.left&&(W=""+e.left),e.right&&(X=""+e.right))},setPreserveLines:function(e){arguments.length<1&&(e=!0),nt=e?tt:""},setCacheDir:function(e){G=c(e,"/")+"/"},setCacheMode:function(e){q=j?e:g.CACHE_TO_DISK_NONE},setSyncMode:function(e){$=!e},clearCache:function(e){Y={},e&&(V={})},add:function(e,t){if("object"==typeof e){for(var n in e)M(e[n])&&(e[n][0]&&(J[n]=e[n][0]),delete e[n]);z=g.merge(z,e)}else e&&t&&(z[e]=t)},addInline:function(e,t){"object"==typeof e?J=g.merge(J,e):e&&t&&(J[e]=t)},parseTpl:function(e,t){var n,r,u=t&&t.separators?t.separators:null;return u&&(n=[W,X],W=u[0],X=u[1]),Mt(),r=ln(e),u&&(W=n[0],X=n[1]),r},tpl:function(e,t,n){n=Ut({autoUpdate:!1,refresh:!1,escape:!0,separators:null},n),ut=!1!==n.escape,(n.refresh||!Y[e])&&(Y[e]=dn(e,n));var r=Y[e];return t&&"object"==typeof t?r.render(t):r},html:function(e){return r(e,"ENT_COMPAT","UTF-8")},url:u,count:i,haskey:function(e){var n=w(e);if(!e||"[object Array]"!=n&&"[object Object]"!=n)return!1;var r,u,i,o=N(arguments);for(o.shift(),r=o.length,i=e,u=0;r>u;u++){if(t===i[o[u]])return!1;i=i[o[u]]}return!0},q:function(e){return"'"+e+"'"},dq:function(e){return'"'+e+'"'},s:function(e){return O(e)},n:function(e){return b(e,10)},f:function(e){return T(e,10)},addslashes:function(e){return(e+"").replace(/[\\"']/g,"\\$&").replace(/\u0000/g,"\\0")},stripslashes:function(e){return(e+"").replace(/\\(.?)/g,function(e,t){switch(t){case"\\":return"\\";case"0":return"\x00";case"":return"";default:return t}})},concat:function(){return N(arguments).join("")},trim:f,ltrim:s,rtrim:c,ucfirst:function(e){return e[0].toUpperCase()+e.substr(1)},lcfirst:function(e){return e[0].toLowerCase()+e.substr(1)},lowercase:function(e){return e.toLowerCase()},uppercase:function(e){return e.toUpperCase()},camelcase:function(e,t,n){return t=t||"_",n?e.split(t).map(g.ucfirst).join(""):g.lcfirst(e.split(t).map(g.ucfirst).join(""))},snakecase:function(e,t){return t=t||"_",e.replace(/([A-Z])/g,t+"$1").toLowerCase()},sprintf:a,time:d,date:function(e,t){return t||(t=d()),p(e,t)},ldate:function(e,t){return t||(t=d()),_(P,e,t)},locale:function(e){return D(P,e)?P[e]:e},pluralise:function(e,t){return B[e]&&1!==t?B[e]:e},uuid:function(e){return[e||"UUID",++Et,d()].join("_")},htmltable:function(e,t){e=g.merge({},e),t=g.merge({},t||{});var n,r,u,i,l,a,s,c,f,d="",p="",_="",h="",m=[],O=!1;if(d="<table",t.id&&(d+=" id='"+t.id+"'"),t["class"]&&(d+=" class='"+t["class"]+"'"),t.style&&(d+=" style='"+t.style+"'"),t.data)for(n in t.data)g.hasOwn(t.data,n)&&(d+=" data-"+n+"='"+t.data[n]+"'");d+=">",p="",(t.header||t.footer)&&(p="<td>"+(g.keys(e)||[]).join("</td><td>")+"</td>"),_="",t.header&&(_="<thead><tr>"+p+"</tr></thead>"),h="",t.footer&&(h="<tfoot><tr>"+p+"</tr></tfoot>"),d+=_,m=[],l=g.values(e)||[];for(r in l)if(g.hasOwn(l,r))for(a=l[r],o(a)||(a=[a]),s=g.values(a)||[],u=0,i=s.length;i>u;u++)m[u]||(m[u]=new v(i)),m[u][r]=s[u];for(c=t.odd?t.odd:"odd",f=t.even?t.even:"even",O=!1,r=0,i=m.length;i>r;r++)d+=O?"<tr class='"+c+"'><td>"+m[r].join("</td><td>")+"</td></tr>":"<tr class='"+f+"'><td>"+m[r].join("</td><td>")+"</td></tr>",O=!O;return m=null,d+=h,d+="</table>"},htmlselect:function(e,t){e=g.merge({},e),t=g.merge({},t||{});var n,r,u,i,a="";if(a="<select",t.multiple&&(a+=" multiple"),t.disabled&&(a+=" disabled='disabled'"),t.name&&(a+=" name='"+t.name+"'"),t.id&&(a+=" id='"+t.id+"'"),t["class"]&&(a+=" class='"+t["class"]+"'"),t.style&&(a+=" style='"+t.style+"'"),t.data)for(n in t.data)g.hasOwn(t.data,n)&&(a+=" data-"+n+"='"+t.data[n]+"'");a+=">",t.selected?(o(t.selected)||(t.selected=[t.selected]),t.selected=l(t.selected)):t.selected={},t.optgroups&&(o(t.optgroups)||(t.optgroups=[t.optgroups]),t.optgroups=l(t.optgroups));for(n in e)if(g.hasOwn(e,n))if(u=e[n],t.optgroups&&t.optgroups[n]){a+="<optgroup label='"+n+"'>";for(r in u)g.hasOwn(u,r)&&(i=u[r],t.use_key?i=r:t.use_value&&(r=i),a+=g.hasOwn(t.selected,r)?"<option value='"+r+"' selected='selected'>"+i+"</option>":"<option value='"+r+"'>"+i+"</option>");a+="</optgroup>"}else t.use_key?u=n:t.use_value&&(n=u),a+=t.selected[n]?"<option value='"+n+"' selected='selected'>"+u+"</option>":"<option value='"+n+"'>"+u+"</option>";return a+="</select>"},getTemplateContents:Ht,hasOwn:function(e,t){return e&&D(e,t)},keys:function(e){return e?C(e):null},values:function(e){if(e){if(e instanceof v)return e;var t,n=[];for(t in e)D(e,t)&&n.push(e[t]);return n}return null},items:function(e){return e?e:null},merge:Ut,data:function(e){if(M(e))return e.slice();var t,n,r={};for(t in e)D(e,t)&&(n=t,r[n]=e[t]);return r}},g.now=g.time,g.l=g.locale,g.init(),g});