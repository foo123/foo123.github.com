/**
*  Contemplate
*  Light-weight Template Engine for PHP, Python, Node and client-side JavaScript
*
*  @version: 0.7
*  https://github.com/foo123/Contemplate
*
*  @inspired by : Simple JavaScript Templating, John Resig - http://ejohn.org/ - MIT Licensed
*  http://ejohn.org/blog/javascript-micro-templating/
*
**/
!function(e,n,t){"use strict";var r,i="object"==typeof module&&module.exports,l="function"==typeof define&&define.amd;i?module.exports=(module.$deps=module.$deps||{})[n]=module.$deps[n]||t.call(e,{NODE:module})||1:l&&"function"==typeof require&&"function"==typeof require.specified&&require.specified(n)?define(n,["require","exports","module"],function(n,r,i){return t.call(e,{AMD:i})}):n in e||(e[n]=r=t.call(e,{})||1)&&l&&define(n,[],function(){return r})}(this,"Contemplate",function(){"use strict";function e(n,t){var r,i=null,l=null;if(i=isNaN(n)?n?n.toUpperCase():"HTML_SPECIALCHARS":e.constMappingTable[n],l=isNaN(t)?t?t.toUpperCase():"ENT_COMPAT":e.constMappingQuoteStyle[t],"HTML_SPECIALCHARS"!==i&&"HTML_ENTITIES"!==i)throw new Error("Table: "+i+" not supported");if(r=i+"__"+l,e.tbls[r])return e.tbls[r];var u,o={},s={};o[38]="&amp;","HTML_ENTITIES"===i&&(o[160]="&nbsp;",o[161]="&iexcl;",o[162]="&cent;",o[163]="&pound;",o[164]="&curren;",o[165]="&yen;",o[166]="&brvbar;",o[167]="&sect;",o[168]="&uml;",o[169]="&copy;",o[170]="&ordf;",o[171]="&laquo;",o[172]="&not;",o[173]="&shy;",o[174]="&reg;",o[175]="&macr;",o[176]="&deg;",o[177]="&plusmn;",o[178]="&sup2;",o[179]="&sup3;",o[180]="&acute;",o[181]="&micro;",o[182]="&para;",o[183]="&middot;",o[184]="&cedil;",o[185]="&sup1;",o[186]="&ordm;",o[187]="&raquo;",o[188]="&frac14;",o[189]="&frac12;",o[190]="&frac34;",o[191]="&iquest;",o[192]="&Agrave;",o[193]="&Aacute;",o[194]="&Acirc;",o[195]="&Atilde;",o[196]="&Auml;",o[197]="&Aring;",o[198]="&AElig;",o[199]="&Ccedil;",o[200]="&Egrave;",o[201]="&Eacute;",o[202]="&Ecirc;",o[203]="&Euml;",o[204]="&Igrave;",o[205]="&Iacute;",o[206]="&Icirc;",o[207]="&Iuml;",o[208]="&ETH;",o[209]="&Ntilde;",o[210]="&Ograve;",o[211]="&Oacute;",o[212]="&Ocirc;",o[213]="&Otilde;",o[214]="&Ouml;",o[215]="&times;",o[216]="&Oslash;",o[217]="&Ugrave;",o[218]="&Uacute;",o[219]="&Ucirc;",o[220]="&Uuml;",o[221]="&Yacute;",o[222]="&THORN;",o[223]="&szlig;",o[224]="&agrave;",o[225]="&aacute;",o[226]="&acirc;",o[227]="&atilde;",o[228]="&auml;",o[229]="&aring;",o[230]="&aelig;",o[231]="&ccedil;",o[232]="&egrave;",o[233]="&eacute;",o[234]="&ecirc;",o[235]="&euml;",o[236]="&igrave;",o[237]="&iacute;",o[238]="&icirc;",o[239]="&iuml;",o[240]="&eth;",o[241]="&ntilde;",o[242]="&ograve;",o[243]="&oacute;",o[244]="&ocirc;",o[245]="&otilde;",o[246]="&ouml;",o[247]="&divide;",o[248]="&oslash;",o[249]="&ugrave;",o[250]="&uacute;",o[251]="&ucirc;",o[252]="&uuml;",o[253]="&yacute;",o[254]="&thorn;",o[255]="&yuml;"),"ENT_NOQUOTES"!==l&&(o[34]="&quot;"),"ENT_QUOTES"===l&&(o[39]="&#39;"),o[60]="&lt;",o[62]="&gt;";for(u in o)o.hasOwnProperty(u)&&(s[String.fromCharCode(u)]=o[u]);return"ENT_QUOTES"===l&&(s["'"]="&#039;"),e.tbls[r]=s}function n(n,t,r,i){var l=e("HTML_ENTITIES",t),u="";if(n=null==n?"":n+"",!l)return!1;if(i||null==i)for(u in l)l.hasOwnProperty(u)&&(n=n.split(u).join(l[u]));else n=n.replace(/([\s\S]*?)(&(?:#\d+|#x[\da-f]+|[a-zA-Z][\da-z]*);|$)/g,function(e,n,t){for(u in l)l.hasOwnProperty(u)&&(n=n.split(u).join(l[u]));return n+t});return n}function t(e){return e=(e+"").toString(),encodeURIComponent(e).replace(/!/g,"%21").replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A").replace(/%20/g,"+")}function r(){var e=/%%|%(\d+\$)?([-+\'#0 ]*)(\*\d+\$|\*|\d+)?(\.(\*\d+\$|\*|\d+))?([scboxXuideEfFgG])/g,n=arguments,t=0,r=n[t++],i=function(e,n,t,r){t||(t=" ");var i=e.length>=n?"":Array(1+n-e.length>>>0).join(t);return r?e+i:i+e},l=function(e,n,t,r,l,u){var o=r-e.length;return o>0&&(e=t||!l?i(e,r,u,t):e.slice(0,n.length)+i("",o,"0",!0)+e.slice(n.length)),e},u=function(e,n,t,r,u,o,s){var a=e>>>0;return t=t&&a&&{2:"0b",8:"0",16:"0x"}[n]||"",e=t+i(a.toString(n),o||0,"0",!1),l(e,t,r,u,s)},o=function(e,n,t,r,i,u){return null!=r&&(e=e.slice(0,r)),l(e,"",n,t,i,u)},s=function(e,r,s,a,c,f,p){var d,_,h,g,v;if("%%"==e)return"%";for(var m=!1,O="",T=!1,C=!1,b=" ",E=s.length,A=0;s&&E>A;A++)switch(s.charAt(A)){case" ":O=" ";break;case"+":O="+";break;case"-":m=!0;break;case"'":b=s.charAt(A+1);break;case"0":T=!0;break;case"#":C=!0}if(a=a?"*"==a?+n[t++]:"*"==a.charAt(0)?+n[a.slice(1,-1)]:+a:0,0>a&&(a=-a,m=!0),!isFinite(a))throw new Error("sprintf: (minimum-)width must be finite");switch(f=f?"*"==f?+n[t++]:"*"==f.charAt(0)?+n[f.slice(1,-1)]:+f:"fFeE".indexOf(p)>-1?6:"d"==p?0:void 0,v=r?n[r.slice(0,-1)]:n[t++],p){case"s":return o(String(v),m,a,f,T,b);case"c":return o(String.fromCharCode(+v),m,a,f,T);case"b":return u(v,2,C,m,a,f,T);case"o":return u(v,8,C,m,a,f,T);case"x":return u(v,16,C,m,a,f,T);case"X":return u(v,16,C,m,a,f,T).toUpperCase();case"u":return u(v,10,C,m,a,f,T);case"i":case"d":return d=+v||0,d=Math.round(d-d%1),_=0>d?"-":O,v=_+i(String(Math.abs(d)),f,"0",!1),l(v,_,m,a,T);case"e":case"E":case"f":case"F":case"g":case"G":return d=+v,_=0>d?"-":O,h=["toExponential","toFixed","toPrecision"]["efg".indexOf(p.toLowerCase())],g=["toString","toUpperCase"]["eEfFgG".indexOf(p)%2],v=_+Math.abs(d)[h](f),l(v,_,m,a,T)[g]();default:return e}};return r.replace(e,s)}function i(e,n){n=n?(n+"").replace(/([\[\]\(\)\.\?\/\*\{\}\+\$\^\:])/g,"$1"):" \\s ";var t=new RegExp("^["+n+"]+","g");return(e+"").replace(t,"")}function l(e,n){n=n?(n+"").replace(/([\[\]\(\)\.\?\/\*\{\}\+\$\^\:])/g,"\\$1"):" \\s ";var t=new RegExp("["+n+"]+$","g");return(e+"").replace(t,"")}function u(e,n){var t,r=0,i=0;for(e+="",n?(n+="",t=n.replace(/([\[\]\(\)\.\?\/\*\{\}\+\$\^\:])/g,"$1")):t=" \n\r	\f            ​\u2028\u2029　",r=e.length,i=0;r>i;i++)if(-1===t.indexOf(e.charAt(i))){e=e.substring(i);break}for(r=e.length,i=r-1;i>=0;i--)if(-1===t.indexOf(e.charAt(i))){e=e.substring(0,i+1);break}return-1===t.indexOf(e.charAt(0))?e:""}function o(e,n){var t,r,i,l=/\\?([a-z])/gi,u=function(e,n){return e=e.toString(),e.length<n?u("0"+e,n,"0"):e},o=["Sun","Mon","Tues","Wednes","Thurs","Fri","Satur","January","February","March","April","May","June","July","August","September","October","November","December"];i=function(e,n){return r[e]?r[e]():n},r={d:function(){return u(r.j(),2)},D:function(){return r.l().slice(0,3)},j:function(){return t.getDate()},l:function(){return o[r.w()]+"day"},N:function(){return r.w()||7},S:function(){var e=r.j();return 4>e|e>20&&(["st","nd","rd"][e%10-1]||"th")},w:function(){return t.getDay()},z:function(){var e=new Date(r.Y(),r.n()-1,r.j()),n=new Date(r.Y(),0,1);return Math.round((e-n)/864e5)},W:function(){var e=new Date(r.Y(),r.n()-1,r.j()-r.N()+3),n=new Date(e.getFullYear(),0,4);return u(1+Math.round((e-n)/864e5/7),2)},F:function(){return o[6+r.n()]},m:function(){return u(r.n(),2)},M:function(){return r.F().slice(0,3)},n:function(){return t.getMonth()+1},t:function(){return new Date(r.Y(),r.n(),0).getDate()},L:function(){var e=r.Y();return e%4===0&e%100!==0|e%400===0},o:function(){var e=r.n(),n=r.W(),t=r.Y();return t+(12===e&&9>n?1:1===e&&n>9?-1:0)},Y:function(){return t.getFullYear()},y:function(){return r.Y().toString().slice(-2)},a:function(){return t.getHours()>11?"pm":"am"},A:function(){return r.a().toUpperCase()},B:function(){var e=3600*t.getUTCHours(),n=60*t.getUTCMinutes(),r=t.getUTCSeconds();return u(Math.floor((e+n+r+3600)/86.4)%1e3,3)},g:function(){return r.G()%12||12},G:function(){return t.getHours()},h:function(){return u(r.g(),2)},H:function(){return u(r.G(),2)},i:function(){return u(t.getMinutes(),2)},s:function(){return u(t.getSeconds(),2)},u:function(){return u(1e3*t.getMilliseconds(),6)},e:function(){throw"Not supported (see source code of date() for timezone on how to add support)"},I:function(){var e=new Date(r.Y(),0),n=Date.UTC(r.Y(),0),t=new Date(r.Y(),6),i=Date.UTC(r.Y(),6);return e-n!==t-i?1:0},O:function(){var e=t.getTimezoneOffset(),n=Math.abs(e);return(e>0?"-":"+")+u(100*Math.floor(n/60)+n%60,4)},P:function(){var e=r.O();return e.substr(0,3)+":"+e.substr(3,2)},T:function(){return"UTC"},Z:function(){return 60*-t.getTimezoneOffset()},c:function(){return"Y-m-d\\TH:i:sP".replace(l,i)},r:function(){return"D, d M Y H:i:s O".replace(l,i)},U:function(){return t/1e3|0}};var s=function(e,n){return t=void 0===n?new Date:new Date(n instanceof Date?n:1e3*n),e.replace(l,i)};return s(e,n)}function s(e,n,t){for(var r=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sun","Mon","Tues","Wednes","Thurs","Fri","Satur","January","February","March","April","May","June","July","August","September","October","November","December","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],i=o(n,t),l=0,u=r.length;u>l;l++)e[_](r[l])&&(i=i.replace(r[l],e[r[l]]));return i}var a,c,f,p="0.7",d="prototype",_="hasOwnProperty",h=Object,g=Array,v=String,m=Function,O=h.keys,T=h[d],C=g[d],b=m[d],E=T.toString,A=b.call.bind(C.slice),S="undefined"!=typeof global&&"[object global]"===E.call(global),y=function(e){return e instanceof g||"[object Array]"===E.call(e)},D=function(e){return e instanceof h||"[object Object]"===E.call(e)},w=function(e){return null===e||"undefined"==typeof e?0:y(e)?e.length:D(e)?O(e).length:1},N=function(e){var n,t,r={},i=O(e),l=i.length;for(n=0;l>n;n++)t=i[n],r[e[t]]=t;return r},M=function(){return Math.floor((new Date).getTime()/1e3)},j=function(e,n){return new m(e,n)},I=function(e,n){return new RegExp(e,n||"")},x="undefined"!=typeof navigator?navigator.userAgent:"",L=(/Chrome\//.test(x),S?require("fs"):null),k=L?L.writeFileSync:null,K=L?L.readFileSync:null,U=L?L.existsSync:null,H=L?L.statSync:null,F=(L?L.realpathSync:null,L?L.writeFile:null),P=L?L.readFile:null,R=(L?L.exists:null,L?L.stat:null,L?L.realpath:null,function(e,n,t,r){var i;return i=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),r?(i.onload=function(){r(200===i.status?i.responseText:"")},i.open(e,n,!0),i.send(t),""):(i.open(e,n,!1),i.send(t),200===i.status?i.responseText:"")});e.constMappingTable={},e.constMappingQuoteStyle={},e.constMappingTable[0]="HTML_SPECIALCHARS",e.constMappingTable[1]="HTML_ENTITIES",e.constMappingQuoteStyle[0]="ENT_NOQUOTES",e.constMappingQuoteStyle[2]="ENT_COMPAT",e.constMappingQuoteStyle[3]="ENT_QUOTES",e.tbls={};var $=!1,q={},B={},G=!1,Y=0,z="./",V={},J={},Q={},W="<%",X="%>",Z="",en="",nn="",tn="' + \"\\n\" + '",rn="",ln=S?require("os").EOL:"\n",un=!0,on=null,sn=0,an="    ",cn=0,fn=0,pn=0,dn=0,_n=2,hn=null,gn=null,vn=null,mn=null,On=null,Tn=-1,Cn=null,bn=0,En=/[\W]+/g,An=/\n\r|\r\n|\n|\r/g,Sn=/^[a-zA-Z_]/,yn=/^[0-9]/,Dn=/^[a-zA-Z0-9_]/i,wn=/^\s/,Nn={specials:null,replacements:null,functions:null,controls:null,controls2:null},Mn=["include","template","extends","endblock","block","elsefor","endfor","for","set","unset","isset","elseif","else","endif","if"],jn=["htmlselect","htmltable","(plg_|plugin_)([a-zA-Z0-9_]+)","haskey","lowercase","uppercase","camelcase","snakecase","pluralise","concat","ltrim","rtrim","trim","sprintf","addslashes","stripslashes","inline","tpl","uuid","html","url","count","ldate","date","now","locale","dq","q","l","s","n","f","e"],In={},xn=function(){fn=0,pn=0,dn=0,_n=2,sn=0,hn=[],gn={},vn=[[null,-1]],Cn=null},Ln=function(){on.push([fn,pn,dn,_n,sn,hn,gn,vn,Cn])},kn=function(){var e=on.pop();fn=e[0],pn=e[1],dn=e[2],_n=e[3],sn=e[4],hn=e[5],gn=e[6],vn=e[7],Cn=e[8]},Kn=function(){return A(arguments).join(ln)},Un=function(e,n){if(2>arguments.length&&(n=sn),n>=0){n=0===n?n:n+1;var t,r,i=new g(n).join(an);for(e=e.split(An),r=e.length,t=0;r>t;t++)e[t]=i+e[t];return e.join(ln)}return e},Hn=function(){var e=A(arguments);if(!(e.length<1)){var n,t,r,i=e.shift(),l=e.length;for(n=0;l>n;n++)if(r=e[n])for(t in r)r[_](t)&&(i[t]=r[t]);return i}},Fn=function(e,n){var t,r;if(n)r=u(n).split(" "),W=u(r[0]),X=u(r[1]);else{for(t=e.split("\n");t.length&&!u(t[0]).length;)t.shift();t.length&&(r=u(t.shift()).split(" "),W=u(r[0]),X=u(r[1])),e=t.join("\n")}return e},Pn=function(e){for(var n,t=0,r=e.length,i="";r>t;)switch(n=e.charAt(t++),n.charCodeAt(0)){case 34:i+="&quot;";break;case 38:i+="&amp;";break;case 39:i+="&#39;";break;case 60:i+="&lt;";break;case 62:i+="&gt;";break;default:i+=n}return i},Rn=function(e,n){var t;return(t=J[e])?t[1]?G&&n?(n(t[0]),""):t[0]:S&&L?G&&n?(P(t[0],{encoding:a.ENCODING},function(e,t){n(e?"":t)}),""):K(t[0],{encoding:a.ENCODING}):"#"===t[0].charAt(0)?G&&n?(n(window.document.getElementById(t[0].substring(1)).innerHTML||""),""):window.document.getElementById(t[0].substring(1)).innerHTML||"":G&&n?(R("GET",t[0],null,n),""):R("GET",t[0]):""},$n=function(e){return' ("undefined" !== typeof('+e+")) "},qn=function(e){e=e.split(",");var n=u(e.shift()),t=u(e.join(","));return"';"+ln+Un(n+" = ("+t+");")+ln},Bn=function(e){return e&&e.length?(e=u(e),"';"+ln+Un('if ("undefined" !== typeof('+e+")) delete "+e+";")+ln):"'; "+ln},Gn=function(e){var n="';"+Un(Ot({IFCOND:e}));return pn++,sn++,n},Yn=function(e){sn--;var n="';"+Un(Tt({ELIFCOND:e}));return sn++,n},zn=function(){sn--;var e="';"+Un(Ct());return sn++,e},Vn=function(){pn--,sn--;var e="';"+Un(bt());return e},Jn=function(e){var n,t,r,i,l,o=e.indexOf(" as "),s=e.indexOf(" in ");if(s>-1?(e=[e.slice(0,s),e.slice(s+4)],t=u(e[1]),r="_O"+ ++cn,i=e[0].split(",")):(e=[e.slice(0,o),e.slice(o+4)],t=u(e[0]),r="_O"+ ++cn,i=e[1].split("=>")),l=i.length>=2){var a=u(i[0])+"__RAW__",c=u(i[1])+"__RAW__",f="_OK"+ ++cn,p="_K"+ ++cn,d="_L"+ ++cn,_="_V"+ ++cn;n="';"+Un(Et({O:t,_O:r,_OK:f,K:a,_K:p,_L:d,V:c,_V:_,ASSIGN1:"data['"+a+"'] = "+f+"["+p+"]; data['"+c+"'] = "+_+" = "+r+"["+f+"["+p+"]];"},2)),_n=2,sn+=2}else{var c=u(i[0])+"__RAW__",p="_K"+ ++cn,d="_L"+ ++cn,_="_V"+ ++cn;n="';"+Un(Et({O:t,_O:r,_K:p,_L:d,V:c,_V:_,ASSIGN1:"data['"+c+"'] = "+_+" = "+r+"["+p+"];"},1)),_n=1,sn+=2}return fn++,dn++,n},Qn=function(){var e;return 2===_n?(dn--,sn+=-2,e="';"+Un(At(null,2)),sn+=1):(dn--,sn+=-2,e="';"+Un(At(null,1)),sn+=1),e},Wn=function(){var e;return dn===fn?2===_n?(fn--,dn--,sn+=-2,e="';"+Un(St(null,3))):(fn--,dn--,sn+=-2,e="';"+Un(St(null,2))):(fn--,sn+=-1,e="';"+Un(St(null,1))),e},Xn=function(e){return Q[e]||(Ln(),xn(),Q[e]=" "+at(Fn(Rn(e)),!1)+"'; "+ln,kn()),Un(Q[e])},Zn=function(e){e=e.split(",");var n=u(e.shift()),t=e.join(",");return"' + %tpl( \""+n+'", '+t+" ); "+ln},et=function(e){return Cn=u(e),"'; "+ln},nt=function(e){return e=u(e),hn.push([e,-1,-1,0,vn[0][1]]),gn[e]=gn[e]?gn[e]+1:1,Tn=hn.length,vn.unshift([e,Tn-1]),mn=e,On=null,"' +  __||"+e+"||__"},tt=function(){if(1<vn.length){var e=vn.shift();return On=e[0],Tn=e[1]+1,mn=null,"__||/"+e[0]+"||__"}return""},rt=function(e,n,t){var r,i,l,u,o;for(r=e.split(n),i=r.length,l=[],u=0;i>u;u++)o=r[u].split(t),l.push(o[0]),o.length>1&&l.push(o[1]);return l},it=function wt(e,n,t){if(n)switch(t=t||"",n){case"isset":return t=t.replace(Nn.controls2,wt),$n(t);case"set":return t=t.replace(Nn.controls2,wt),qn(t);case"unset":return t=t.replace(Nn.controls2,wt),Bn(t);case"if":return t=t.replace(Nn.controls2,wt),Gn(t);case"elseif":return t=t.replace(Nn.controls2,wt),Yn(t);case"else":return zn(t);case"endif":return Vn(t);case"for":return t=t.replace(Nn.controls2,wt),Jn(t);case"elsefor":return Qn(t);case"endfor":return Wn(t);case"extends":return et(t);case"block":return nt(t);case"endblock":return tt(t);case"template":return t=t.replace(Nn.controls2,wt),Zn(t);case"include":return Xn(t)}return e},lt=function(e){for(var n,t,r,i,l,u,o,s,a,c,f=[],p=hn.length;p--;)t=hn[p],n=t[0],o=t[1],s=t[2],a=t[3],c=t[4],r="__||"+n+"||__",i="__i__.renderBlock( '"+n+"' ); ",l=r.length,u=i.length,c>-1&&(hn[c][3]+=u-(s-o+1)),s+=a,1===gn[n]&&f.push([n,mt({BLOCKCODE:e.slice(o+l,s-l-1)+"';"})]),e=e.slice(0,o)+i+e.slice(s+1),1<=gn[n]&&gn[n]--;return hn=null,gn=null,vn=null,[e,f]},ut=function(e,n,t,r){for(var i=n,l=!1,u="";r>t&&(i+=u=e[t++],n!==u||l);)l=!l&&"\\"===u;return i},ot=function Nt(e,n,t,r){if(r=r||"VARSTR",Sn.test(e[n])){var i,l,u,o,s,a,c,f,p,d,_,h=0,g={},v=[],m=0;for(l=e[n++];t>n&&Dn.test(e[n]);)l+=e[n++];for(o=l,l="data['"+l+"']",s=o.length,m=0;t>n&&wn.test(e[n]);)m++,n++;for(c=0;t>n&&("."===e[n]||"["===e[n]);){for(f=e[n++];t>n&&wn.test(e[n]);)m++,n++;if("."===f){for(u="";t>n&&Dn.test(e[n]);)u+=e[n++];if(a=u.length,!a)break;l+="['"+u+"']",s+=m+1+a,m=0}else if("["===f){if(c++,p=e[n],'"'===p||"'"===p)u=ut(e,p,n+1,t),h++,d="__##"+r+h+"##__",g[d]=u,l+=f+d,a=u.length,n+=a,s+=m+1+a,m=0;else if(yn.test(p)){for(u=e[n++];t>n&&yn.test(e[n]);)u+=e[n++];l+=f+u,a=u.length,s+=m+1+a,m=0}else if("$"===p)_=e.slice(n+1),i=Nt(_,0,_.length,r+"_"+h+"_"),i&&(u=i[i.length-1],l+=f+u[0][0],a=u[1],n+=a+1,s+=m+2+a,m=0,v=v.concat(i));else{if("]"!==p)break;if(!(c>0))break;c--,l+=f+e[n++],s+=m+2,m=0}for(;t>n&&wn.test(e[n]);)m++,n++;if("]"===e[n]){if(!(c>0))break;c--,l+=e[n++],s+=m+1,m=0}}for(;t>n&&wn.test(e[n]);)m++,n++}return v.push([[l,o],s,g]),v}return null},st=function(e,n,t,r){if(r&&In[_](r)){var i=In[r];return i instanceof a.InlineTpl?i.render([]):i}return"Contemplate."+n},at=function(e,n){var t,r,i,l,u,o,s,a,c,f,p,d,h,g,v,m,O,T;for(t=rt(e,W,X),r=t.length,o=!1,i="",u=0;r>u;u++){if(l=t[u],o){for(s="	"+l.replace(Nn.specials," ")+"",p=s.length,c={},a={},d=0,h="",g="",v=0;p>d;)if(h=s[d++],'"'===h||"'"===h)m=ut(s,h,d,p),v++,f="__##STR"+v+"##__",a[f]=m,g+=f,d+=m.length-1;else if("$"===h)if(m=ot(s,d,p)){for(O=0;O<m.length;O++)T=m[O],v++,f="__##VAR"+v+"##__",c[f]=T[0],a=Hn(a,T[2]);g+=f,d+=T[1]}else g+="$";else g+=h;s=g,mn=null,On=null,Tn=-1,s=s.replace(Nn.controls,it).replace(Nn.functions,st).replace(Nn.replacements,"' + ( $1 ) + '");for(f in c)c[_](f)&&(s=s.split(f+"__RAW__").join(c[f][1]),s=s.split(f).join(c[f][0]));for(f in a)a[_](f)&&(s=s.split(f).join(a[f]));l=s.split("	").join(Z).split("").join(Un(en)),mn?(mn="__||"+mn+"||__",hn[Tn-1][1]=i.length+s.indexOf(mn)):On&&(On="__||/"+On+"||__",hn[Tn-1][2]=i.length+s.indexOf(On)+On.length),o=!1}else un&&(l=l.split("\\").join("\\\\")),l=l.split("'").join("\\'").split(/\n/).join(rn),o=!0;i+=l}return!1!==n?lt(i):i},ct=function(e){return z+e.replace(En,"_")+"_tpl.js"},ft=function(e){return"Contemplate_"+e.replace(En,"_")+"_Cached"},pt=function(e,n){xn();var t,r,i,l,u=at(Fn(Rn(e),n)),o={};for(l=u[0],u=u[1],r=u.length,i=Cn?yt(null,1):yt({FCODE:"__p__ += '"+l+"';"},2),t=0;r>t;t++)o[u[t][0]]=j("Contemplate,__i__",u[t][1]);return[j("Contemplate,__i__",i),o]},dt=function(e,n,t,r){xn();var i,l,u,o,s,a,c,f=at(Fn(Rn(e),r));for(c=f[0],f=f[1],s=f.length,a=[],o=0;s>o;o++)a.push(ln+vt({BLOCKNAME:f[o][0],BLOCKMETHODNAME:f[o][0],BLOCKMETHODCODE:Un(f[o][1],1)}));a=a.length?ln+"this._blocks = { "+ln+Un(a.join(","+ln),1)+ln+"};"+ln:"",Cn?(l="this.extend( '"+Cn+"' );",u=Dt(null,1)):(l="",u=Dt({RCODE:"__p__ += '"+c+"';"},2)),i=nn?nn:"";var p=gt({CLASSNAME:t,TPLID:e,PREFIXCODE:i,EXTENDCODE:Un(l,2),BLOCKS:Un(a,2),RENDERCODE:Un(u,3)});return ht(n,p)},_t=function(e,n){var t;if(t=J[e]){if(t[1]){var r,i;return n.parsed?i=a.Tpl(e,j("Contemplate,__i__",n.parsed)):(r=pt(e,n.separators),i=a.Tpl(e,r[0]).setBlocks(r[1])),Cn&&i.extend(a.tpl(Cn)),i}if(S||(Y=a.CACHE_TO_DISK_NONE),!0!==n.autoUpdate&&a.CACHE_TO_DISK_NOUPDATE===Y){var l=ct(e),u=ft(e);if(U(l)||dt(e,l,u,n.separators),U(l)){var o=require(l)(a),i=(new o).setId(e);return i}return null}if(!0===n.autoUpdate||a.CACHE_TO_DISK_AUTOUPDATE===Y){var l=ct(e),u=ft(e);if(U(l)){var s=H(l),c=H(t[0]);s.mtime.getTime()<=c.mtime.getTime()&&dt(e,l,u,n.separators)}else dt(e,l,u,n.separators);if(U(l)){var o=require(l)(a),i=(new o).setId(e);return i}return null}var r=pt(e,n.separators),i=a.Tpl(e,r[0]).setBlocks(r[1]);return Cn&&i.extend(a.tpl(Cn)),i}return null},ht=function(e,n,t){return t?void F(e,n,{encoding:a.ENCODING},function(e){t(!e)}):k(e,n,{encoding:a.ENCODING})},gt=function(e){var n=Kn;return[e.PREFIXCODE,n("","!function (root, moduleName, moduleDefinition) {","","    //","    // export the module","    // node, CommonJS, etc..","    if ( 'object' === typeof(module) && module.exports ) module.exports = moduleDefinition();","    // AMD, etc..","    else if ( 'function' === typeof(define) && define.amd ) define( moduleDefinition );","    // browser, etc..","    else root[ moduleName ] = moduleDefinition();","","}(this, '"),e.CLASSNAME,n("', function( ) {",'    "use strict";',"    return function( Contemplate ) {","    /* Contemplate cached template '"),e.TPLID,n("' */","    ","    ","    /* constructor */","    function "),e.CLASSNAME,n("(id)","    {","        /* initialize internal vars */","        ","        this._renderer = id;","        this._blocks = null;","        this._extends = null;","        this.d = null;","        this.id = id;","        ","        ","        /* tpl-defined blocks render code starts here */",""),e.BLOCKS,n("","        /* tpl-defined blocks render code ends here */","        ","        ","        /* extend tpl assign code starts here */",""),e.EXTENDCODE,n("","        /* extend tpl assign code ends here */","    };","    ","    ","    /* extends main Contemplate.Tpl class */","    "),e.CLASSNAME,n(".prototype = Object.create(Contemplate.Tpl.prototype);","    /* tpl render method */","    "),e.CLASSNAME,n(".prototype.render = function( data, __i__ ) {","        if ( !__i__ ) __i__ = this;","        var __p__ = '';","        if ( this._extends )","        {","            __p__ = this._extends.render(data, __i__);","        }","        else","        {","            /* tpl main render code starts here */",""),e.RENDERCODE,n("","            /* tpl main render code ends here */","        }","        this.d = null;","        return __p__;","    };","    ","    // export it","    return "),e.CLASSNAME,n(";","    };","});","")].join("")},vt=function(e){var n=Kn;return[n("","/* tpl block render method for block '"),e.BLOCKNAME,n("' */","'"),e.BLOCKMETHODNAME,n("': function(Contemplate,__i__) {",""),e.BLOCKMETHODCODE,n("","}","")].join("")},mt=function(e){var n=Kn;return[n("","var __p__ = '', data = __i__.d;",""),e.BLOCKCODE,n("","return __p__;","")].join("")},Ot=function(e){var n=Kn;return[n("","if ("),e.IFCOND,n(")","{","")].join("")},Tt=function(e){var n=Kn;return[n("","}","else if ("),e.ELIFCOND,n(")","{","")].join("")},Ct=function(){var e=Kn;return e("","}","else","{","")},bt=function(){var e=Kn;return e("","}","")},Et=function(e,n){var t=Kn;return 2===n?[t("","var "),e._O," = ",e.O,", ",e._OK," = Contemplate.keys(",e._O,t(");","if ("),e._OK," && ",e._OK,t(".length)","{","    var "),e._K,", ",e._V,", ",e._L," = ",e._OK,".length",t(";","    for ("),e._K,"=0; ",e._K,"<",e._L,"; ",e._K,t("++)","    {","        "),e.ASSIGN1,t("","        ","")].join(""):[t("","var "),e._O," = Contemplate.values(",e.O,t(");","if ("),e._O," && ",e._O,t(".length)","{","    var "),e._K,", ",e._V,", ",e._L," = ",e._O,".length",t(";","    for ("),e._K,"=0; ",e._K,"<",e._L,"; ",e._K,t("++)","    {","        "),e.ASSIGN1,t("","        ","")].join("")},At=function(e,n){var t=Kn;return 2===n?t("","    }","}","else","{  ",""):t("","    }","}","else","{  ","")},St=function(e,n){var t=Kn;return 3===n?t("","    }","}",""):2===n?t("","    }","}",""):t("","}","")},yt=function(e,n){var t=Kn;return 1===n?"return '';":[t("","var __p__ = '', data = __i__.d;",""),e.FCODE,t("","return __p__;","")].join("")},Dt=function(e,n){var t=Kn;return 1===n?"__p__ = '';":[t("","__i__.d = data;",""),e.RCODE,t("","")].join("")};return f=function Mt(e,n){return this instanceof Mt?void(this.tpl=Mt.multisplit(e||"",n||{})):new Mt(e,n)},f.multisplit=function(e,n){var t,r,i,l,u,o,s,a,c;u=[[1,e]];for(t in n)if(n.hasOwnProperty(t)){for(s=[],r=[0,n[t]],i=0,a=u.length;a>i;i++)if(1===u[i][0])if(o=u[i][1].split(t),c=o.length,c>1)for(l=0;c-1>l;l++)s.push([1,o[l]]),s.push(r),s.push([1,o[l+1]]);else s.push([1,o[0]]);else s.push(u[i]);u=s}return u},f[d]={constructor:f,id:null,tpl:null,dispose:function(){return this.tpl=null,this.id=null,this},render:function(e){var n,t,r,i,l=this.tpl,u=l.length,o=new Array(u);for(e=e||[],n=e.length,t=0;u>t;t++)r=l[t][0],i=l[t][1],o[t]=r?i:i.substr||i>=0?e[i]:e[n+i];return o.join("")}},c=function jt(e,n){return this instanceof jt?(this.id=null,this.d=null,void(e&&(this.id=e,this._renderer=n))):new jt(e,n)},c[d]={constructor:c,id:null,d:null,_extends:null,_blocks:null,_renderer:null,dispose:function(){var e=this;return e._renderer=null,e._blocks=null,e._extends=null,e.d=null,e.id=null,e},setId:function(e){return e&&(this.id=e),this},extend:function(e){return this._extends=e&&e.substr?a.tpl(e):e,this},setRenderFunction:function(e){return this._renderer=e,this},setBlocks:function(e){return"object"==typeof e&&(this._blocks=Hn(this._blocks||{},e)),this},renderBlock:function(e,n){return n||(n=this),this._blocks&&this._blocks[_](e)?this._blocks[e](a,n):this._extends?this._extends.renderBlock(e,n):""},render:function(e,n){var t="";return n||(n=this),this._extends?t=this._extends.render(e,n):this._renderer&&(n.d=e,t=this._renderer(a,n)),this.d=null,t}},a={VERSION:p,CACHE_TO_DISK_NONE:0,CACHE_TO_DISK_AUTOUPDATE:2,CACHE_TO_DISK_NOUPDATE:4,ENCODING:"utf8",Tpl:c,InlineTpl:f,init:function(){$||(on=[],Nn.specials=I("[\\n\\r\\v\\t]","g"),Nn.replacements=I("\\t[ ]*(.*?)[ ]*\\v","g"),Nn.controls=I("\\t[ ]*%("+Mn.join("|")+")\\b[ ]*\\((.*)\\)","g"),Nn.controls2=I("%("+Mn.join("|")+")\\b[ ]*\\((.*)\\)","g"),Nn.functions=I("%("+jn.join("|")+")\\b","g"),rn=tn,Z="'; "+ln,en=ln+"__p__ += '",$=!0)},addPlugin:function(e,n){e&&n&&(n instanceof a.InlineTpl?In[e]=n:(In[e]="Contemplate.plg_"+e,a["plg_"+e]=n))},setPrefixCode:function(e){e&&(nn=""+e)},setLocaleStrings:function(e){"object"==typeof e&&(q=Hn(q,e))},clearLocaleStrings:function(){q={}},setPlurals:function(e){if("object"==typeof e){for(var n in e)e[_](n)&&null==e[n]&&(e[n]=n+"s");B=Hn(B,e)}},clearPlurals:function(){B={}},setTemplateSeparators:function(e){e&&(e.left&&(W=""+e.left),e.right&&(X=""+e.right))},setPreserveLines:function(e){arguments.length<1&&(e=!0),rn=e?tn:""},setCacheDir:function(e){z=l(e,"/")+"/"},setCacheMode:function(e){Y=S?e:a.CACHE_TO_DISK_NONE},setSyncMode:function(e){G=!e},clearCache:function(e){V={},e&&(Q={})},add:function(e,n){if("object"==typeof e)for(var t in e)e[_](t)&&(y(e[t])?e[t][0]&&(J[t]=[e[t][0],!0]):J[t]=[e[t],!1]);else e&&n&&(y(n)?n[0]&&(J[e]=[n[0],!0]):J[e]=[n,!1])},parseTpl:function(e,n){var t,r,i=n&&n.separators?n.separators:null;return i&&(t=[W,X],W=i[0],X=i[1]),xn(),r=at(e),i&&(W=t[0],X=t[1]),r},tpl:function(e,n,t){if(e instanceof a.Tpl)return"object"==typeof n?e.render(n):e;t=Hn({autoUpdate:!1,refresh:!1,escape:!0,separators:null},t),un=!1!==t.escape,(t.refresh||!V[e])&&(V[e]=_t(e,t));var r=V[e];return"object"==typeof n?r.render(n):r},inline:function(e,n){return e instanceof a.InlineTpl?e.render(n||[]):a.InlineTpl(e,n||{})},haskey:function(e){var n,t,r,i=E.call(e);if(!e||"[object Array]"!==i&&"[object Object]"!==i)return!1;for(n=arguments,r=e,t=1;t<n.length;t++){if(!r||!r[_](n[t]))return!1;r=r[n[t]]}return!0},q:function(e){return"'"+e+"'"},dq:function(e){return'"'+e+'"'},s:function(e){return v(e)},n:function(e){return parseInt(e,10)},f:function(e){return parseFloat(e,10)},e:Pn,html:function(e,t){return n(e,t||"ENT_COMPAT","UTF-8")},url:t,count:w,addslashes:function(e){return(e+"").replace(/[\\"']/g,"\\$&").replace(/\u0000/g,"\\0")},stripslashes:function(e){return(e+"").replace(/\\(.?)/g,function(e,n){switch(n){case"\\":return"\\";case"0":return"\x00";case"":return"";default:return n}})},concat:function(){return A(arguments).join("")},trim:u,ltrim:i,rtrim:l,ucfirst:function(e){return e[0].toUpperCase()+e.substr(1)},lcfirst:function(e){return e[0].toLowerCase()+e.substr(1)},lowercase:function(e){return e.toLowerCase()},uppercase:function(e){return e.toUpperCase()},camelcase:function(e,n,t){return n=n||"_",t?e.split(n).map(a.ucfirst).join(""):a.lcfirst(e.split(n).map(a.ucfirst).join(""))},snakecase:function(e,n){return n=n||"_",e.replace(/([A-Z])/g,n+"$1").toLowerCase()},sprintf:r,time:M,date:function(e,n){return n||(n=M()),o(e,n)},ldate:function(e,n){return n||(n=M()),s(q,e,n)},locale:function(e){return q[_](e)?q[e]:e},pluralise:function(e,n){return B[e]&&1!==n?B[e]:e},uuid:function(e){return[e||"UUID",++bn,M()].join("_")},htmltable:function(e,n){e=Hn({},e),n=Hn({},n||{});var t,r,i,l,u,o,s,c,f,p,d,h,v,m="",O="",T="",C="",b=[],E=!1,A=n[_]("tpl_row"),S=n[_]("tpl_cell"),D=null,w=null;if(A&&(n.tpl_row instanceof a.InlineTpl||(n.tpl_row=a.InlineTpl(n.tpl_row,{$row_class:"row_class",$row:"row"})),D=n.tpl_row),S&&(n.tpl_cell instanceof a.InlineTpl||(n.tpl_cell=a.InlineTpl(n.tpl_cell,{$cell:"cell"})),w=n.tpl_cell),m="<table",n.id&&(m+=" id='"+n.id+"'"),n["class"]&&(m+=" class='"+n["class"]+"'"),n.style&&(m+=" style='"+n.style+"'"),n.data)for(t in n.data)n.data[_](t)&&(m+=" data-"+t+"='"+n.data[t]+"'");m+=">",O="",(n.header||n.footer)&&(O="<td>"+(a.keys(e)||[]).join("</td><td>")+"</td>"),T=n.header?"<thead><tr>"+O+"</tr></thead>":"",C=n.footer?"<tfoot><tr>"+O+"</tr></tfoot>":"",m+=T,b=[],c=a.values(e)||[];for(u in c)if(c[_](u))for(f=c[u],y(f)||(f=[f]),p=a.values(f)||[],o=0,s=p.length;s>o;o++)b[o]||(b[o]=new g(s)),b[o][u]=p[o];for(d=n.odd?n.odd:"odd",h=n.even?n.even:"even",E=!1,u=0,s=b.length;s>u;u++){if(v=E?d:h,S)for(r="",l=0,i=b[u].length;i>l;l++)r+=w.render({cell:b[u][l]});else r="<td>"+b[u].join("</td><td>")+"</td>";m+=A?D.render({row_class:v,row:r}):"<tr class='"+v+"'>"+r+"</tr>",E=!E}return b=null,m+=C,m+="</table>"},htmlselect:function(e,n){e=Hn({},e),n=Hn({},n||{});var t,r,i,l,u="",o=n[_]("tpl_option"),s=null;if(o&&(n.tpl_option instanceof a.InlineTpl||(n.tpl_option=new a.InlineTpl(n.tpl_option,{$selected:"selected",$value:"value",$option:"option"})),s=n.tpl_option),u="<select",n.multiple&&(u+=" multiple"),n.disabled&&(u+=" disabled='disabled'"),n.name&&(u+=" name='"+n.name+"'"),n.id&&(u+=" id='"+n.id+"'"),n["class"]&&(u+=" class='"+n["class"]+"'"),n.style&&(u+=" style='"+n.style+"'"),n.data)for(t in n.data)n.data[_](t)&&(u+=" data-"+t+"='"+n.data[t]+"'");u+=">",n.selected?(y(n.selected)||(n.selected=[n.selected]),n.selected=N(n.selected)):n.selected={},n.optgroups&&(y(n.optgroups)||(n.optgroups=[n.optgroups]),n.optgroups=N(n.optgroups));for(t in e)if(e[_](t))if(i=e[t],n.optgroups&&n.optgroups[_](t)){u+="<optgroup label='"+t+"'>";for(r in i)i[_](r)&&(l=i[r],n.use_key?l=r:n.use_value&&(r=l),u+=o?s.render({value:r,option:l,selected:n.selected[_](r)?' selected="selected"':""}):n.selected[_](r)?"<option value='"+r+"' selected='selected'>"+l+"</option>":"<option value='"+r+"'>"+l+"</option>");u+="</optgroup>"}else n.use_key?i=t:n.use_value&&(t=i),u+=o?s.render({value:t,option:i,selected:n.selected[_](t)?' selected="selected"':""}):n.selected[_](t)?"<option value='"+t+"' selected='selected'>"+i+"</option>":"<option value='"+t+"'>"+i+"</option>";return u+="</select>"},getTemplateContents:Rn,hasOwn:function(e,n){return e&&e[_](n)},keys:function(e){return e?O(e):null},values:function(e){if(e){if(e instanceof g)return e;var n,t=[];for(n in e)e[_](n)&&t.push(e[n]);return t}return null},items:function(e){return e?e:null},merge:Hn,data:function(e){if(y(e))return e.slice();var n,t,r={};for(n in e)e[_](n)&&(t=n,r[t]=e[n]);return r}},a.now=a.time,a.l=a.locale,a.init(),a});