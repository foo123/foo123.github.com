/**
*  Contemplate
*  Light-weight Template Engine for PHP, Python, Node and client-side JavaScript
*
*  @version: 0.7
*  https://github.com/foo123/Contemplate
*
*  @inspired by : Simple JavaScript Templating, John Resig - http://ejohn.org/ - MIT Licensed
*  http://ejohn.org/blog/javascript-micro-templating/
*
**/
!function(e,t,n){"use strict";var r,i="object"==typeof module&&module.exports,u="function"==typeof define&&define.amd;i?module.exports=(module.$deps=module.$deps||{})[t]=module.$deps[t]||n.call(e,{NODE:module})||1:u&&"function"==typeof require&&"function"==typeof require.specified&&require.specified(t)?define(t,["require","exports","module"],function(t,r,i){return n.call(e,{AMD:i})}):t in e||(e[t]=r=n.call(e,{})||1)&&u&&define(t,[],function(){return r})}(this,"Contemplate",function(){"use strict";function e(t,n){var r,i=null,u=null;if(i=isNaN(t)?t?t.toUpperCase():"HTML_SPECIALCHARS":e.constMappingTable[t],u=isNaN(n)?n?n.toUpperCase():"ENT_COMPAT":e.constMappingQuoteStyle[n],"HTML_SPECIALCHARS"!==i&&"HTML_ENTITIES"!==i)throw new Error("Table: "+i+" not supported");if(r=i+"__"+u,e.tbls[r])return e.tbls[r];var o,l={},a={};l[38]="&amp;","HTML_ENTITIES"===i&&(l[160]="&nbsp;",l[161]="&iexcl;",l[162]="&cent;",l[163]="&pound;",l[164]="&curren;",l[165]="&yen;",l[166]="&brvbar;",l[167]="&sect;",l[168]="&uml;",l[169]="&copy;",l[170]="&ordf;",l[171]="&laquo;",l[172]="&not;",l[173]="&shy;",l[174]="&reg;",l[175]="&macr;",l[176]="&deg;",l[177]="&plusmn;",l[178]="&sup2;",l[179]="&sup3;",l[180]="&acute;",l[181]="&micro;",l[182]="&para;",l[183]="&middot;",l[184]="&cedil;",l[185]="&sup1;",l[186]="&ordm;",l[187]="&raquo;",l[188]="&frac14;",l[189]="&frac12;",l[190]="&frac34;",l[191]="&iquest;",l[192]="&Agrave;",l[193]="&Aacute;",l[194]="&Acirc;",l[195]="&Atilde;",l[196]="&Auml;",l[197]="&Aring;",l[198]="&AElig;",l[199]="&Ccedil;",l[200]="&Egrave;",l[201]="&Eacute;",l[202]="&Ecirc;",l[203]="&Euml;",l[204]="&Igrave;",l[205]="&Iacute;",l[206]="&Icirc;",l[207]="&Iuml;",l[208]="&ETH;",l[209]="&Ntilde;",l[210]="&Ograve;",l[211]="&Oacute;",l[212]="&Ocirc;",l[213]="&Otilde;",l[214]="&Ouml;",l[215]="&times;",l[216]="&Oslash;",l[217]="&Ugrave;",l[218]="&Uacute;",l[219]="&Ucirc;",l[220]="&Uuml;",l[221]="&Yacute;",l[222]="&THORN;",l[223]="&szlig;",l[224]="&agrave;",l[225]="&aacute;",l[226]="&acirc;",l[227]="&atilde;",l[228]="&auml;",l[229]="&aring;",l[230]="&aelig;",l[231]="&ccedil;",l[232]="&egrave;",l[233]="&eacute;",l[234]="&ecirc;",l[235]="&euml;",l[236]="&igrave;",l[237]="&iacute;",l[238]="&icirc;",l[239]="&iuml;",l[240]="&eth;",l[241]="&ntilde;",l[242]="&ograve;",l[243]="&oacute;",l[244]="&ocirc;",l[245]="&otilde;",l[246]="&ouml;",l[247]="&divide;",l[248]="&oslash;",l[249]="&ugrave;",l[250]="&uacute;",l[251]="&ucirc;",l[252]="&uuml;",l[253]="&yacute;",l[254]="&thorn;",l[255]="&yuml;"),"ENT_NOQUOTES"!==u&&(l[34]="&quot;"),"ENT_QUOTES"===u&&(l[39]="&#39;"),l[60]="&lt;",l[62]="&gt;";for(o in l)l.hasOwnProperty(o)&&(a[String.fromCharCode(o)]=l[o]);return"ENT_QUOTES"===u&&(a["'"]="&#039;"),e.tbls[r]=a}function t(t,n,r,i){var u=e("HTML_ENTITIES",n),o="";if(t=null==t?"":t+"",!u)return!1;if(i||null==i)for(o in u)u.hasOwnProperty(o)&&(t=t.split(o).join(u[o]));else t=t.replace(/([\s\S]*?)(&(?:#\d+|#x[\da-f]+|[a-zA-Z][\da-z]*);|$)/g,function(e,t,n){for(o in u)u.hasOwnProperty(o)&&(t=t.split(o).join(u[o]));return t+n});return t}function n(e){return e=(e+"").toString(),encodeURIComponent(e).replace(/!/g,"%21").replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A").replace(/%20/g,"+")}function r(e){return null===e||"undefined"==typeof e?0:Array===e.constructor?e.length:Object===e.constructor?E(e).length:1}function i(e){var t,n,r={},i=E(e),u=i.length;for(t=0;u>t;t++)n=i[t],r[e[n]]=n;return r}function u(){var e=/%%|%(\d+\$)?([-+\'#0 ]*)(\*\d+\$|\*|\d+)?(\.(\*\d+\$|\*|\d+))?([scboxXuideEfFgG])/g,t=arguments,n=0,r=t[n++],i=function(e,t,n,r){n||(n=" ");var i=e.length>=t?"":Array(1+t-e.length>>>0).join(n);return r?e+i:i+e},u=function(e,t,n,r,u,o){var l=r-e.length;return l>0&&(e=n||!u?i(e,r,o,n):e.slice(0,t.length)+i("",l,"0",!0)+e.slice(t.length)),e},o=function(e,t,n,r,o,l,a){var s=e>>>0;return n=n&&s&&{2:"0b",8:"0",16:"0x"}[t]||"",e=n+i(s.toString(t),l||0,"0",!1),u(e,n,r,o,a)},l=function(e,t,n,r,i,o){return null!=r&&(e=e.slice(0,r)),u(e,"",t,n,i,o)},a=function(e,r,a,s,c,f,p){var d,_,g,h,m;if("%%"==e)return"%";for(var v=!1,O="",b=!1,C=!1,E=" ",T=a.length,A=0;a&&T>A;A++)switch(a.charAt(A)){case" ":O=" ";break;case"+":O="+";break;case"-":v=!0;break;case"'":E=a.charAt(A+1);break;case"0":b=!0;break;case"#":C=!0}if(s=s?"*"==s?+t[n++]:"*"==s.charAt(0)?+t[s.slice(1,-1)]:+s:0,0>s&&(s=-s,v=!0),!isFinite(s))throw new Error("sprintf: (minimum-)width must be finite");switch(f=f?"*"==f?+t[n++]:"*"==f.charAt(0)?+t[f.slice(1,-1)]:+f:"fFeE".indexOf(p)>-1?6:"d"==p?0:void 0,m=r?t[r.slice(0,-1)]:t[n++],p){case"s":return l(String(m),v,s,f,b,E);case"c":return l(String.fromCharCode(+m),v,s,f,b);case"b":return o(m,2,C,v,s,f,b);case"o":return o(m,8,C,v,s,f,b);case"x":return o(m,16,C,v,s,f,b);case"X":return o(m,16,C,v,s,f,b).toUpperCase();case"u":return o(m,10,C,v,s,f,b);case"i":case"d":return d=+m||0,d=Math.round(d-d%1),_=0>d?"-":O,m=_+i(String(Math.abs(d)),f,"0",!1),u(m,_,v,s,b);case"e":case"E":case"f":case"F":case"g":case"G":return d=+m,_=0>d?"-":O,g=["toExponential","toFixed","toPrecision"]["efg".indexOf(p.toLowerCase())],h=["toString","toUpperCase"]["eEfFgG".indexOf(p)%2],m=_+Math.abs(d)[g](f),u(m,_,v,s,b)[h]();default:return e}};return r.replace(e,a)}function o(e,t){t=t?(t+"").replace(/([\[\]\(\)\.\?\/\*\{\}\+\$\^\:])/g,"$1"):" \\s ";var n=new RegExp("^["+t+"]+","g");return(e+"").replace(n,"")}function l(e,t){t=t?(t+"").replace(/([\[\]\(\)\.\?\/\*\{\}\+\$\^\:])/g,"\\$1"):" \\s ";var n=new RegExp("["+t+"]+$","g");return(e+"").replace(n,"")}function a(e,t){var n,r=0,i=0;for(e+="",t?(t+="",n=t.replace(/([\[\]\(\)\.\?\/\*\{\}\+\$\^\:])/g,"$1")):n=" \n\r	\f            ​\u2028\u2029　",r=e.length,i=0;r>i;i++)if(-1===n.indexOf(e.charAt(i))){e=e.substring(i);break}for(r=e.length,i=r-1;i>=0;i--)if(-1===n.indexOf(e.charAt(i))){e=e.substring(0,i+1);break}return-1===n.indexOf(e.charAt(0))?e:""}function s(){return Math.floor((new Date).getTime()/1e3)}function c(e,t){var n,r,i,u=/\\?([a-z])/gi,o=function(e,t){return e=e.toString(),e.length<t?o("0"+e,t,"0"):e},l=["Sun","Mon","Tues","Wednes","Thurs","Fri","Satur","January","February","March","April","May","June","July","August","September","October","November","December"];i=function(e,t){return r[e]?r[e]():t},r={d:function(){return o(r.j(),2)},D:function(){return r.l().slice(0,3)},j:function(){return n.getDate()},l:function(){return l[r.w()]+"day"},N:function(){return r.w()||7},S:function(){var e=r.j();return 4>e|e>20&&(["st","nd","rd"][e%10-1]||"th")},w:function(){return n.getDay()},z:function(){var e=new Date(r.Y(),r.n()-1,r.j()),t=new Date(r.Y(),0,1);return Math.round((e-t)/864e5)},W:function(){var e=new Date(r.Y(),r.n()-1,r.j()-r.N()+3),t=new Date(e.getFullYear(),0,4);return o(1+Math.round((e-t)/864e5/7),2)},F:function(){return l[6+r.n()]},m:function(){return o(r.n(),2)},M:function(){return r.F().slice(0,3)},n:function(){return n.getMonth()+1},t:function(){return new Date(r.Y(),r.n(),0).getDate()},L:function(){var e=r.Y();return e%4===0&e%100!==0|e%400===0},o:function(){var e=r.n(),t=r.W(),n=r.Y();return n+(12===e&&9>t?1:1===e&&t>9?-1:0)},Y:function(){return n.getFullYear()},y:function(){return r.Y().toString().slice(-2)},a:function(){return n.getHours()>11?"pm":"am"},A:function(){return r.a().toUpperCase()},B:function(){var e=3600*n.getUTCHours(),t=60*n.getUTCMinutes(),r=n.getUTCSeconds();return o(Math.floor((e+t+r+3600)/86.4)%1e3,3)},g:function(){return r.G()%12||12},G:function(){return n.getHours()},h:function(){return o(r.g(),2)},H:function(){return o(r.G(),2)},i:function(){return o(n.getMinutes(),2)},s:function(){return o(n.getSeconds(),2)},u:function(){return o(1e3*n.getMilliseconds(),6)},e:function(){throw"Not supported (see source code of date() for timezone on how to add support)"},I:function(){var e=new Date(r.Y(),0),t=Date.UTC(r.Y(),0),n=new Date(r.Y(),6),i=Date.UTC(r.Y(),6);return e-t!==n-i?1:0},O:function(){var e=n.getTimezoneOffset(),t=Math.abs(e);return(e>0?"-":"+")+o(100*Math.floor(t/60)+t%60,4)},P:function(){var e=r.O();return e.substr(0,3)+":"+e.substr(3,2)},T:function(){return"UTC"},Z:function(){return 60*-n.getTimezoneOffset()},c:function(){return"Y-m-d\\TH:i:sP".replace(u,i)},r:function(){return"D, d M Y H:i:s O".replace(u,i)},U:function(){return n/1e3|0}};var a=function(e,t){return n=void 0===t?new Date:new Date(t instanceof Date?t:1e3*t),e.replace(u,i)};return a(e,t)}function f(e,t,n){for(var r=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sun","Mon","Tues","Wednes","Thurs","Fri","Satur","January","February","March","April","May","June","July","August","September","October","November","December","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],i=c(t,n),u=0,o=r.length;o>u;u++)e[r[u]]&&(i=i.replace(r[u],e[r[u]]));return i}var p,d,_,g="0.7",h="prototype",m="hasOwnProperty",v=Object,O=Array,b=String,C=Function,E=v.keys,T=v[h],A=O[h],S=C[h],y=T.toString,w=S.call.bind(A.slice),D="undefined"!=typeof global&&"[object global]"===y.call(global),N=function(e){return e instanceof O||"[object Array]"===y.call(e)},M=function(e,t){return new C(e,t)},j=function(e,t){return new RegExp(e,t||"")},k="undefined"!=typeof navigator?navigator.userAgent:"",x=(/Chrome\//.test(k),D?require("fs"):null),I=x?x.writeFileSync:null,L=x?x.readFileSync:null,K=x?x.existsSync:null,U=x?x.statSync:null,H=(x?x.realpathSync:null,x?x.writeFile:null),F=x?x.readFile:null,P=(x?x.exists:null,x?x.stat:null,x?x.realpath:null,function(e,t,n,r){var i;return i=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),r?(i.onload=function(){r(200===i.status?i.responseText:"")},i.open(e,t,!0),i.send(n),""):(i.open(e,t,!1),i.send(n),200===i.status?i.responseText:"")});_=d=function Dn(e,t,n){return this instanceof Dn?(this.split_args=!!n,void(this.tpl=Dn.multisplit(e||"",t||{}))):new Dn(e,t,n)},d.multisplit=function(e,t){var n,r,i,u,o,l,a,s,c;o=[e];for(n in t)if(t.hasOwnProperty(n)){for(a=[],r=t[n],r&&r.push||(r=[r]),i=0,s=o.length;s>i;i++)if(o[i].substr)if(l=o[i].split(n),c=l.length,c>1)for(u=0;c-1>u;u++)a=a.concat([l[u],r,l[u+1]]);else a=a.concat(l);else a=a.concat([o[i]]);o=a}return o},d[h]={constructor:d,split_args:!1,tpl:null,dispose:function(){var e=this;return e.split_args=null,e.tpl=null,e},render:function(e){var t,n,r,i=this.tpl,u=i.length,o=new Array(u);for(e=e||[],r=e.length,t=0;u>t;t++)n=i[t],o[t]=n.substr?n:n[0].substr?e[n[0]]:0>n[0]?e[r+n[0]]:e[n[0]];return o.join("")}};var R=!1,$={},B={},q=!1,G=0,Y="./",z={},V={},J={},Q="<%",X="%>",W="",Z="",et="",tt="' + \"\\n\" + '",nt="",rt=D?require("os").EOL:"\n",it=!0,ut=null,ot=0,lt="    ",at=0,st=0,ct=0,ft=0,pt=2,dt=null,_t=null,gt=null,ht=null,mt=null,vt=-1,Ot=null,bt=0,Ct=/[ -]/g,Et=/\n\r|\r\n|\n|\r/g,Tt=/^[a-zA-Z_]/,At=/^[0-9]/,St=/^[a-zA-Z0-9_]/i,yt=/^\s/,wt={specials:null,replacements:null,functions:null,controls:null,controls2:null},Dt=["include","template","extends","endblock","block","elsefor","endfor","for","set","unset","isset","elseif","else","endif","if"],Nt=["htmlselect","htmltable","(plg_|plugin_)([a-zA-Z0-9_]+)","haskey","lowercase","uppercase","camelcase","snakecase","pluralise","concat","ltrim","rtrim","trim","sprintf","addslashes","stripslashes","inline","tpl","uuid","html","url","count","ldate","date","now","locale","dq","q","l","s","n","f","e"],Mt={},jt=function(){st=0,ct=0,ft=0,pt=2,ot=0,dt=[],_t={},gt=[[null,-1]],Ot=null},kt=function(){ut.push([st,ct,ft,pt,ot,dt,_t,gt,Ot])},xt=function(){var e=ut.pop();st=e[0],ct=e[1],ft=e[2],pt=e[3],ot=e[4],dt=e[5],_t=e[6],gt=e[7],Ot=e[8]},It=function(){return w(arguments).join(rt)},Lt=function(e,t){if(2>arguments.length&&(t=ot),t>=0){t=0===t?t:t+1;var n,r,i=new O(t).join(lt);for(e=e.split(Et),r=e.length,n=0;r>n;n++)e[n]=i+e[n];return e.join(rt)}return e},Kt=function(){var e=w(arguments);if(!(e.length<1)){var t,n,r,i=e.shift(),u=e.length;for(t=0;u>t;t++)if(r=e[t])for(n in r)r[m](n)&&(i[n]=r[n]);return i}},Ut=function(e,t){var n,r;if(t)r=a(t).split(" "),Q=a(r[0]),X=a(r[1]);else{for(n=e.split("\n");n.length&&!a(n[0]).length;)n.shift();n.length&&(r=a(n.shift()).split(" "),Q=a(r[0]),X=a(r[1])),e=n.join("\n")}return e},Ht=function(e){for(var t,n=0,r=e.length,i="";r>n;)switch(t=e.charAt(n++),t.charCodeAt(0)){case 34:i+="&quot;";break;case 38:i+="&amp;";break;case 39:i+="&#39;";break;case 60:i+="&lt;";break;case 62:i+="&gt;";break;default:i+=t}return i},Ft=function(e,t){var n;return(n=V[e])?n[1]?q&&t?(t(n[0]),""):n[0]:D&&x?q&&t?(F(n[0],{encoding:p.ENCODING},function(e,n){t(e?"":n)}),""):L(n[0],{encoding:p.ENCODING}):"#"===n[0].charAt(0)?q&&t?(t(window.document.getElementById(n[0].substring(1)).innerHTML||""),""):window.document.getElementById(n[0].substring(1)).innerHTML||"":q&&t?(P("GET",n[0],null,t),""):P("GET",n[0]):""},Pt=function(e){return' ("undefined" !== typeof('+e+")) "},Rt=function(e){e=e.split(",");var t=a(e.shift()),n=a(e.join(","));return"';"+rt+Lt(t+" = ("+n+");")+rt},$t=function(e){return e&&e.length?(e=a(e),"';"+rt+Lt('if ("undefined" !== typeof('+e+")) delete "+e+";")+rt):"'; "+rt},Bt=function(e){var t="';"+Lt(vn({IFCOND:e}));return ct++,ot++,t},qt=function(e){ot--;var t="';"+Lt(On({ELIFCOND:e}));return ot++,t},Gt=function(){ot--;var e="';"+Lt(bn());return ot++,e},Yt=function(){ct--,ot--;var e="';"+Lt(Cn());return e},zt=function(e){var t,n,r,i,u,o=e.indexOf(" as "),l=e.indexOf(" in ");if(l>-1?(e=[e.slice(0,l),e.slice(l+4)],n=a(e[1]),r="_O"+ ++at,i=e[0].split(",")):(e=[e.slice(0,o),e.slice(o+4)],n=a(e[0]),r="_O"+ ++at,i=e[1].split("=>")),u=i.length>=2){var s=a(i[0])+"__RAW__",c=a(i[1])+"__RAW__",f="_OK"+ ++at,p="_K"+ ++at,d="_L"+ ++at,_="_V"+ ++at;t="';"+Lt(En({O:n,_O:r,_OK:f,K:s,_K:p,_L:d,V:c,_V:_,ASSIGN1:"data['"+s+"'] = "+f+"["+p+"]; data['"+c+"'] = "+_+" = "+r+"["+f+"["+p+"]];"},2)),pt=2,ot+=2}else{var c=a(i[0])+"__RAW__",p="_K"+ ++at,d="_L"+ ++at,_="_V"+ ++at;t="';"+Lt(En({O:n,_O:r,_K:p,_L:d,V:c,_V:_,ASSIGN1:"data['"+c+"'] = "+_+" = "+r+"["+p+"];"},1)),pt=1,ot+=2}return st++,ft++,t},Vt=function(){var e;return 2===pt?(ft--,ot+=-2,e="';"+Lt(Tn(null,2)),ot+=1):(ft--,ot+=-2,e="';"+Lt(Tn(null,1)),ot+=1),e},Jt=function(){var e;return ft===st?2===pt?(st--,ft--,ot+=-2,e="';"+Lt(An(null,3))):(st--,ft--,ot+=-2,e="';"+Lt(An(null,2))):(st--,ot+=-1,e="';"+Lt(An(null,1))),e},Qt=function(e){return J[e]||(kt(),jt(),J[e]=" "+an(Ut(Ft(e)),!1)+"'; "+rt,xt()),Lt(J[e])},Xt=function(e){e=e.split(",");var t=a(e.shift()),n=e.join(",");return"' + %tpl( \""+t+'", '+n+" ); "+rt},Wt=function(e){return Ot=a(e),"'; "+rt},Zt=function(e){return e=a(e),dt.push([e,-1,-1,0,gt[0][1]]),_t[e]=_t[e]?_t[e]+1:1,vt=dt.length,gt.unshift([e,vt-1]),ht=e,mt=null,"' +  __||"+e+"||__"},en=function(){if(1<gt.length){var e=gt.shift();return mt=e[0],vt=e[1]+1,ht=null,"__||/"+e[0]+"||__"}return""},tn=function(e,t,n){var r,i,u,o,l;for(r=e.split(t),i=r.length,u=[],o=0;i>o;o++)l=r[o].split(n),u.push(l[0]),l.length>1&&u.push(l[1]);return u},nn=function Nn(e,t,n){if(t)switch(n=n||"",t){case"isset":return n=n.replace(wt.controls2,Nn),Pt(n);case"set":return n=n.replace(wt.controls2,Nn),Rt(n);case"unset":return n=n.replace(wt.controls2,Nn),$t(n);case"if":return n=n.replace(wt.controls2,Nn),Bt(n);case"elseif":return n=n.replace(wt.controls2,Nn),qt(n);case"else":return Gt(n);case"endif":return Yt(n);case"for":return n=n.replace(wt.controls2,Nn),zt(n);case"elsefor":return Vt(n);case"endfor":return Jt(n);case"extends":return Wt(n);case"block":return Zt(n);case"endblock":return en(n);case"template":return n=n.replace(wt.controls2,Nn),Xt(n);case"include":return Qt(n)}return e},rn=function(e){for(var t,n,r,i,u,o,l,a,s,c,f=[],p=dt.length;p--;)n=dt[p],t=n[0],l=n[1],a=n[2],s=n[3],c=n[4],r="__||"+t+"||__",i="__i__.renderBlock( '"+t+"' ); ",u=r.length,o=i.length,c>-1&&(dt[c][3]+=o-(a-l+1)),a+=s,1===_t[t]&&f.push([t,mn({BLOCKCODE:e.slice(l+u,a-u-1)+"';"})]),e=e.slice(0,l)+i+e.slice(a+1),1<=_t[t]&&_t[t]--;return dt=null,_t=null,gt=null,[e,f]},un=function(e,t,n,r){for(var i=t,u=!1,o="";r>n&&(i+=o=e[n++],t!==o||u);)u=!u&&"\\"===o;return i},on=function Mn(e,t,n,r){if(r=r||"VARSTR",Tt.test(e[t])){var i,u,o,l,a,s,c,f,p,d,_,g=0,h={},m=[],v=0;for(u=e[t++];n>t&&St.test(e[t]);)u+=e[t++];for(l=u,u="data['"+u+"']",a=l.length,v=0;n>t&&yt.test(e[t]);)v++,t++;for(c=0;n>t&&("."===e[t]||"["===e[t]);){for(f=e[t++];n>t&&yt.test(e[t]);)v++,t++;if("."===f){for(o="";n>t&&St.test(e[t]);)o+=e[t++];if(s=o.length,!s)break;u+="['"+o+"']",a+=v+1+s,v=0}else if("["===f){if(c++,p=e[t],'"'===p||"'"===p)o=un(e,p,t+1,n),g++,d="__##"+r+g+"##__",h[d]=o,u+=f+d,s=o.length,t+=s,a+=v+1+s,v=0;else if(At.test(p)){for(o=e[t++];n>t&&At.test(e[t]);)o+=e[t++];u+=f+o,s=o.length,a+=v+1+s,v=0}else if("$"===p)_=e.slice(t+1),i=Mn(_,0,_.length,r+"_"+g+"_"),i&&(o=i[i.length-1],u+=f+o[0][0],s=o[1],t+=s+1,a+=v+2+s,v=0,m=m.concat(i));else{if("]"!==p)break;if(!(c>0))break;c--,u+=f+e[t++],a+=v+2,v=0}for(;n>t&&yt.test(e[t]);)v++,t++;if("]"===e[t]){if(!(c>0))break;c--,u+=e[t++],a+=v+1,v=0}}for(;n>t&&yt.test(e[t]);)v++,t++}return m.push([[u,l],a,h]),m}return null},ln=function(e,t,n,r){if(r&&Mt[m](r)){var i=Mt[r];return i instanceof d?i.render([]):i}return"Contemplate."+t},an=function(e,t){var n,r,i,u,o,l,a,s,c,f,d,_,g,h,v,O,b,C;for(n=tn(e,Q,X),r=n.length,l=!1,i="",o=0;r>o;o++){if(u=n[o],l){for(a="	"+u.replace(wt.specials," ")+"",d=a.length,c={},s={},_=0,g="",h="",v=0;d>_;)if(g=a[_++],'"'===g||"'"===g)O=un(a,g,_,d),v++,f="__##STR"+v+"##__",s[f]=O,h+=f,_+=O.length-1;else if("$"===g)if(O=on(a,_,d)){for(b=0;b<O.length;b++)C=O[b],v++,f="__##VAR"+v+"##__",c[f]=C[0],s=p.merge(s,C[2]);h+=f,_+=C[1]}else h+="$";else h+=g;a=h,ht=null,mt=null,vt=-1,a=a.replace(wt.controls,nn).replace(wt.functions,ln).replace(wt.replacements,"' + ( $1 ) + '");for(f in c)c[m](f)&&(a=a.split(f+"__RAW__").join(c[f][1]),a=a.split(f).join(c[f][0]));for(f in s)s[m](f)&&(a=a.split(f).join(s[f]));u=a.split("	").join(W).split("").join(Lt(Z)),ht?(ht="__||"+ht+"||__",dt[vt-1][1]=i.length+a.indexOf(ht)):mt&&(mt="__||/"+mt+"||__",dt[vt-1][2]=i.length+a.indexOf(mt)+mt.length),l=!1}else it&&(u=u.split("\\").join("\\\\")),u=u.split("'").join("\\'").split(/\n/).join(nt),l=!0;i+=u}return!1!==t?rn(i):i},sn=function(e){return Y+e.replace(Ct,"_")+"_tpl.js"},cn=function(e){return"Contemplate_"+e.replace(Ct,"_")+"_Cached"},fn=function(e,t){jt();var n,r,i,u,o=an(Ut(Ft(e),t)),l={};for(u=o[0],o=o[1],r=o.length,i=Ot?Sn(null,1):Sn({FCODE:"__p__ += '"+u+"';"},2),n=0;r>n;n++)l[o[n][0]]=M("Contemplate,__i__",o[n][1]);return[M("Contemplate,__i__",i),l]},pn=function(e,t,n,r){jt();var i,u,o,l,a,s,c,f=an(Ut(Ft(e),r));for(c=f[0],f=f[1],a=f.length,s=[],l=0;a>l;l++)s.push(rt+hn({BLOCKNAME:f[l][0],BLOCKMETHODNAME:f[l][0],BLOCKMETHODCODE:Lt(f[l][1],1)}));s=s.length?rt+"_blocks = { "+rt+Lt(s.join(","+rt),1)+rt+"};"+rt:"",Ot?(u="this.extend( '"+Ot+"' );",o=yn(null,1)):(u="",o=yn({RCODE:"__p__ += '"+c+"';"},2)),i=et?et:"";var p=gn({CLASSNAME:n,TPLID:e,PREFIXCODE:i,EXTENDCODE:Lt(u,2),BLOCKS:Lt(s,2),RENDERCODE:Lt(o,4)});return _n(t,p)},dn=function(e,t){var n;if(n=V[e]){if(n[1]){var r,i;return t.parsed?i=wn(p,e,M("Contemplate,__i__",t.parsed)):(r=fn(e,t.separators),i=wn(p,e,r[0]).setBlocks(r[1])),Ot&&i.extend(p.tpl(Ot)),i}if(D||(G=p.CACHE_TO_DISK_NONE),!0!==t.autoUpdate&&p.CACHE_TO_DISK_NOUPDATE===G){var u=sn(e),o=cn(e);if(K(u)||pn(e,u,o,t.separators),K(u)){var l=require(u)(p),i=(new l).setId(e);return i}return null}if(!0===t.autoUpdate||p.CACHE_TO_DISK_AUTOUPDATE===G){var u=sn(e),o=cn(e);if(K(u)){var a=U(u),s=U(n[0]);a.mtime.getTime()<=s.mtime.getTime()&&pn(e,u,o,t.separators)}else pn(e,u,o,t.separators);if(K(u)){var l=require(u)(p),i=(new l).setId(e);return i}return null}var r=fn(e,t.separators),i=wn(p,e,r[0]).setBlocks(r[1]);return Ot&&i.extend(p.tpl(Ot)),i}return null},_n=function(e,t,n){return n?void H(e,t,{encoding:p.ENCODING},function(e){n(!e)}):I(e,t,{encoding:p.ENCODING})},gn=function(e){var t=It;return[e.PREFIXCODE,t("","!function (root, moduleName, moduleDefinition) {","","    //","    // export the module","","    // node, CommonJS, etc..","    if ( 'object' === typeof(module) && module.exports ) module.exports = moduleDefinition();","","    // AMD, etc..","    else if ( 'function' === typeof(define) && define.amd ) define( moduleDefinition );","","    // browser, etc..","    else root[ moduleName ] = moduleDefinition();","","","}(this, '"),e.CLASSNAME,t("', function( ) {",'    "use strict";',"    return function( Contemplate ) {","    /* Contemplate cached template '"),e.TPLID,t("' */","    /* quasi extends main Contemplate class */","    ","    var Contemplate_tpl = Contemplate.tpl;","    ","    /* constructor */","    function "),e.CLASSNAME,t("(id)","    {","        /* initialize internal vars */","        var _extends = null, _blocks = null;","        ","        this.id = id;","        this.d = null;","        ","        ","        /* tpl-defined blocks render code starts here */",""),e.BLOCKS,t("","        /* tpl-defined blocks render code ends here */","        ","        /* template methods */","        ","        this.setId = function(id) {","            if ( id ) this.id = id;","            return this;","        };","        ","        this.extend = function(tpl) {","            if ( tpl && tpl.substr )","                _extends = Contemplate_tpl( tpl );","            else","                _extends = tpl;","            return this;","        };","        ","        /* render a tpl block method */","        this.renderBlock = function(block, __i__) {","            if ( !__i__ ) __i__ = this;","            if ( _blocks && _blocks[block] ) return _blocks[block](__i__);","            else if ( _extends ) return _extends.renderBlock(block, __i__);","            return '';","        };","        ","        /* tpl render method */","        this.render = function(data, __i__) {","            if ( !__i__ ) __i__ = this;","            var __p__ = '';","            if ( _extends )","            {","                __p__ = _extends.render(data, __i__);","            }","            else","            {","                /* tpl main render code starts here */",""),e.RENDERCODE,t("","                /* tpl main render code ends here */","            }","            this.d = null;","            return __p__;","        };","        ","        /* extend tpl assign code starts here */",""),e.EXTENDCODE,t("","        /* extend tpl assign code ends here */","    };","    ","    ","    // export it","    return "),e.CLASSNAME,t(";","    };","});","")].join("")},hn=function(e){var t=It;return[t("","/* tpl block render method for block '"),e.BLOCKNAME,t("' */","'"),e.BLOCKMETHODNAME,t("': function(__i__) {",""),e.BLOCKMETHODCODE,t("","}","")].join("")},mn=function(e){var t=It;return[t("","var __p__ = '', data = __i__.d;",""),e.BLOCKCODE,t("","return __p__;","")].join("")},vn=function(e){var t=It;return[t("","if ("),e.IFCOND,t(")","{","")].join("")},On=function(e){var t=It;return[t("","}","else if ("),e.ELIFCOND,t(")","{","")].join("")},bn=function(){var e=It;return e("","}","else","{","")},Cn=function(){var e=It;return e("","}","")},En=function(e,t){var n=It;return 2===t?[n("","var "),e._O," = ",e.O,", ",e._OK," = Contemplate.keys(",e._O,n(");","if ("),e._OK," && ",e._OK,n(".length)","{","    var "),e._K,", ",e._V,", ",e._L," = ",e._OK,".length",n(";","    for ("),e._K,"=0; ",e._K,"<",e._L,"; ",e._K,n("++)","    {","        "),e.ASSIGN1,n("","        ","")].join(""):[n("","var "),e._O," = Contemplate.values(",e.O,n(");","if ("),e._O," && ",e._O,n(".length)","{","    var "),e._K,", ",e._V,", ",e._L," = ",e._O,".length",n(";","    for ("),e._K,"=0; ",e._K,"<",e._L,"; ",e._K,n("++)","    {","        "),e.ASSIGN1,n("","        ","")].join("")},Tn=function(e,t){var n=It;return 2===t?n("","    }","}","else","{  ",""):n("","    }","}","else","{  ","")},An=function(e,t){var n=It;return 3===t?n("","    }","}",""):2===t?n("","    }","}",""):n("","}","")},Sn=function(e,t){var n=It;return 1===t?"return '';":[n("","var __p__ = '', data = __i__.d;",""),e.FCODE,n("","return __p__;","")].join("")},yn=function(e,t){var n=It;return 1===t?"__p__ = '';":[n("","__i__.d = data;",""),e.RCODE,n("","")].join("")},wn=function(e,t,n){var r=e.tpl,i=e.merge,u=function(t,n){var u=null,o=null,l=null;this.id=null,this.d=null,t&&(this.id=t,u=n),this.setId=function(e){return e&&(this.id=e),this},this.extend=function(e){return o=e&&e.substr?r(e):e,this},this.setRenderFunction=function(e){return u=e,this},this.setBlocks=function(e){return l||(l={}),l=i(l,e),this},this.renderBlock=function(t,n){return n||(n=this),l&&l[t]?l[t](e,n):o?o.renderBlock(t,n):""},this.render=function(t,n){var r="";return n||(n=this),o?r=o.render(t,n):u&&(n.d=t,r=u(e,n)),this.d=null,r}};return new u(t,n)};return p={VERSION:g,CACHE_TO_DISK_NONE:0,CACHE_TO_DISK_AUTOUPDATE:2,CACHE_TO_DISK_NOUPDATE:4,ENCODING:"utf8",init:function(){R||(ut=[],wt.specials=j("[\\n\\r\\v\\t]","g"),wt.replacements=j("\\t[ ]*(.*?)[ ]*\\v","g"),wt.controls=j("\\t[ ]*%("+Dt.join("|")+")\\b[ ]*\\((.*)\\)","g"),wt.controls2=j("%("+Dt.join("|")+")\\b[ ]*\\((.*)\\)","g"),wt.functions=j("%("+Nt.join("|")+")\\b","g"),nt=tt,W="'; "+rt,Z=rt+"__p__ += '",R=!0)},addPlugin:function(e,t){e&&t&&(t instanceof d?Mt[e]=t:(Mt[e]="Contemplate.plg_"+e,p["plg_"+e]=t))},setPrefixCode:function(e){e&&(et=""+e)},setLocaleStrings:function(e){"object"==typeof e&&($=p.merge($,e))},clearLocaleStrings:function(){$={}},setPlurals:function(e){if("object"==typeof e){for(var t in e)e[m](t)&&null==e[t]&&(e[t]=t+"s");B=p.merge(B,e)}},clearPlurals:function(){B={}},setTemplateSeparators:function(e){e&&(e.left&&(Q=""+e.left),e.right&&(X=""+e.right))},setPreserveLines:function(e){arguments.length<1&&(e=!0),nt=e?tt:""},setCacheDir:function(e){Y=l(e,"/")+"/"},setCacheMode:function(e){G=D?e:p.CACHE_TO_DISK_NONE},setSyncMode:function(e){q=!e},clearCache:function(e){z={},e&&(J={})},add:function(e,t){if("object"==typeof e)for(var n in e)e[m](n)&&(N(e[n])?e[n][0]&&(V[n]=[e[n][0],!0]):V[n]=[e[n],!1]);else e&&t&&(N(t)?t[0]&&(V[e]=[t[0],!0]):V[e]=[t,!1])},parseTpl:function(e,t){var n,r,i=t&&t.separators?t.separators:null;return i&&(n=[Q,X],Q=i[0],X=i[1]),jt(),r=an(e),i&&(Q=n[0],X=n[1]),r},tpl:function(e,t,n){n=Kt({autoUpdate:!1,refresh:!1,escape:!0,separators:null},n),it=!1!==n.escape,(n.refresh||!z[e])&&(z[e]=dn(e,n));var r=z[e];return t&&"object"==typeof t?r.render(t):r},inline:function(e,t){return e&&e instanceof d?e.render(t||[]):d(e,t)},haskey:function(e){var t,n,r,i=y.call(e);if(!e||"[object Array]"!==i&&"[object Object]"!==i)return!1;for(t=arguments,r=e,n=1;n<t.length;n++){if(!r||!r[m](t[n]))return!1;r=r[t[n]]}return!0},q:function(e){return"'"+e+"'"},dq:function(e){return'"'+e+'"'},s:function(e){return b(e)},n:function(e){return parseInt(e,10)},f:function(e){return parseFloat(e,10)},e:Ht,html:function(e,n){return t(e,n||"ENT_COMPAT","UTF-8")},url:n,count:r,addslashes:function(e){return(e+"").replace(/[\\"']/g,"\\$&").replace(/\u0000/g,"\\0")},stripslashes:function(e){return(e+"").replace(/\\(.?)/g,function(e,t){switch(t){case"\\":return"\\";case"0":return"\x00";case"":return"";default:return t}})},concat:function(){return w(arguments).join("")},trim:a,ltrim:o,rtrim:l,ucfirst:function(e){return e[0].toUpperCase()+e.substr(1)},lcfirst:function(e){return e[0].toLowerCase()+e.substr(1)},lowercase:function(e){return e.toLowerCase()},uppercase:function(e){return e.toUpperCase()},camelcase:function(e,t,n){return t=t||"_",n?e.split(t).map(p.ucfirst).join(""):p.lcfirst(e.split(t).map(p.ucfirst).join(""))},snakecase:function(e,t){return t=t||"_",e.replace(/([A-Z])/g,t+"$1").toLowerCase()},sprintf:u,time:s,date:function(e,t){return t||(t=s()),c(e,t)},ldate:function(e,t){return t||(t=s()),f($,e,t)},locale:function(e){return $[m](e)?$[e]:e},pluralise:function(e,t){return B[e]&&1!==t?B[e]:e},uuid:function(e){return[e||"UUID",++bt,s()].join("_")},htmltable:function(e,t){e=p.merge({},e),t=p.merge({},t||{});var n,r,i,u,o,l,a,s,c,f,_,g,h,v="",b="",C="",E="",T=[],A=!1,S=t[m]("tpl_row"),y=t[m]("tpl_cell"),w=null,D=null;if(S&&(t.tpl_row instanceof d||(t.tpl_row=new d(t.tpl_row,{$row_class:"row_class",$row:"row"})),w=t.tpl_row),y&&(t.tpl_cell instanceof d||(t.tpl_cell=new d(t.tpl_cell,{$cell:"cell"})),D=t.tpl_cell),v="<table",t.id&&(v+=" id='"+t.id+"'"),t["class"]&&(v+=" class='"+t["class"]+"'"),t.style&&(v+=" style='"+t.style+"'"),t.data)for(n in t.data)t.data[m](n)&&(v+=" data-"+n+"='"+t.data[n]+"'");v+=">",b="",(t.header||t.footer)&&(b="<td>"+(p.keys(e)||[]).join("</td><td>")+"</td>"),C=t.header?"<thead><tr>"+b+"</tr></thead>":"",E=t.footer?"<tfoot><tr>"+b+"</tr></tfoot>":"",v+=C,T=[],s=p.values(e)||[];for(o in s)if(s[m](o))for(c=s[o],N(c)||(c=[c]),f=p.values(c)||[],l=0,a=f.length;a>l;l++)T[l]||(T[l]=new O(a)),T[l][o]=f[l];for(_=t.odd?t.odd:"odd",g=t.even?t.even:"even",A=!1,o=0,a=T.length;a>o;o++){if(h=A?_:g,y)for(r="",u=0,i=T[o].length;i>u;u++)r+=D.render({cell:T[o][u]});else r="<td>"+T[o].join("</td><td>")+"</td>";v+=S?w.render({row_class:h,row:r}):"<tr class='"+h+"'>"+r+"</tr>",A=!A}return T=null,v+=E,v+="</table>"},htmlselect:function(e,t){e=p.merge({},e),t=p.merge({},t||{});var n,r,u,o,l="",a=t[m]("tpl_option"),s=null;if(a&&(t.tpl_option instanceof d||(t.tpl_option=new d(t.tpl_option,{$selected:"selected",$value:"value",$option:"option"})),s=t.tpl_option),l="<select",t.multiple&&(l+=" multiple"),t.disabled&&(l+=" disabled='disabled'"),t.name&&(l+=" name='"+t.name+"'"),t.id&&(l+=" id='"+t.id+"'"),t["class"]&&(l+=" class='"+t["class"]+"'"),t.style&&(l+=" style='"+t.style+"'"),t.data)for(n in t.data)t.data[m](n)&&(l+=" data-"+n+"='"+t.data[n]+"'");l+=">",t.selected?(N(t.selected)||(t.selected=[t.selected]),t.selected=i(t.selected)):t.selected={},t.optgroups&&(N(t.optgroups)||(t.optgroups=[t.optgroups]),t.optgroups=i(t.optgroups));for(n in e)if(e[m](n))if(u=e[n],t.optgroups&&t.optgroups[m](n)){l+="<optgroup label='"+n+"'>";for(r in u)u[m](r)&&(o=u[r],t.use_key?o=r:t.use_value&&(r=o),l+=a?s.render({value:r,option:o,selected:t.selected[m](r)?' selected="selected"':""}):t.selected[m](r)?"<option value='"+r+"' selected='selected'>"+o+"</option>":"<option value='"+r+"'>"+o+"</option>");l+="</optgroup>"}else t.use_key?u=n:t.use_value&&(n=u),l+=a?s.render({value:n,option:u,selected:t.selected[m](n)?' selected="selected"':""}):t.selected[m](n)?"<option value='"+n+"' selected='selected'>"+u+"</option>":"<option value='"+n+"'>"+u+"</option>";return l+="</select>"},getTemplateContents:Ft,hasOwn:function(e,t){return e&&e[m](t)},keys:function(e){return e?E(e):null},values:function(e){if(e){if(e instanceof O)return e;var t,n=[];for(t in e)e[m](t)&&n.push(e[t]);return n}return null},items:function(e){return e?e:null},merge:Kt,data:function(e){if(N(e))return e.slice();var t,n,r={};for(t in e)e[m](t)&&(n=t,r[n]=e[t]);return r}},p.now=p.time,p.l=p.locale,e.constMappingTable={},e.constMappingQuoteStyle={},e.constMappingTable[0]="HTML_SPECIALCHARS",e.constMappingTable[1]="HTML_ENTITIES",e.constMappingQuoteStyle[0]="ENT_NOQUOTES",e.constMappingQuoteStyle[2]="ENT_COMPAT",e.constMappingQuoteStyle[3]="ENT_QUOTES",e.tbls={},p.init(),p});