/*
version 1.8

For documentation look at non-minified version or in the site.
Note this software is provided AS IS with no warranty. It is provided free of charge for u to use.
Author: Nikos M.
Site: http://nikos-web-development.netai.net

*/
;(function(a){if(typeof a.noflashCore=="undefined"||a.noflashCore==null){var b=a.fx.step._default;a.fx.step._default=function(a){if(!a.elem._customAnimate)return b(a);a.elem[a.prop]=a.now},a.noflashCore={Matrix2D:function(){this.eye=function(){this.val={M11:1,M12:0,M21:0,M22:1}},this.eye(),arguments.length>0&&(this.val=a.extend(!0,this.val,arguments[0])),this.add=function(a){this.val.M11+=a.val.M11,this.val.M12+=a.val.M12,this.val.M21+=a.val.M21,this.val.M22+=a.val.M22},this.leftMult=function(a){var b,c,d,e;b=a.val.M11*this.val.M11+a.val.M12*this.val.M21,c=a.val.M11*this.val.M12+a.val.M12*this.val.M22,d=a.val.M21*this.val.M11+a.val.M22*this.val.M21,e=a.val.M21*this.val.M12+a.val.M22*this.val.M22,this.val.M11=b,this.val.M12=c,this.val.M21=d,this.val.M22=e},this.rightMult=function(a){var b,c,d,e;b=this.val.M11*a.val.M11+this.val.M12*a.val.M21,c=this.val.M11*a.val.M12+this.val.M12*a.val.M22,d=this.val.M21*a.val.M11+this.val.M22*a.val.M21,e=this.val.M21*a.val.M12+this.val.M22*a.val.M22,this.val.M11=b,this.val.M12=c,this.val.M21=d,this.val.M22=e},this.display=function(){return"M11="+this.val.M11+", "+"M12="+this.val.M12+", "+"M21="+this.val.M21+", "+"M22="+this.val.M22}},cutimage:function(b,c,d,e,f){var g=e,h=f,i=Math.round(g/d),j=Math.round(h/c),k=[];for(var l=0;l<d;l++)for(var m=0;m<c;m++){var n=a("<div></div>"),o=l*i,p=m*j;n.css({margin:0,padding:0,overflow:"hidden",position:"absolute",top:p+"px",left:o+"px",width:i+"px",height:j+"px",background:"transparent url('"+b.attr("src")+"') no-repeat "+ -o+"px "+ -p+"px"}),k[l*c+m]={piece:n,w:i,h:j,x:o,y:p,iw:g,ih:h}}return k},destroypieces:function(a){if(a!=null){for(var b=0;b<a.length;b++)a[b].piece.children().remove(),a[b].piece.remove(),a[b].piece=null,a[b]=null;a=null}return a},transitions:{"rotate-tiles":{animate:{_custom_step:1},start:{position:"absolute"},easing:"linear"},"rotate-tiles-reverse":{reverse:!0,animate:{_custom_step:0},start:{position:"absolute"},easing:"linear"},"flip-tiles-horizontal":{animate:{_custom_step:1},start:{position:"absolute"},easing:"linear"},"flip-tiles-vertical":{animate:{_custom_step:1},start:{position:"absolute"},easing:"linear"},iris:{rows:1,columns:1,animate:{width:"X(w)px",height:"X(h)px",top:"0px",left:"0px"},start:{"background-position":"50% 50%",width:"0px",height:"0px",top:"OH2",left:"OW2"},easing:"linear"},"iris-reverse":{reverse:!0,rows:1,columns:1,animate:{width:"0px",height:"0px",top:"OH2",left:"OW2"},start:{"background-position":"50% 50%",width:"X(w)px",height:"X(h)px",top:"0px",left:"0px"},easing:"linear"},"fade-tiles":{animate:{opacity:1},start:{opacity:0},easing:"linear"},"fade-grow-tiles":{animate:{opacity:1,width:"X(w)px",height:"X(h)px"},start:{opacity:0,width:"0px",height:"0px"},easing:"linear"},"fade-shrink-tiles":{animate:{opacity:0,width:"0px",height:"0px"},start:{opacity:1,width:"X(w)px",height:"X(h)px"},easing:"linear",reverse:!0},"shrink-tiles":{animate:{width:"0px",height:"0px"},start:{width:"X(w)px",height:"X(h)px"},easing:"linear",reverse:!0},"grow-tiles":{animate:{width:"X(w)px",height:"X(h)px"},start:{width:"0px",height:"0px"},easing:"linear"},"shrink-tiles-horizontal":{animate:{width:"0px"},start:{width:"X(w)px"},easing:"linear",reverse:!0},"grow-tiles-horizontal":{animate:{width:"X(w)px"},start:{width:"0px"},easing:"linear"},"grow-fade-tiles-vertical":{animate:{height:"X(h)px",opacity:1},start:{height:"0px",opacity:0},easing:"linear"},"grow-fade-tiles-horizontal":{animate:{width:"X(w)px",opacity:1},start:{width:"0px",opacity:0},easing:"linear"},"grow-tiles-vertical":{animate:{height:"X(h)px"},start:{height:"0px"},easing:"linear"},"shrink-tiles-vertical":{animate:{height:"0px"},start:{height:"X(h)px"},easing:"linear",reverse:!0},"move-tiles-vertical-down":{animate:{top:"X(y)px"},start:{top:"-X(h)px"},easing:"linear"},"move-tiles-vertical-up":{animate:{top:"X(y)px"},start:{top:"X(ih)px"},easing:"linear"},"move-tiles-vertical-up-down":{animate:{top:"X(y)px"},start1:{top:"-X(h)px"},start2:{top:"X(ih)px"},easing:"linear"},"move-tiles-horizontal-right":{animate:{left:"X(x)px"},start:{left:"-X(w)px"},easing:"linear"},"move-tiles-horizontal-left":{animate:{left:"X(x)px"},start:{left:"X(iw)px"},easing:"linear"},"move-tiles-horizontal-left-right":{animate:{left:"X(x)px"},start1:{left:"-X(w)px"},start2:{left:"X(iw)px"},easing:"linear"},"move-fade-tiles-vertical-down":{animate:{top:"X(y)px",opacity:1},start:{top:"-X(h)px",opacity:0},easing:"linear"},"move-fade-tiles-vertical-up":{animate:{top:"X(y)px",opacity:1},start:{top:"X(ih)px",opacity:0},easing:"linear"},"move-fade-tiles-vertical-up-down":{animate:{top:"X(y)px",opacity:1},start1:{top:"-X(h)px",opacity:0},start2:{top:"X(ih)px",opacity:0},easing:"linear"},"move-fade-tiles-horizontal-right":{animate:{left:"X(x)px",opacity:1},start:{left:"-X(w)px",opacity:0},easing:"linear"},"move-fade-tiles-horizontal-left":{animate:{left:"X(x)px",opacity:1},start:{left:"X(iw)px",opacity:0},easing:"linear"},"move-fade-tiles-horizontal-left-right":{animate:{left:"X(x)px",opacity:1},start1:{left:"-X(w)px",opacity:0},start2:{left:"X(iw)px",opacity:0},easing:"linear"},"fly-top-left":{animate:{left:"0px",top:"0px"},start:{left:"X(iw)px",top:"X(ih)px"},rows:1,columns:1,easing:"linear"},"fly-bottom-left":{animate:{left:"0px",top:"0px"},start:{left:"X(iw)px",top:"-X(ih)px"},rows:1,columns:1,easing:"linear"},"fly-top-right":{animate:{left:"0px",top:"0px"},start:{left:"-X(iw)px",top:"X(ih)px"},rows:1,columns:1,easing:"linear"},"fly-bottom-right":{animate:{left:"0px",top:"0px"},start:{left:"-X(iw)px",top:"-X(ih)px"},rows:1,columns:1,easing:"linear"},"fly-left":{animate:{left:"0px"},start:{left:"X(iw)px"},rows:1,columns:1,easing:"linear"},"fly-right":{animate:{left:"0px"},start:{left:"-X(iw)px"},rows:1,columns:1,easing:"linear"},"fly-top":{animate:{top:"0px"},start:{top:"X(ih)px"},rows:1,columns:1,easing:"linear"},"fly-bottom":{animate:{top:"0px"},start:{top:"-X(ih)px"},rows:1,columns:1,easing:"linear"},"pan-top-left":{animate:{top:"-X(h)px",left:"-X(w)px"},start:{top:"X(y)px",left:"X(x)px"},rows:1,columns:1,easing:"linear",current:{top:"0px",left:"0px"},next:{top:"X(h)px",left:"X(w)px"}},"pan-top-right":{animate:{top:"-X(h)",left:"X(w)"},start:{top:"X(y)px",left:"X(x)px"},rows:1,columns:1,easing:"linear",current:{top:"0px",left:"0px"},next:{top:"X(h)px",left:"-X(w)px"}},"pan-bottom-right":{animate:{top:"X(h)px",left:"X(w)px"},start:{top:"X(y)px",left:"X(x)px"},rows:1,columns:1,easing:"linear",current:{top:"0px",left:"0px"},next:{top:"-X(h)px",left:"-X(w)px"}},"pan-bottom-left":{animate:{top:"X(h)px",left:"-X(w)px"},start:{top:"X(y)px",left:"X(x)px"},rows:1,columns:1,easing:"linear",current:{top:"0px",left:"0px"},next:{top:"-X(h)px",left:"X(w)px"}},"pan-left":{animate:{left:"-X(w)px"},start:{top:"X(y)px",left:"X(x)px"},rows:1,columns:1,easing:"linear",current:{top:"0px",left:"0px"},next:{top:"0px",left:"X(w)px"}},"pan-right":{animate:{left:"X(w)px"},start:{top:"X(y)px",left:"X(x)px"},rows:1,columns:1,easing:"linear",current:{top:"0px",left:"0px"},next:{top:"0px",left:"-X(w)px"}},"pan-top":{animate:{top:"-X(h)px"},start:{top:"X(y)px",left:"X(x)px"},rows:1,columns:1,easing:"linear",current:{top:"0px",left:"0px"},next:{top:"X(h)px",left:"0px"}},"pan-bottom":{animate:{top:"X(h)px"},start:{top:"X(y)px",left:"X(x)px"},rows:1,columns:1,easing:"linear",current:{top:"0px",left:"0px"},next:{top:"-X(h)px",left:"0px"}}},randomTransitions:[{transition:"rotate-tiles-reverse",easing:"quintEaseOut",duration:2.5,overlap:1,rows:6,columns:6,ordering:"columns-first"},{transition:"flip-tiles-vertical",easing:"backEaseOut",duration:2,overlap:.9,rows:4,columns:4,ordering:"spiral-top-left"},{transition:"iris-reverse",easing:"quintEaseOut",duration:2,overlap:.9,rows:1,columns:1,ordering:"rows-first"},{transition:"grow-tiles",easing:"linear",duration:2,overlap:.9,rows:6,columns:6,ordering:"rows-first"},{transition:"fade-shrink-tiles",easing:"linear",duration:2,overlap:.9,rows:6,columns:6,ordering:"left-right"},{transition:"shrink-tiles",easing:"quintEaseOut",duration:2,overlap:1,rows:6,columns:6,ordering:"columns-first"},{transition:"fade-tiles",easing:"linear",duration:2,overlap:.9,rows:6,columns:6,ordering:"diagonal-top-left"},{transition:"fade-tiles",easing:"linear",duration:2,overlap:.9,rows:5,columns:5,ordering:"random"},{transition:"fade-tiles",easing:"linear",duration:2,overlap:.9,rows:5,columns:5,ordering:"spiral-top-left"},{transition:"fade-tiles",easing:"linear",duration:2,overlap:.9,rows:5,columns:5,ordering:"left-right"},{transition:"fly-top-left",easing:"backEaseOut",duration:2,overlap:.9,rows:1,columns:1,ordering:"columns-first"},{transition:"pan-top-left",easing:"backEaseOut",duration:2,overlap:.9,rows:1,columns:1,ordering:"columns-first"},{transition:"move-tiles-horizontal-left-right",easing:"backEaseOut",duration:2,overlap:.8,rows:7,columns:1,ordering:"columns-first"},{transition:"move-tiles-horizontal-right",easing:"backEaseOut",duration:2,overlap:.8,rows:7,columns:1,ordering:"columns-first"},{transition:"move-tiles-vertical-up-down",easing:"backEaseOut",duration:2,overlap:.9,rows:1,columns:7,ordering:"columns-first"},{transition:"move-tiles-vertical-up",easing:"quintEaseOut",duration:2,overlap:.9,rows:1,columns:7,ordering:"columns-first"},{transition:"grow-tiles-horizontal",easing:"linear",duration:2,overlap:.9,rows:1,columns:6,ordering:"random"},{transition:"grow-tiles-vertical",easing:"linear",duration:2,overlap:.9,rows:6,columns:1,ordering:"random"}],getRandomTransition:function(){return a.noflashCore.randomTransitions[Math.round((a.noflashCore.randomTransitions.length-1)*Math.random())]},translate:function(a,b,c,d){for(var e in a){var f=/(?:X\()(\w+)(?:\))/.exec(a[e]+"");f!=null&&(a[e]=a[e].replace(/X\(\w+\)/,b[f[1]]));var g=/OW2/.exec(a[e]+"");g!=null&&(a[e]=a[e].replace(/OW2/,c));var h=/OH2/.exec(a[e]+"");h!=null&&(a[e]=a[e].replace(/OH2/,d))}},linearArray:function(a){var b=[];for(var c=0;c<a;c++)b[c]=c;return b},rows:function(a,b,c){var d=[];for(var e=0;e<c;e++)for(var f=0;f<b;f++)d[e*b+f]=f;return{pieces:a,delays:d,groups:b}},rowsReverse:function(a,b,c){var d=[];for(var e=0;e<c;e++)for(var f=0;f<b;f++)d[e*b+f]=b-1-f;return{pieces:a,delays:d,groups:b}},columns:function(a,b,c){var d=[];for(var e=0;e<c;e++)for(var f=0;f<b;f++)d[e*b+f]=e;return{pieces:a,delays:d,groups:c}},columnsReverse:function(a,b,c){var d=[];for(var e=0;e<c;e++)for(var f=0;f<b;f++)d[e*b+f]=c-1-e;return{pieces:a,delays:d,groups:c}},columnsFirst:function(b,c,d){return{pieces:b,delays:a.noflashCore.linearArray(b.length),groups:b.length}},columnsFirstReverse:function(b,c,d){var e=a.noflashCore.columnsFirst(b,c,d);return{pieces:e.pieces.reverse(),delays:e.delays,groups:e.groups}},rowsFirst:function(b,c,d){var e=[];for(var f=0;f<c;f++)for(var g=0;g<d;g++)e[f*d+g]=b[g*c+f];return{pieces:e,delays:a.noflashCore.linearArray(b.length),groups:b.length}},rowsFirstReverse:function(b,c,d){var e=a.noflashCore.rowsFirst(b,c,d);return{pieces:e.pieces.reverse(),delays:e.delays,groups:e.groups}},spiral:function(b,c,d,e){var f=[],g=0,h=0,i=[0,1,2,3],j=0,k=0,l=c-1,m=d-1,n=1,o=0,p=!0;switch(e%4){case 1:g=j,h=m,i=[2,1,0,3],n=-1;break;case 2:g=l,h=k,i=[0,3,2,1],n=-1;break;case 3:g=l,h=m,i=[2,3,0,1],n=1;break;default:g=j,h=k,i=[0,1,2,3],n=1}while(l>=j&&m>=k){p&&f.push(b[h*c+g]),p=!0;switch(i[o]){case 0:h>=m?(o=(o+1)%4,p=!1,n==1?j++:l--):h++;break;case 1:g>=l?(o=(o+1)%4,p=!1,n==1?m--:k++):g++;break;case 2:h<=k?(o=(o+1)%4,p=!1,n==1?l--:j++):h--;break;case 3:g<=j?(o=(o+1)%4,p=!1,n==1?k++:m--):g--}}return e>=4&&f.reverse(),{pieces:f,delays:a.noflashCore.linearArray(f.length),groups:f.length}},spiralTopLeft:function(b,c,d){return a.noflashCore.spiral(b,c,d,0)},spiralTopRight:function(b,c,d){return a.noflashCore.spiral(b,c,d,1)},spiralBottomLeft:function(b,c,d){return a.noflashCore.spiral(b,c,d,2)},spiralBottomRight:function(b,c,d){return a.noflashCore.spiral(b,c,d,3)},spiralTopLeftRev:function(b,c,d){return a.noflashCore.spiral(b,c,d,4)},spiralTopRightRev:function(b,c,d){return a.noflashCore.spiral(b,c,d,5)},spiralBottomLeftRev:function(b,c,d){return a.noflashCore.spiral(b,c,d,6)},spiralBottomRightRev:function(b,c,d){return a.noflashCore.spiral(b,c,d,7)},upDown:function(b,c,d){var e=[],f=!1;for(var g=0;g<d;g++){for(var h=0;h<c;h++)f?e[g*c+h]=b[g*c+c-1-h]:e[g*c+h]=b[g*c+h];f=!f}return{pieces:e,delays:a.noflashCore.linearArray(b.length),groups:b.length}},upDownReverse:function(b,c,d){var e=a.noflashCore.upDown(b,c,d);return{pieces:e.pieces.reverse(),delays:e.delays,groups:e.groups}},leftRight:function(b,c,d){var e=[],f=!1;for(var g=0;g<c;g++){for(var h=0;h<d;h++)f?e[g*d+h]=b[(d-1-h)*c+g]:e[g*d+h]=b[h*c+g];f=!f}return{pieces:e,delays:a.noflashCore.linearArray(b.length),groups:b.length}},leftRightReverse:function(b,c,d){var e=a.noflashCore.leftRight(b,c,d);return{pieces:e.pieces.reverse(),delays:e.delays,groups:e.groups}},random:function(b,c,d){for(var e,f,g=b.length;g;e=parseInt(Math.random()*g),f=b[--g],b[g]=b[e],b[e]=f);return{pieces:b,delays:a.noflashCore.linearArray(b.length),groups:b.length}},diagonalTopLeft:function(a,b,c){var d=[];for(var e=0;e<c;e++)for(var f=0;f<b;f++)d[e*b+f]=e+f;return{pieces:a,delays:d,groups:b+c-1}},diagonalBottomRight:function(a,b,c){var d=[];for(var e=0;e<c;e++)for(var f=0;f<b;f++)d[e*b+f]=c-1-e+b-1-f;return{pieces:a,delays:d,groups:b+c-1}},diagonalBottomLeft:function(a,b,c){var d=[];for(var e=0;e<c;e++)for(var f=0;f<b;f++)d[e*b+f]=e+b-1-f;return{pieces:a,delays:d,groups:b+c-1}},diagonalTopRight:function(a,b,c){var d=[];for(var e=0;e<c;e++)for(var f=0;f<b;f++)d[e*b+f]=c-1-e+f;return{pieces:a,delays:d,groups:b+c-1}},checkerBoard:function(a,b,c){var d=[],e=!1,f;for(var g=0;g<c;g++){f=e;for(var h=0;h<b;h++)d[g*b+h]=f?1:0,f=!f;e=!e}return{pieces:a,delays:d,groups:2}}},a.noflashCore.ordering={checkerboard:a.noflashCore.checkerBoard,"diagonal-top-left":a.noflashCore.diagonalTopLeft,"diagonal-top-right":a.noflashCore.diagonalTopRight,"diagonal-bottom-left":a.noflashCore.diagonalBottomLeft,"diagonal-bottom-right":a.noflashCore.diagonalBottomRight,rows:a.noflashCore.rows,"rows-reverse":a.noflashCore.rowsReverse,"rows-first":a.noflashCore.rowsFirst,"rows-first-reverse":a.noflashCore.rowsFirstReverse,columns:a.noflashCore.columns,"columns-reverse":a.noflashCore.columnsReverse,"columns-first":a.noflashCore.columnsFirst,"columns-first-reverse":a.noflashCore.columnsFirstReverse,"spiral-top-left":a.noflashCore.spiralTopLeft,"spiral-top-right":a.noflashCore.spiralTopRight,"spiral-bottom-left":a.noflashCore.spiralBottomLeft,"spiral-bottom-right":a.noflashCore.spiralBottomRight,"spiral-top-left-reverse":a.noflashCore.spiralTopLeftRev,"spiral-top-right-reverse":a.noflashCore.spiralTopRightRev,"spiral-bottom-left-reverse":a.noflashCore.spiralBottomLeftRev,"spiral-bottom-right-reverse":a.noflashCore.spiralBottomRightRev,random:a.noflashCore.random,"up-down":a.noflashCore.upDown,"up-down-reverse":a.noflashCore.upDownReverse,"left-right":a.noflashCore.leftRight,"left-right-reverse":a.noflashCore.leftRightReverse}}a.fn.noflash=function(b){var c={rows:1,columns:1,delay:5,duration:2,caption:!0,controls:!0,transition:"random",easing:"linear",ordering:"random",randomOrder:!1,width:500,height:500,overlap:.9,imgs:null,preload:!0,preloaderClass:"noflash-preloader",captionClass:"noflash-caption",controlsClass:"noflash-controls",backColor:"#000"};b=a.extend(c,b);var d=Math.PI/180,e=["transformProperty","WebkitTransform","OTransform","msTransform","MozTransform"],f=["transformOriginProperty","WebkitTransformOrigin","OTransformOrigin","msTransformOrigin","MozTransformOrigin"],g=null,h=null,i=this.eq(0)[0];for(var j=0;j<e.length;j++){i.style[e[j]]!=null&&(g=e[j]),i.style[f[j]]!=null&&(h=f[j]);if(g!=null&&h!=null)break}var k=this.eq(0),l,m,n,o,p,q=[],r=[],s=[],t,u=-1,v,w=!0,x=!1,y=null,z=null,A=[],B=0,C=[],D=[],E=!1,F=a("<div><div class='"+b.preloaderClass+"'></div></div>"),G=function(c){B=0,D=[],C=[],l.append(F);var d=function(b){B++,b.type=="error"&&C.push(a(this).attr("src")),q.length==B&&c()};for(var e=0;e<q.length;e++)D[e]=a(new Image(b.width,b.height)),D[e].load(d),D[e].error(d),D[e].attr("src",q[e].attr("src"))},H=function(){if(b.preload){F!=null&&(F.remove(),F=null);for(var c=0;c<C.length;c++){var d=0;while(d<q.length)q[d].attr("src")==C[c]&&(q.splice(d,1),r.splice(d,1),s.splice(d,1)),d++}}for(var c=0;c<q.length;c++){A[c]=c;if(b.controls){var e=a("<a class='bullet' href='javascript:void(0)' rel='"+c+"'></a>");n.find(".bullets").append(e)}}b.controls&&(n.find(".controls").append("<a class='prev' href='javascript:void(0)'></a><a class='play-pause' href='javascript:void(0)'></a><a class='next' href='javascript:void(0)'></a>"),n.find(".bullet").click(function(){if(!x){var b=parseInt(a(this).attr("rel"));E||N(b+"")}}),n.find(".prev").click(function(){x||R()}),n.find(".next").click(function(){x||Q()}),n.find(".play-pause").click(function(){x=!x,x?(O(),a(this).addClass("paused")):(P(),a(this).removeClass("paused"))})),b.randomOrder&&(A=a.noflashCore.random(A,0,0).pieces),u=0,t=0,o.append(q[A[t]]),b.controls&&I(),b.caption&&s[A[t]]!=null&&s[A[t]]!=""&&m.html(s[A[t]]).show(),S()},I=function(){n.find(".bullet").removeClass("active"),n.find('[rel="'+t+'"]').addClass("active")},J=function(){l=a("<div></div>"),l.css({margin:"0px",padding:"0px",overflow:"hidden",position:"absolute",top:"0px",left:"0px",width:b.width+"px",height:b.height+"px","background-color":b.backColor}),k.children("div").each(function(){q.push(a(this).children("img").filter(":first").css({position:"absolute"})),s.push(a(this).children("span").filter(":first").html());var c={};c.transition=b.transition,c.delay=b.delay,c.easing=b.easing,c.ordering=b.ordering,c.rows=b.rows,c.columns=b.columns,c.overlap=b.overlap,c.duration=b.duration;if(a(this).attr("class")!=""&&a(this).attr("class")!=null){var d=a(this).attr("class").split(" ");for(var e=0;e<d.length;e++){var f=d[e].split("=");c[f[0]]=f[1]}c.delay=parseFloat(c.delay),c.rows=parseInt(c.rows),c.columns=parseInt(c.columns),c.overlap=parseFloat(c.overlap),c.duration=parseFloat(c.duration)}r.push(c),a(this).remove()});if(b.imgs!=null)for(var c=0;c<b.imgs.length;c++){b.imgs[c].alt!=null?q.push(a("<img src='"+b.imgs[c].src+"' alt='"+b.imgs[c].alt+"' title='"+b.imgs[c].alt+"'/>")):q.push(a("<img src='"+b.imgs[c].src+"'/>"));var d={};b.imgs[c].transition!=null?d.transition=b.imgs[c].transition:d.transition=b.transition,b.imgs[c].easing!=null?d.easing=b.imgs[c].easing:d.easing=b.easing,b.imgs[c].ordering!=null?d.ordering=b.imgs[c].ordering:d.ordering=b.ordering,b.imgs[c].delay!=null?d.delay=b.imgs[c].delay:d.delay=b.delay,b.imgs[c].rows!=null?d.rows=b.imgs[c].rows:d.rows=b.rows,b.imgs[c].columns!=null?d.columns=b.imgs[c].columns:d.columns=b.columns,b.imgs[c].overlap!=null?d.overlap=b.imgs[c].overlap:d.overlap=b.overlap,b.imgs[c].duration!=null?d.duration=b.imgs[c].duration:d.duration=b.duration,r.push(d),b.imgs[c].caption!=null?s.push(b.imgs[c].caption):s.push("")}k.append(l),o=a("<div id='thisimg'></div>"),o.css({margin:0,padding:0,position:"absolute",top:"0px",left:"0px","z-index":2}),p=a("<div id='nextimg'></div>"),p.css({margin:0,padding:0,position:"absolute",top:"0px",left:"0px","z-index":1}),l.append(o),l.append(p),m=a("<div class='"+b.captionClass+"'></div>"),m.css({"z-index":4}),m.hide(),b.caption&&l.append(m),n=a("<div class='"+b.controlsClass+"'></div>"),n.css({"z-index":10}),n.append("<div class='bullets'></div><div class='controls'></div>"),b.controls&&l.append(n),b.preload?G(H):H()},K=0,L=!1,M=!1,N=function(c){clearTimeout(v);if(y!=null)for(var e=0;e<y.length;e++)y[e].piece.stop(!0,!1);u=t,q.length>0&&(c=="+1"?t=(t+1)%q.length:c=="-1"?t=(t+q.length-1)%q.length:t=parseInt(c)),b.caption&&m.stop(!0,!0).hide(),b.controls&&I();var f=r[A[t]];f.transition=="random"&&(f=a.noflashCore.getRandomTransition());var i=f.ordering,j=a.noflashCore.transitions[f.transition].rows!=null?a.noflashCore.transitions[f.transition].rows:f.rows,k=a.noflashCore.transitions[f.transition].columns!=null?a.noflashCore.transitions[f.transition].columns:f.columns;z!=null&&(z=a.noflashCore.destroypieces(z)),y!=null&&(y=a.noflashCore.destroypieces(y)),a.noflashCore.transitions[f.transition].reverse==1?(y=a.noflashCore.cutimage(q[A[u]],j,k,b.width,b.height),o.append(q[A[t]])):y=a.noflashCore.cutimage(q[A[t]],j,k,b.width,b.height),howMany=0,K=y.length;if(f.transition=="flip-tiles-horizontal"||f.transition=="flip-tiles-vertical"){z=a.noflashCore.cutimage(q[A[u]],j,k,b.width,b.height);for(var e=0;e<y.length;e++){var l=a("<div></div>");l.css({position:"absolute",margin:0,padding:0,top:y[e].y+"px",left:y[e].x+"px",width:y[e].w+"px",height:y[e].h+"px"}),l[0]._custom_step=0,l[0]._customAnimate=!0,l[0]._p1=y[e].piece[0],l[0]._p2=z[e].piece[0],l[0]._x=y[e].x,l[0]._y=y[e].y,l[0]._w=y[e].w,l[0]._h=y[e].h,z[e].piece.appendTo(l),y[e].piece.appendTo(l),y[e].piece.css({position:"absolute",top:"0px",left:"0px",visibility:"hidden"}),z[e].piece.css({position:"absolute",top:"0px",left:"0px",visibility:"visible"}),y[e].piece=l}o.empty()}if(f.transition=="rotate-tiles"||f.transition=="rotate-tiles-reverse")for(var e=0;e<y.length;e++)f.transition=="rotate-tiles"&&(y[e].piece[0]._custom_step=0),f.transition=="rotate-tiles-reverse"&&(y[e].piece[0]._custom_step=1),y[e].piece[0]._customAnimate=!0,y[e].piece[0]._x=y[e].x,y[e].piece[0]._y=y[e].y,y[e].piece[0]._w=y[e].w,y[e].piece[0]._h=y[e].h;if(a.noflashCore.transitions[f.transition].current!=null||a.noflashCore.transitions[f.transition].next!=null){z=a.noflashCore.cutimage(q[A[u]],j,k,b.width,b.height);for(var e=0;e<y.length;e++){var n=a.extend(!0,{},a.noflashCore.transitions[f.transition]);a.noflashCore.translate(n.current,z[e],b.width/2+"px",b.height/2+"px"),a.noflashCore.translate(n.next,y[e],b.width/2+"px",b.height/2+"px"),z[e].piece.css(n.current),y[e].piece.css(n.next);var l=a("<div></div>");z[e].piece.appendTo(l),y[e].piece.appendTo(l),y[e].piece=l,l.css({position:"absolute",margin:0,padding:0})}o.empty()}var s=a.noflashCore.ordering[i](y,j,k);y=s.pieces,p.empty(),o.css({"z-index":0}),f.overlap=Math.min(1,Math.max(0,f.overlap));var w=s.groups,x=1e3*f.duration/(w-(w-1)*f.overlap),B=x*f.overlap,C=x-B,D=!1;M=!0;for(var e=0;e<K;e++){var n=a.extend(!0,{},a.noflashCore.transitions[f.transition]);n.start1&&n.start2&&(D?n.start=n.start1:n.start=n.start2),a.noflashCore.translate(n.start,y[e],b.width/2+"px",b.height/2+"px"),a.noflashCore.translate(n.animate,y[e],b.width/2+"px",b.height/2+"px");var E={duration:x,easing:f.easing};e==y.length-1&&(E.complete=function(){T()}),f.transition=="flip-tiles-horizontal"&&(E.step=function(b,c){var e=2*(1-b)-1;e<0?(this._p1.style.visibility="visible",this._p2.style.visibility="hidden",e=-e):(this._p2.style.visibility="visible",this._p1.style.visibility="hidden"),e>1&&(e-=2*(e-1));var f=-(1-e)*2,i=new a.noflashCore.Matrix2D;i.leftMult(new a.noflashCore.Matrix2D({M11:1,M12:Math.tan(f*d),M21:0,M22:1})),i.leftMult(new a.noflashCore.Matrix2D({M11:e,M12:0,M21:0,M22:1})),g!=null?(this.style[g]="matrix("+i.val.M11+","+i.val.M21+","+i.val.M12+","+i.val.M22+",0,0)",this.style[h]="50% 50%"):this.style.filter!=null&&(this.style.filter='progid:DXImageTransform.Microsoft.Matrix(sizingMethod="auto expand", M11 = '+i.val.M11+", M12 = "+i.val.M12+", M21 = "+i.val.M21+", M22 = "+i.val.M22+")",this.style.left=this._x+.5*(1-e)*this._w+"px")}),f.transition=="flip-tiles-vertical"&&(E.step=function(b,c){var e=2*(1-b)-1;e<0?(this._p1.style.visibility="visible",this._p2.style.visibility="hidden",e=-e):(this._p2.style.visibility="visible",this._p1.style.visibility="hidden"),e>1&&(e-=2*(e-1));var f=-(1-e)*2,i=new a.noflashCore.Matrix2D;i.leftMult(new a.noflashCore.Matrix2D({M11:1,M12:0,M21:Math.tan(f*d),M22:1})),i.leftMult(new a.noflashCore.Matrix2D({M11:1,M12:0,M21:0,M22:e})),g!=null?(this.style[g]="matrix("+i.val.M11+","+i.val.M21+","+i.val.M12+","+i.val.M22+",0,0)",this.style[h]="50% 50%"):this.style.filter!=null&&(this.style.filter='progid:DXImageTransform.Microsoft.Matrix(sizingMethod="auto expand", M11 = '+i.val.M11+", M12 = "+i.val.M12+", M21 = "+i.val.M21+", M22 = "+i.val.M22+")",this.style.top=this._y+.5*(1-e)*this._h+"px")});if(f.transition=="rotate-tiles"||f.transition=="rotate-tiles-reverse")E.step=function(b,c){var e=b,f=b*720%360*d;e>1&&(e-=2*(e-1)),e<0&&(e+=-2*e);var i=new a.noflashCore.Matrix2D,j=Math.cos(f),k=Math.sin(f);i.leftMult(new a.noflashCore.Matrix2D({M11:j,M12:-k,M21:k,M22:j})),i.leftMult(new a.noflashCore.Matrix2D({M11:e,M12:0,M21:0,M22:e}));if(g!=null)this.style[g]="matrix("+i.val.M11+","+i.val.M21+","+i.val.M12+","+i.val.M22+",0,0)",this.style[h]="50% 50%";else if(this.style.filter!=null){this.style.filter='progid:DXImageTransform.Microsoft.Matrix(sizingMethod="auto expand", M11 = '+i.val.M11+", M12 = "+i.val.M12+", M21 = "+i.val.M21+", M22 = "+i.val.M22+")";var l=this.clientHeight,m=this.clientWidth;this.style.left=this._x+.5*(m-this.offsetWidth)+"px",this.style.top=this._y+.5*(l-this.offsetHeight)+"px"}};y[e].piece.css(n.start).appendTo(p).delay(s.delays[e]*C).animate(n.animate,E),D=!D}},O=function(){w=!1,clearTimeout(v)},P=function(){w=!0,N("+1")},Q=function(){q.length>0&&N("+1")},R=function(){q.length>0&&N("-1")},S=function(){q.length>0&&w&&(v=setTimeout(function(){N("+1")},r[A[t]].delay*1e3))},T=function(){o.empty(),o.append(q[A[t]]),o.css({"z-index":2}),p.empty(),b.caption&&s[A[t]]!=null&&s[A[t]]!=""&&m.html(s[A[t]]).stop(!0,!0).show(),M=!1,S()};return J(),this}})(jQuery);